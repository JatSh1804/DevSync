function L5(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function PS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zD={exports:{}},kg={},UD={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zf=Symbol.for("react.element"),M5=Symbol.for("react.portal"),O5=Symbol.for("react.fragment"),A5=Symbol.for("react.strict_mode"),N5=Symbol.for("react.profiler"),I5=Symbol.for("react.provider"),j5=Symbol.for("react.context"),F5=Symbol.for("react.forward_ref"),B5=Symbol.for("react.suspense"),$5=Symbol.for("react.memo"),z5=Symbol.for("react.lazy"),jR=Symbol.iterator;function U5(e){return e===null||typeof e!="object"?null:(e=jR&&e[jR]||e["@@iterator"],typeof e=="function"?e:null)}var VD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HD=Object.assign,WD={};function wu(e,t,n){this.props=e,this.context=t,this.refs=WD,this.updater=n||VD}wu.prototype.isReactComponent={};wu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function KD(){}KD.prototype=wu.prototype;function kS(e,t,n){this.props=e,this.context=t,this.refs=WD,this.updater=n||VD}var DS=kS.prototype=new KD;DS.constructor=kS;HD(DS,wu.prototype);DS.isPureReactComponent=!0;var FR=Array.isArray,GD=Object.prototype.hasOwnProperty,LS={current:null},qD={key:!0,ref:!0,__self:!0,__source:!0};function YD(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)GD.call(t,r)&&!qD.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var u=Array(c),p=0;p<c;p++)u[p]=arguments[p+2];i.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:zf,type:e,key:o,ref:a,props:i,_owner:LS.current}}function V5(e,t){return{$$typeof:zf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function MS(e){return typeof e=="object"&&e!==null&&e.$$typeof===zf}function H5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var BR=/\/+/g;function Qy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?H5(""+e.key):t.toString(36)}function Jh(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case zf:case M5:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Qy(a,0):r,FR(i)?(n="",e!=null&&(n=e.replace(BR,"$&/")+"/"),Jh(i,t,n,"",function(p){return p})):i!=null&&(MS(i)&&(i=V5(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(BR,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",FR(e))for(var c=0;c<e.length;c++){o=e[c];var u=r+Qy(o,c);a+=Jh(o,t,n,u,i)}else if(u=U5(e),typeof u=="function")for(e=u.call(e),c=0;!(o=e.next()).done;)o=o.value,u=r+Qy(o,c++),a+=Jh(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function eh(e,t,n){if(e==null)return e;var r=[],i=0;return Jh(e,r,"","",function(o){return t.call(n,o,i++)}),r}function W5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mr={current:null},em={transition:null},K5={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:em,ReactCurrentOwner:LS};function XD(){throw Error("act(...) is not supported in production builds of React.")}mt.Children={map:eh,forEach:function(e,t,n){eh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return eh(e,function(){t++}),t},toArray:function(e){return eh(e,function(t){return t})||[]},only:function(e){if(!MS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};mt.Component=wu;mt.Fragment=O5;mt.Profiler=N5;mt.PureComponent=kS;mt.StrictMode=A5;mt.Suspense=B5;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K5;mt.act=XD;mt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=HD({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=LS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)GD.call(t,u)&&!qD.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var p=0;p<u;p++)c[p]=arguments[p+2];r.children=c}return{$$typeof:zf,type:e.type,key:i,ref:o,props:r,_owner:a}};mt.createContext=function(e){return e={$$typeof:j5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I5,_context:e},e.Consumer=e};mt.createElement=YD;mt.createFactory=function(e){var t=YD.bind(null,e);return t.type=e,t};mt.createRef=function(){return{current:null}};mt.forwardRef=function(e){return{$$typeof:F5,render:e}};mt.isValidElement=MS;mt.lazy=function(e){return{$$typeof:z5,_payload:{_status:-1,_result:e},_init:W5}};mt.memo=function(e,t){return{$$typeof:$5,type:e,compare:t===void 0?null:t}};mt.startTransition=function(e){var t=em.transition;em.transition={};try{e()}finally{em.transition=t}};mt.unstable_act=XD;mt.useCallback=function(e,t){return mr.current.useCallback(e,t)};mt.useContext=function(e){return mr.current.useContext(e)};mt.useDebugValue=function(){};mt.useDeferredValue=function(e){return mr.current.useDeferredValue(e)};mt.useEffect=function(e,t){return mr.current.useEffect(e,t)};mt.useId=function(){return mr.current.useId()};mt.useImperativeHandle=function(e,t,n){return mr.current.useImperativeHandle(e,t,n)};mt.useInsertionEffect=function(e,t){return mr.current.useInsertionEffect(e,t)};mt.useLayoutEffect=function(e,t){return mr.current.useLayoutEffect(e,t)};mt.useMemo=function(e,t){return mr.current.useMemo(e,t)};mt.useReducer=function(e,t,n){return mr.current.useReducer(e,t,n)};mt.useRef=function(e){return mr.current.useRef(e)};mt.useState=function(e){return mr.current.useState(e)};mt.useSyncExternalStore=function(e,t,n){return mr.current.useSyncExternalStore(e,t,n)};mt.useTransition=function(){return mr.current.useTransition()};mt.version="18.3.1";UD.exports=mt;var x=UD.exports;const bn=PS(x),Dg=L5({__proto__:null,default:bn},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G5=x,q5=Symbol.for("react.element"),Y5=Symbol.for("react.fragment"),X5=Object.prototype.hasOwnProperty,Q5=G5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z5={key:!0,ref:!0,__self:!0,__source:!0};function QD(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)X5.call(t,r)&&!Z5.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:q5,type:e,key:o,ref:a,props:i,_owner:Q5.current}}kg.Fragment=Y5;kg.jsx=QD;kg.jsxs=QD;zD.exports=kg;var C=zD.exports,ZD={exports:{}},Hr={},JD={exports:{}},eL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,j){var K=I.length;I.push(j);e:for(;0<K;){var Z=K-1>>>1,xe=I[Z];if(0<i(xe,j))I[Z]=j,I[K]=xe,K=Z;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var j=I[0],K=I.pop();if(K!==j){I[0]=K;e:for(var Z=0,xe=I.length,ae=xe>>>1;Z<ae;){var pe=2*(Z+1)-1,we=I[pe],se=pe+1,ee=I[se];if(0>i(we,K))se<xe&&0>i(ee,we)?(I[Z]=ee,I[se]=K,Z=se):(I[Z]=we,I[pe]=K,Z=pe);else if(se<xe&&0>i(ee,K))I[Z]=ee,I[se]=K,Z=se;else break e}}return j}function i(I,j){var K=I.sortIndex-j.sortIndex;return K!==0?K:I.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var u=[],p=[],h=1,g=null,v=3,w=!1,S=!1,b=!1,P=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(I){for(var j=n(p);j!==null;){if(j.callback===null)r(p);else if(j.startTime<=I)r(p),j.sortIndex=j.expirationTime,t(u,j);else break;j=n(p)}}function E(I){if(b=!1,k(I),!S)if(n(u)!==null)S=!0,X(N);else{var j=n(p);j!==null&&oe(E,j.startTime-I)}}function N(I,j){S=!1,b&&(b=!1,R(U),U=-1),w=!0;var K=v;try{for(k(j),g=n(u);g!==null&&(!(g.expirationTime>j)||I&&!ie());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,v=g.priorityLevel;var xe=Z(g.expirationTime<=j);j=e.unstable_now(),typeof xe=="function"?g.callback=xe:g===n(u)&&r(u),k(j)}else r(u);g=n(u)}if(g!==null)var ae=!0;else{var pe=n(p);pe!==null&&oe(E,pe.startTime-j),ae=!1}return ae}finally{g=null,v=K,w=!1}}var F=!1,B=null,U=-1,G=5,Q=-1;function ie(){return!(e.unstable_now()-Q<G)}function Y(){if(B!==null){var I=e.unstable_now();Q=I;var j=!0;try{j=B(!0,I)}finally{j?z():(F=!1,B=null)}}else F=!1}var z;if(typeof _=="function")z=function(){_(Y)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,O=V.port2;V.port1.onmessage=Y,z=function(){O.postMessage(null)}}else z=function(){P(Y,0)};function X(I){B=I,F||(F=!0,z())}function oe(I,j){U=P(function(){I(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){S||w||(S=!0,X(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(I){switch(v){case 1:case 2:case 3:var j=3;break;default:j=v}var K=v;v=j;try{return I()}finally{v=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,j){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var K=v;v=I;try{return j()}finally{v=K}},e.unstable_scheduleCallback=function(I,j,K){var Z=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Z+K:Z):K=Z,I){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=K+xe,I={id:h++,callback:j,priorityLevel:I,startTime:K,expirationTime:xe,sortIndex:-1},K>Z?(I.sortIndex=K,t(p,I),n(u)===null&&I===n(p)&&(b?(R(U),U=-1):b=!0,oe(E,K-Z))):(I.sortIndex=xe,t(u,I),S||w||(S=!0,X(N))),I},e.unstable_shouldYield=ie,e.unstable_wrapCallback=function(I){var j=v;return function(){var K=v;v=j;try{return I.apply(this,arguments)}finally{v=K}}}})(eL);JD.exports=eL;var J5=JD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tL=x,zr=J5;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nL=new Set,lf={};function sl(e,t){eu(e,t),eu(e+"Capture",t)}function eu(e,t){for(lf[e]=t,e=0;e<t.length;e++)nL.add(t[e])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),R0=Object.prototype.hasOwnProperty,eB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$R={},zR={};function tB(e){return R0.call(zR,e)?!0:R0.call($R,e)?!1:eB.test(e)?zR[e]=!0:($R[e]=!0,!1)}function nB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rB(e,t,n,r){if(t===null||typeof t>"u"||nB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gr(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qn[e]=new gr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qn[t]=new gr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qn[e]=new gr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qn[e]=new gr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qn[e]=new gr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qn[e]=new gr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qn[e]=new gr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qn[e]=new gr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qn[e]=new gr(e,5,!1,e.toLowerCase(),null,!1,!1)});var OS=/[\-:]([a-z])/g;function AS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(OS,AS);Qn[t]=new gr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(OS,AS);Qn[t]=new gr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(OS,AS);Qn[t]=new gr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qn[e]=new gr(e,1,!1,e.toLowerCase(),null,!1,!1)});Qn.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qn[e]=new gr(e,1,!1,e.toLowerCase(),null,!0,!0)});function NS(e,t,n,r){var i=Qn.hasOwnProperty(t)?Qn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rB(t,n,i,r)&&(n=null),r||i===null?tB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Zs=tL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,th=Symbol.for("react.element"),wc=Symbol.for("react.portal"),bc=Symbol.for("react.fragment"),IS=Symbol.for("react.strict_mode"),T0=Symbol.for("react.profiler"),rL=Symbol.for("react.provider"),iL=Symbol.for("react.context"),jS=Symbol.for("react.forward_ref"),E0=Symbol.for("react.suspense"),P0=Symbol.for("react.suspense_list"),FS=Symbol.for("react.memo"),Eo=Symbol.for("react.lazy"),sL=Symbol.for("react.offscreen"),UR=Symbol.iterator;function pd(e){return e===null||typeof e!="object"?null:(e=UR&&e[UR]||e["@@iterator"],typeof e=="function"?e:null)}var tn=Object.assign,Zy;function Od(e){if(Zy===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zy=t&&t[1]||""}return`
`+Zy+e}var Jy=!1;function ew(e,t){if(!e||Jy)return"";Jy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,c=o.length-1;1<=a&&0<=c&&i[a]!==o[c];)c--;for(;1<=a&&0<=c;a--,c--)if(i[a]!==o[c]){if(a!==1||c!==1)do if(a--,c--,0>c||i[a]!==o[c]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=c);break}}}finally{Jy=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Od(e):""}function iB(e){switch(e.tag){case 5:return Od(e.type);case 16:return Od("Lazy");case 13:return Od("Suspense");case 19:return Od("SuspenseList");case 0:case 2:case 15:return e=ew(e.type,!1),e;case 11:return e=ew(e.type.render,!1),e;case 1:return e=ew(e.type,!0),e;default:return""}}function k0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bc:return"Fragment";case wc:return"Portal";case T0:return"Profiler";case IS:return"StrictMode";case E0:return"Suspense";case P0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iL:return(e.displayName||"Context")+".Consumer";case rL:return(e._context.displayName||"Context")+".Provider";case jS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case FS:return t=e.displayName||null,t!==null?t:k0(e.type)||"Memo";case Eo:t=e._payload,e=e._init;try{return k0(e(t))}catch{}}return null}function sB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k0(t);case 8:return t===IS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oL(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oB(e){var t=oL(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nh(e){e._valueTracker||(e._valueTracker=oB(e))}function aL(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=oL(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Dm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function D0(e,t){var n=t.checked;return tn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function VR(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Yo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lL(e,t){t=t.checked,t!=null&&NS(e,"checked",t,!1)}function L0(e,t){lL(e,t);var n=Yo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?M0(e,t.type,n):t.hasOwnProperty("defaultValue")&&M0(e,t.type,Yo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function HR(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function M0(e,t,n){(t!=="number"||Dm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ad=Array.isArray;function Ic(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function O0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return tn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function WR(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_e(92));if(Ad(n)){if(1<n.length)throw Error(_e(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yo(n)}}function cL(e,t){var n=Yo(t.value),r=Yo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function KR(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uL(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uL(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rh,dL=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rh=rh||document.createElement("div"),rh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function cf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aB=["Webkit","ms","Moz","O"];Object.keys(Hd).forEach(function(e){aB.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hd[t]=Hd[e]})});function fL(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hd.hasOwnProperty(e)&&Hd[e]?(""+t).trim():t+"px"}function pL(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=fL(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var lB=tn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function N0(e,t){if(t){if(lB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function I0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j0=null;function BS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var F0=null,jc=null,Fc=null;function GR(e){if(e=Hf(e)){if(typeof F0!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=Ng(t),F0(e.stateNode,e.type,t))}}function hL(e){jc?Fc?Fc.push(e):Fc=[e]:jc=e}function mL(){if(jc){var e=jc,t=Fc;if(Fc=jc=null,GR(e),t)for(e=0;e<t.length;e++)GR(t[e])}}function gL(e,t){return e(t)}function vL(){}var tw=!1;function yL(e,t,n){if(tw)return e(t,n);tw=!0;try{return gL(e,t,n)}finally{tw=!1,(jc!==null||Fc!==null)&&(vL(),mL())}}function uf(e,t){var n=e.stateNode;if(n===null)return null;var r=Ng(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_e(231,t,typeof n));return n}var B0=!1;if(zs)try{var hd={};Object.defineProperty(hd,"passive",{get:function(){B0=!0}}),window.addEventListener("test",hd,hd),window.removeEventListener("test",hd,hd)}catch{B0=!1}function cB(e,t,n,r,i,o,a,c,u){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(h){this.onError(h)}}var Wd=!1,Lm=null,Mm=!1,$0=null,uB={onError:function(e){Wd=!0,Lm=e}};function dB(e,t,n,r,i,o,a,c,u){Wd=!1,Lm=null,cB.apply(uB,arguments)}function fB(e,t,n,r,i,o,a,c,u){if(dB.apply(this,arguments),Wd){if(Wd){var p=Lm;Wd=!1,Lm=null}else throw Error(_e(198));Mm||(Mm=!0,$0=p)}}function ol(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qR(e){if(ol(e)!==e)throw Error(_e(188))}function pB(e){var t=e.alternate;if(!t){if(t=ol(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qR(i),e;if(o===r)return qR(i),t;o=o.sibling}throw Error(_e(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(_e(189))}}if(n.alternate!==r)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?e:t}function bL(e){return e=pB(e),e!==null?SL(e):null}function SL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=SL(e);if(t!==null)return t;e=e.sibling}return null}var xL=zr.unstable_scheduleCallback,YR=zr.unstable_cancelCallback,hB=zr.unstable_shouldYield,mB=zr.unstable_requestPaint,hn=zr.unstable_now,gB=zr.unstable_getCurrentPriorityLevel,$S=zr.unstable_ImmediatePriority,_L=zr.unstable_UserBlockingPriority,Om=zr.unstable_NormalPriority,vB=zr.unstable_LowPriority,CL=zr.unstable_IdlePriority,Lg=null,ns=null;function yB(e){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(Lg,e,void 0,(e.current.flags&128)===128)}catch{}}var Ei=Math.clz32?Math.clz32:SB,wB=Math.log,bB=Math.LN2;function SB(e){return e>>>=0,e===0?32:31-(wB(e)/bB|0)|0}var ih=64,sh=4194304;function Nd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Am(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var c=a&~i;c!==0?r=Nd(c):(o&=a,o!==0&&(r=Nd(o)))}else a=n&~i,a!==0?r=Nd(a):o!==0&&(r=Nd(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ei(t),i=1<<n,r|=e[n],t&=~i;return r}function xB(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _B(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Ei(o),c=1<<a,u=i[a];u===-1?(!(c&n)||c&r)&&(i[a]=xB(c,t)):u<=t&&(e.expiredLanes|=c),o&=~c}}function z0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function RL(){var e=ih;return ih<<=1,!(ih&4194240)&&(ih=64),e}function nw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Uf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ei(t),e[t]=n}function CB(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ei(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function zS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ei(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ot=0;function TL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var EL,US,PL,kL,DL,U0=!1,oh=[],jo=null,Fo=null,Bo=null,df=new Map,ff=new Map,Do=[],RB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XR(e,t){switch(e){case"focusin":case"focusout":jo=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":df.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ff.delete(t.pointerId)}}function md(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Hf(t),t!==null&&US(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function TB(e,t,n,r,i){switch(t){case"focusin":return jo=md(jo,e,t,n,r,i),!0;case"dragenter":return Fo=md(Fo,e,t,n,r,i),!0;case"mouseover":return Bo=md(Bo,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return df.set(o,md(df.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ff.set(o,md(ff.get(o)||null,e,t,n,r,i)),!0}return!1}function LL(e){var t=ja(e.target);if(t!==null){var n=ol(t);if(n!==null){if(t=n.tag,t===13){if(t=wL(n),t!==null){e.blockedOn=t,DL(e.priority,function(){PL(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=V0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);j0=r,n.target.dispatchEvent(r),j0=null}else return t=Hf(n),t!==null&&US(t),e.blockedOn=n,!1;t.shift()}return!0}function QR(e,t,n){tm(e)&&n.delete(t)}function EB(){U0=!1,jo!==null&&tm(jo)&&(jo=null),Fo!==null&&tm(Fo)&&(Fo=null),Bo!==null&&tm(Bo)&&(Bo=null),df.forEach(QR),ff.forEach(QR)}function gd(e,t){e.blockedOn===t&&(e.blockedOn=null,U0||(U0=!0,zr.unstable_scheduleCallback(zr.unstable_NormalPriority,EB)))}function pf(e){function t(i){return gd(i,e)}if(0<oh.length){gd(oh[0],e);for(var n=1;n<oh.length;n++){var r=oh[n];r.blockedOn===e&&(r.blockedOn=null)}}for(jo!==null&&gd(jo,e),Fo!==null&&gd(Fo,e),Bo!==null&&gd(Bo,e),df.forEach(t),ff.forEach(t),n=0;n<Do.length;n++)r=Do[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Do.length&&(n=Do[0],n.blockedOn===null);)LL(n),n.blockedOn===null&&Do.shift()}var Bc=Zs.ReactCurrentBatchConfig,Nm=!0;function PB(e,t,n,r){var i=Ot,o=Bc.transition;Bc.transition=null;try{Ot=1,VS(e,t,n,r)}finally{Ot=i,Bc.transition=o}}function kB(e,t,n,r){var i=Ot,o=Bc.transition;Bc.transition=null;try{Ot=4,VS(e,t,n,r)}finally{Ot=i,Bc.transition=o}}function VS(e,t,n,r){if(Nm){var i=V0(e,t,n,r);if(i===null)fw(e,t,r,Im,n),XR(e,r);else if(TB(i,e,t,n,r))r.stopPropagation();else if(XR(e,r),t&4&&-1<RB.indexOf(e)){for(;i!==null;){var o=Hf(i);if(o!==null&&EL(o),o=V0(e,t,n,r),o===null&&fw(e,t,r,Im,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else fw(e,t,r,null,n)}}var Im=null;function V0(e,t,n,r){if(Im=null,e=BS(r),e=ja(e),e!==null)if(t=ol(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wL(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Im=e,null}function ML(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gB()){case $S:return 1;case _L:return 4;case Om:case vB:return 16;case CL:return 536870912;default:return 16}default:return 16}}var Ao=null,HS=null,nm=null;function OL(){if(nm)return nm;var e,t=HS,n=t.length,r,i="value"in Ao?Ao.value:Ao.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return nm=i.slice(e,1<r?1-r:void 0)}function rm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ah(){return!0}function ZR(){return!1}function Wr(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ah:ZR,this.isPropagationStopped=ZR,this}return tn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ah)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ah)},persist:function(){},isPersistent:ah}),t}var bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},WS=Wr(bu),Vf=tn({},bu,{view:0,detail:0}),DB=Wr(Vf),rw,iw,vd,Mg=tn({},Vf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:KS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vd&&(vd&&e.type==="mousemove"?(rw=e.screenX-vd.screenX,iw=e.screenY-vd.screenY):iw=rw=0,vd=e),rw)},movementY:function(e){return"movementY"in e?e.movementY:iw}}),JR=Wr(Mg),LB=tn({},Mg,{dataTransfer:0}),MB=Wr(LB),OB=tn({},Vf,{relatedTarget:0}),sw=Wr(OB),AB=tn({},bu,{animationName:0,elapsedTime:0,pseudoElement:0}),NB=Wr(AB),IB=tn({},bu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jB=Wr(IB),FB=tn({},bu,{data:0}),eT=Wr(FB),BB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$B={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zB[e])?!!t[e]:!1}function KS(){return UB}var VB=tn({},Vf,{key:function(e){if(e.key){var t=BB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$B[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:KS,charCode:function(e){return e.type==="keypress"?rm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HB=Wr(VB),WB=tn({},Mg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tT=Wr(WB),KB=tn({},Vf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:KS}),GB=Wr(KB),qB=tn({},bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),YB=Wr(qB),XB=tn({},Mg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),QB=Wr(XB),ZB=[9,13,27,32],GS=zs&&"CompositionEvent"in window,Kd=null;zs&&"documentMode"in document&&(Kd=document.documentMode);var JB=zs&&"TextEvent"in window&&!Kd,AL=zs&&(!GS||Kd&&8<Kd&&11>=Kd),nT=" ",rT=!1;function NL(e,t){switch(e){case"keyup":return ZB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IL(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sc=!1;function e$(e,t){switch(e){case"compositionend":return IL(t);case"keypress":return t.which!==32?null:(rT=!0,nT);case"textInput":return e=t.data,e===nT&&rT?null:e;default:return null}}function t$(e,t){if(Sc)return e==="compositionend"||!GS&&NL(e,t)?(e=OL(),nm=HS=Ao=null,Sc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AL&&t.locale!=="ko"?null:t.data;default:return null}}var n$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!n$[e.type]:t==="textarea"}function jL(e,t,n,r){hL(r),t=jm(t,"onChange"),0<t.length&&(n=new WS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gd=null,hf=null;function r$(e){qL(e,0)}function Og(e){var t=Cc(e);if(aL(t))return e}function i$(e,t){if(e==="change")return t}var FL=!1;if(zs){var ow;if(zs){var aw="oninput"in document;if(!aw){var sT=document.createElement("div");sT.setAttribute("oninput","return;"),aw=typeof sT.oninput=="function"}ow=aw}else ow=!1;FL=ow&&(!document.documentMode||9<document.documentMode)}function oT(){Gd&&(Gd.detachEvent("onpropertychange",BL),hf=Gd=null)}function BL(e){if(e.propertyName==="value"&&Og(hf)){var t=[];jL(t,hf,e,BS(e)),yL(r$,t)}}function s$(e,t,n){e==="focusin"?(oT(),Gd=t,hf=n,Gd.attachEvent("onpropertychange",BL)):e==="focusout"&&oT()}function o$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Og(hf)}function a$(e,t){if(e==="click")return Og(t)}function l$(e,t){if(e==="input"||e==="change")return Og(t)}function c$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Di=typeof Object.is=="function"?Object.is:c$;function mf(e,t){if(Di(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!R0.call(t,i)||!Di(e[i],t[i]))return!1}return!0}function aT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lT(e,t){var n=aT(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=aT(n)}}function $L(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$L(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zL(){for(var e=window,t=Dm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Dm(e.document)}return t}function qS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function u$(e){var t=zL(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$L(n.ownerDocument.documentElement,n)){if(r!==null&&qS(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lT(n,o);var a=lT(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var d$=zs&&"documentMode"in document&&11>=document.documentMode,xc=null,H0=null,qd=null,W0=!1;function cT(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;W0||xc==null||xc!==Dm(r)||(r=xc,"selectionStart"in r&&qS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qd&&mf(qd,r)||(qd=r,r=jm(H0,"onSelect"),0<r.length&&(t=new WS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xc)))}function lh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _c={animationend:lh("Animation","AnimationEnd"),animationiteration:lh("Animation","AnimationIteration"),animationstart:lh("Animation","AnimationStart"),transitionend:lh("Transition","TransitionEnd")},lw={},UL={};zs&&(UL=document.createElement("div").style,"AnimationEvent"in window||(delete _c.animationend.animation,delete _c.animationiteration.animation,delete _c.animationstart.animation),"TransitionEvent"in window||delete _c.transitionend.transition);function Ag(e){if(lw[e])return lw[e];if(!_c[e])return e;var t=_c[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in UL)return lw[e]=t[n];return e}var VL=Ag("animationend"),HL=Ag("animationiteration"),WL=Ag("animationstart"),KL=Ag("transitionend"),GL=new Map,uT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(e,t){GL.set(e,t),sl(t,[e])}for(var cw=0;cw<uT.length;cw++){var uw=uT[cw],f$=uw.toLowerCase(),p$=uw[0].toUpperCase()+uw.slice(1);sa(f$,"on"+p$)}sa(VL,"onAnimationEnd");sa(HL,"onAnimationIteration");sa(WL,"onAnimationStart");sa("dblclick","onDoubleClick");sa("focusin","onFocus");sa("focusout","onBlur");sa(KL,"onTransitionEnd");eu("onMouseEnter",["mouseout","mouseover"]);eu("onMouseLeave",["mouseout","mouseover"]);eu("onPointerEnter",["pointerout","pointerover"]);eu("onPointerLeave",["pointerout","pointerover"]);sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sl("onBeforeInput",["compositionend","keypress","textInput","paste"]);sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Id));function dT(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,fB(r,t,void 0,e),e.currentTarget=null}function qL(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var c=r[a],u=c.instance,p=c.currentTarget;if(c=c.listener,u!==o&&i.isPropagationStopped())break e;dT(i,c,p),o=u}else for(a=0;a<r.length;a++){if(c=r[a],u=c.instance,p=c.currentTarget,c=c.listener,u!==o&&i.isPropagationStopped())break e;dT(i,c,p),o=u}}}if(Mm)throw e=$0,Mm=!1,$0=null,e}function Vt(e,t){var n=t[X0];n===void 0&&(n=t[X0]=new Set);var r=e+"__bubble";n.has(r)||(YL(t,e,2,!1),n.add(r))}function dw(e,t,n){var r=0;t&&(r|=4),YL(n,e,r,t)}var ch="_reactListening"+Math.random().toString(36).slice(2);function gf(e){if(!e[ch]){e[ch]=!0,nL.forEach(function(n){n!=="selectionchange"&&(h$.has(n)||dw(n,!1,e),dw(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ch]||(t[ch]=!0,dw("selectionchange",!1,t))}}function YL(e,t,n,r){switch(ML(t)){case 1:var i=PB;break;case 4:i=kB;break;default:i=VS}n=i.bind(null,t,n,e),i=void 0,!B0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function fw(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;c!==null;){if(a=ja(c),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}c=c.parentNode}}r=r.return}yL(function(){var p=o,h=BS(n),g=[];e:{var v=GL.get(e);if(v!==void 0){var w=WS,S=e;switch(e){case"keypress":if(rm(n)===0)break e;case"keydown":case"keyup":w=HB;break;case"focusin":S="focus",w=sw;break;case"focusout":S="blur",w=sw;break;case"beforeblur":case"afterblur":w=sw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=JR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=MB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=GB;break;case VL:case HL:case WL:w=NB;break;case KL:w=YB;break;case"scroll":w=DB;break;case"wheel":w=QB;break;case"copy":case"cut":case"paste":w=jB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=tT}var b=(t&4)!==0,P=!b&&e==="scroll",R=b?v!==null?v+"Capture":null:v;b=[];for(var _=p,k;_!==null;){k=_;var E=k.stateNode;if(k.tag===5&&E!==null&&(k=E,R!==null&&(E=uf(_,R),E!=null&&b.push(vf(_,E,k)))),P)break;_=_.return}0<b.length&&(v=new w(v,S,null,n,h),g.push({event:v,listeners:b}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",v&&n!==j0&&(S=n.relatedTarget||n.fromElement)&&(ja(S)||S[Us]))break e;if((w||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,w?(S=n.relatedTarget||n.toElement,w=p,S=S?ja(S):null,S!==null&&(P=ol(S),S!==P||S.tag!==5&&S.tag!==6)&&(S=null)):(w=null,S=p),w!==S)){if(b=JR,E="onMouseLeave",R="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(b=tT,E="onPointerLeave",R="onPointerEnter",_="pointer"),P=w==null?v:Cc(w),k=S==null?v:Cc(S),v=new b(E,_+"leave",w,n,h),v.target=P,v.relatedTarget=k,E=null,ja(h)===p&&(b=new b(R,_+"enter",S,n,h),b.target=k,b.relatedTarget=P,E=b),P=E,w&&S)t:{for(b=w,R=S,_=0,k=b;k;k=$l(k))_++;for(k=0,E=R;E;E=$l(E))k++;for(;0<_-k;)b=$l(b),_--;for(;0<k-_;)R=$l(R),k--;for(;_--;){if(b===R||R!==null&&b===R.alternate)break t;b=$l(b),R=$l(R)}b=null}else b=null;w!==null&&fT(g,v,w,b,!1),S!==null&&P!==null&&fT(g,P,S,b,!0)}}e:{if(v=p?Cc(p):window,w=v.nodeName&&v.nodeName.toLowerCase(),w==="select"||w==="input"&&v.type==="file")var N=i$;else if(iT(v))if(FL)N=l$;else{N=o$;var F=s$}else(w=v.nodeName)&&w.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(N=a$);if(N&&(N=N(e,p))){jL(g,N,n,h);break e}F&&F(e,v,p),e==="focusout"&&(F=v._wrapperState)&&F.controlled&&v.type==="number"&&M0(v,"number",v.value)}switch(F=p?Cc(p):window,e){case"focusin":(iT(F)||F.contentEditable==="true")&&(xc=F,H0=p,qd=null);break;case"focusout":qd=H0=xc=null;break;case"mousedown":W0=!0;break;case"contextmenu":case"mouseup":case"dragend":W0=!1,cT(g,n,h);break;case"selectionchange":if(d$)break;case"keydown":case"keyup":cT(g,n,h)}var B;if(GS)e:{switch(e){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Sc?NL(e,n)&&(U="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(AL&&n.locale!=="ko"&&(Sc||U!=="onCompositionStart"?U==="onCompositionEnd"&&Sc&&(B=OL()):(Ao=h,HS="value"in Ao?Ao.value:Ao.textContent,Sc=!0)),F=jm(p,U),0<F.length&&(U=new eT(U,e,null,n,h),g.push({event:U,listeners:F}),B?U.data=B:(B=IL(n),B!==null&&(U.data=B)))),(B=JB?e$(e,n):t$(e,n))&&(p=jm(p,"onBeforeInput"),0<p.length&&(h=new eT("onBeforeInput","beforeinput",null,n,h),g.push({event:h,listeners:p}),h.data=B))}qL(g,t)})}function vf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=uf(e,n),o!=null&&r.unshift(vf(e,o,i)),o=uf(e,t),o!=null&&r.push(vf(e,o,i))),e=e.return}return r}function $l(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fT(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var c=n,u=c.alternate,p=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&p!==null&&(c=p,i?(u=uf(n,o),u!=null&&a.unshift(vf(n,u,c))):i||(u=uf(n,o),u!=null&&a.push(vf(n,u,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var m$=/\r\n?/g,g$=/\u0000|\uFFFD/g;function pT(e){return(typeof e=="string"?e:""+e).replace(m$,`
`).replace(g$,"")}function uh(e,t,n){if(t=pT(t),pT(e)!==t&&n)throw Error(_e(425))}function Fm(){}var K0=null,G0=null;function q0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Y0=typeof setTimeout=="function"?setTimeout:void 0,v$=typeof clearTimeout=="function"?clearTimeout:void 0,hT=typeof Promise=="function"?Promise:void 0,y$=typeof queueMicrotask=="function"?queueMicrotask:typeof hT<"u"?function(e){return hT.resolve(null).then(e).catch(w$)}:Y0;function w$(e){setTimeout(function(){throw e})}function pw(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),pf(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pf(t)}function $o(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Su=Math.random().toString(36).slice(2),es="__reactFiber$"+Su,yf="__reactProps$"+Su,Us="__reactContainer$"+Su,X0="__reactEvents$"+Su,b$="__reactListeners$"+Su,S$="__reactHandles$"+Su;function ja(e){var t=e[es];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Us]||n[es]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=mT(e);e!==null;){if(n=e[es])return n;e=mT(e)}return t}e=n,n=e.parentNode}return null}function Hf(e){return e=e[es]||e[Us],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function Ng(e){return e[yf]||null}var Q0=[],Rc=-1;function oa(e){return{current:e}}function Ht(e){0>Rc||(e.current=Q0[Rc],Q0[Rc]=null,Rc--)}function $t(e,t){Rc++,Q0[Rc]=e.current,e.current=t}var Xo={},sr=oa(Xo),Cr=oa(!1),qa=Xo;function tu(e,t){var n=e.type.contextTypes;if(!n)return Xo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rr(e){return e=e.childContextTypes,e!=null}function Bm(){Ht(Cr),Ht(sr)}function gT(e,t,n){if(sr.current!==Xo)throw Error(_e(168));$t(sr,t),$t(Cr,n)}function XL(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(_e(108,sB(e)||"Unknown",i));return tn({},n,r)}function $m(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xo,qa=sr.current,$t(sr,e),$t(Cr,Cr.current),!0}function vT(e,t,n){var r=e.stateNode;if(!r)throw Error(_e(169));n?(e=XL(e,t,qa),r.__reactInternalMemoizedMergedChildContext=e,Ht(Cr),Ht(sr),$t(sr,e)):Ht(Cr),$t(Cr,n)}var Ds=null,Ig=!1,hw=!1;function QL(e){Ds===null?Ds=[e]:Ds.push(e)}function x$(e){Ig=!0,QL(e)}function aa(){if(!hw&&Ds!==null){hw=!0;var e=0,t=Ot;try{var n=Ds;for(Ot=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ds=null,Ig=!1}catch(i){throw Ds!==null&&(Ds=Ds.slice(e+1)),xL($S,aa),i}finally{Ot=t,hw=!1}}return null}var Tc=[],Ec=0,zm=null,Um=0,Qr=[],Zr=0,Ya=null,Ms=1,Os="";function La(e,t){Tc[Ec++]=Um,Tc[Ec++]=zm,zm=e,Um=t}function ZL(e,t,n){Qr[Zr++]=Ms,Qr[Zr++]=Os,Qr[Zr++]=Ya,Ya=e;var r=Ms;e=Os;var i=32-Ei(r)-1;r&=~(1<<i),n+=1;var o=32-Ei(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ms=1<<32-Ei(t)+i|n<<i|r,Os=o+e}else Ms=1<<o|n<<i|r,Os=e}function YS(e){e.return!==null&&(La(e,1),ZL(e,1,0))}function XS(e){for(;e===zm;)zm=Tc[--Ec],Tc[Ec]=null,Um=Tc[--Ec],Tc[Ec]=null;for(;e===Ya;)Ya=Qr[--Zr],Qr[Zr]=null,Os=Qr[--Zr],Qr[Zr]=null,Ms=Qr[--Zr],Qr[Zr]=null}var Br=null,Ir=null,qt=!1,Ci=null;function JL(e,t){var n=ei(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yT(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Br=e,Ir=$o(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Br=e,Ir=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ya!==null?{id:Ms,overflow:Os}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ei(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Br=e,Ir=null,!0):!1;default:return!1}}function Z0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function J0(e){if(qt){var t=Ir;if(t){var n=t;if(!yT(e,t)){if(Z0(e))throw Error(_e(418));t=$o(n.nextSibling);var r=Br;t&&yT(e,t)?JL(r,n):(e.flags=e.flags&-4097|2,qt=!1,Br=e)}}else{if(Z0(e))throw Error(_e(418));e.flags=e.flags&-4097|2,qt=!1,Br=e}}}function wT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Br=e}function dh(e){if(e!==Br)return!1;if(!qt)return wT(e),qt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!q0(e.type,e.memoizedProps)),t&&(t=Ir)){if(Z0(e))throw eM(),Error(_e(418));for(;t;)JL(e,t),t=$o(t.nextSibling)}if(wT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ir=$o(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ir=null}}else Ir=Br?$o(e.stateNode.nextSibling):null;return!0}function eM(){for(var e=Ir;e;)e=$o(e.nextSibling)}function nu(){Ir=Br=null,qt=!1}function QS(e){Ci===null?Ci=[e]:Ci.push(e)}var _$=Zs.ReactCurrentBatchConfig;function Si(e,t){if(e&&e.defaultProps){t=tn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Vm=oa(null),Hm=null,Pc=null,ZS=null;function JS(){ZS=Pc=Hm=null}function ex(e){var t=Vm.current;Ht(Vm),e._currentValue=t}function eb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $c(e,t){Hm=e,ZS=Pc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_r=!0),e.firstContext=null)}function si(e){var t=e._currentValue;if(ZS!==e)if(e={context:e,memoizedValue:t,next:null},Pc===null){if(Hm===null)throw Error(_e(308));Pc=e,Hm.dependencies={lanes:0,firstContext:e}}else Pc=Pc.next=e;return t}var Fa=null;function tx(e){Fa===null?Fa=[e]:Fa.push(e)}function tM(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,tx(t)):(n.next=i.next,i.next=n),t.interleaved=n,Vs(e,r)}function Vs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Po=!1;function nx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ns(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ct&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Vs(e,n)}return i=r.interleaved,i===null?(t.next=t,tx(r)):(t.next=i.next,i.next=t),r.interleaved=t,Vs(e,n)}function im(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zS(e,n)}}function bT(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wm(e,t,n,r){var i=e.updateQueue;Po=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,p=u.next;u.next=null,a===null?o=p:a.next=p,a=u;var h=e.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==a&&(c===null?h.firstBaseUpdate=p:c.next=p,h.lastBaseUpdate=u))}if(o!==null){var g=i.baseState;a=0,h=p=u=null,c=o;do{var v=c.lane,w=c.eventTime;if((r&v)===v){h!==null&&(h=h.next={eventTime:w,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var S=e,b=c;switch(v=t,w=n,b.tag){case 1:if(S=b.payload,typeof S=="function"){g=S.call(w,g,v);break e}g=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=b.payload,v=typeof S=="function"?S.call(w,g,v):S,v==null)break e;g=tn({},g,v);break e;case 2:Po=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,v=i.effects,v===null?i.effects=[c]:v.push(c))}else w={eventTime:w,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(p=h=w,u=g):h=h.next=w,a|=v;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;v=c,c=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(h===null&&(u=g),i.baseState=u,i.firstBaseUpdate=p,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Qa|=a,e.lanes=a,e.memoizedState=g}}function ST(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_e(191,i));i.call(r)}}}var rM=new tL.Component().refs;function tb(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:tn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jg={isMounted:function(e){return(e=e._reactInternals)?ol(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hr(),i=Vo(e),o=Ns(r,i);o.payload=t,n!=null&&(o.callback=n),t=zo(e,o,i),t!==null&&(Pi(t,e,i,r),im(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hr(),i=Vo(e),o=Ns(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=zo(e,o,i),t!==null&&(Pi(t,e,i,r),im(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hr(),r=Vo(e),i=Ns(n,r);i.tag=2,t!=null&&(i.callback=t),t=zo(e,i,r),t!==null&&(Pi(t,e,r,n),im(t,e,r))}};function xT(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!mf(n,r)||!mf(i,o):!0}function iM(e,t,n){var r=!1,i=Xo,o=t.contextType;return typeof o=="object"&&o!==null?o=si(o):(i=Rr(t)?qa:sr.current,r=t.contextTypes,o=(r=r!=null)?tu(e,i):Xo),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _T(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jg.enqueueReplaceState(t,t.state,null)}function nb(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=rM,nx(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=si(o):(o=Rr(t)?qa:sr.current,i.context=tu(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(tb(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jg.enqueueReplaceState(i,i.state,null),Wm(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function yd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var r=n.stateNode}if(!r)throw Error(_e(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var c=i.refs;c===rM&&(c=i.refs={}),a===null?delete c[o]:c[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,e))}return e}function fh(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function CT(e){var t=e._init;return t(e._payload)}function sM(e){function t(R,_){if(e){var k=R.deletions;k===null?(R.deletions=[_],R.flags|=16):k.push(_)}}function n(R,_){if(!e)return null;for(;_!==null;)t(R,_),_=_.sibling;return null}function r(R,_){for(R=new Map;_!==null;)_.key!==null?R.set(_.key,_):R.set(_.index,_),_=_.sibling;return R}function i(R,_){return R=Ho(R,_),R.index=0,R.sibling=null,R}function o(R,_,k){return R.index=k,e?(k=R.alternate,k!==null?(k=k.index,k<_?(R.flags|=2,_):k):(R.flags|=2,_)):(R.flags|=1048576,_)}function a(R){return e&&R.alternate===null&&(R.flags|=2),R}function c(R,_,k,E){return _===null||_.tag!==6?(_=Sw(k,R.mode,E),_.return=R,_):(_=i(_,k),_.return=R,_)}function u(R,_,k,E){var N=k.type;return N===bc?h(R,_,k.props.children,E,k.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Eo&&CT(N)===_.type)?(E=i(_,k.props),E.ref=yd(R,_,k),E.return=R,E):(E=um(k.type,k.key,k.props,null,R.mode,E),E.ref=yd(R,_,k),E.return=R,E)}function p(R,_,k,E){return _===null||_.tag!==4||_.stateNode.containerInfo!==k.containerInfo||_.stateNode.implementation!==k.implementation?(_=xw(k,R.mode,E),_.return=R,_):(_=i(_,k.children||[]),_.return=R,_)}function h(R,_,k,E,N){return _===null||_.tag!==7?(_=Va(k,R.mode,E,N),_.return=R,_):(_=i(_,k),_.return=R,_)}function g(R,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Sw(""+_,R.mode,k),_.return=R,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case th:return k=um(_.type,_.key,_.props,null,R.mode,k),k.ref=yd(R,null,_),k.return=R,k;case wc:return _=xw(_,R.mode,k),_.return=R,_;case Eo:var E=_._init;return g(R,E(_._payload),k)}if(Ad(_)||pd(_))return _=Va(_,R.mode,k,null),_.return=R,_;fh(R,_)}return null}function v(R,_,k,E){var N=_!==null?_.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return N!==null?null:c(R,_,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case th:return k.key===N?u(R,_,k,E):null;case wc:return k.key===N?p(R,_,k,E):null;case Eo:return N=k._init,v(R,_,N(k._payload),E)}if(Ad(k)||pd(k))return N!==null?null:h(R,_,k,E,null);fh(R,k)}return null}function w(R,_,k,E,N){if(typeof E=="string"&&E!==""||typeof E=="number")return R=R.get(k)||null,c(_,R,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case th:return R=R.get(E.key===null?k:E.key)||null,u(_,R,E,N);case wc:return R=R.get(E.key===null?k:E.key)||null,p(_,R,E,N);case Eo:var F=E._init;return w(R,_,k,F(E._payload),N)}if(Ad(E)||pd(E))return R=R.get(k)||null,h(_,R,E,N,null);fh(_,E)}return null}function S(R,_,k,E){for(var N=null,F=null,B=_,U=_=0,G=null;B!==null&&U<k.length;U++){B.index>U?(G=B,B=null):G=B.sibling;var Q=v(R,B,k[U],E);if(Q===null){B===null&&(B=G);break}e&&B&&Q.alternate===null&&t(R,B),_=o(Q,_,U),F===null?N=Q:F.sibling=Q,F=Q,B=G}if(U===k.length)return n(R,B),qt&&La(R,U),N;if(B===null){for(;U<k.length;U++)B=g(R,k[U],E),B!==null&&(_=o(B,_,U),F===null?N=B:F.sibling=B,F=B);return qt&&La(R,U),N}for(B=r(R,B);U<k.length;U++)G=w(B,R,U,k[U],E),G!==null&&(e&&G.alternate!==null&&B.delete(G.key===null?U:G.key),_=o(G,_,U),F===null?N=G:F.sibling=G,F=G);return e&&B.forEach(function(ie){return t(R,ie)}),qt&&La(R,U),N}function b(R,_,k,E){var N=pd(k);if(typeof N!="function")throw Error(_e(150));if(k=N.call(k),k==null)throw Error(_e(151));for(var F=N=null,B=_,U=_=0,G=null,Q=k.next();B!==null&&!Q.done;U++,Q=k.next()){B.index>U?(G=B,B=null):G=B.sibling;var ie=v(R,B,Q.value,E);if(ie===null){B===null&&(B=G);break}e&&B&&ie.alternate===null&&t(R,B),_=o(ie,_,U),F===null?N=ie:F.sibling=ie,F=ie,B=G}if(Q.done)return n(R,B),qt&&La(R,U),N;if(B===null){for(;!Q.done;U++,Q=k.next())Q=g(R,Q.value,E),Q!==null&&(_=o(Q,_,U),F===null?N=Q:F.sibling=Q,F=Q);return qt&&La(R,U),N}for(B=r(R,B);!Q.done;U++,Q=k.next())Q=w(B,R,U,Q.value,E),Q!==null&&(e&&Q.alternate!==null&&B.delete(Q.key===null?U:Q.key),_=o(Q,_,U),F===null?N=Q:F.sibling=Q,F=Q);return e&&B.forEach(function(Y){return t(R,Y)}),qt&&La(R,U),N}function P(R,_,k,E){if(typeof k=="object"&&k!==null&&k.type===bc&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case th:e:{for(var N=k.key,F=_;F!==null;){if(F.key===N){if(N=k.type,N===bc){if(F.tag===7){n(R,F.sibling),_=i(F,k.props.children),_.return=R,R=_;break e}}else if(F.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Eo&&CT(N)===F.type){n(R,F.sibling),_=i(F,k.props),_.ref=yd(R,F,k),_.return=R,R=_;break e}n(R,F);break}else t(R,F);F=F.sibling}k.type===bc?(_=Va(k.props.children,R.mode,E,k.key),_.return=R,R=_):(E=um(k.type,k.key,k.props,null,R.mode,E),E.ref=yd(R,_,k),E.return=R,R=E)}return a(R);case wc:e:{for(F=k.key;_!==null;){if(_.key===F)if(_.tag===4&&_.stateNode.containerInfo===k.containerInfo&&_.stateNode.implementation===k.implementation){n(R,_.sibling),_=i(_,k.children||[]),_.return=R,R=_;break e}else{n(R,_);break}else t(R,_);_=_.sibling}_=xw(k,R.mode,E),_.return=R,R=_}return a(R);case Eo:return F=k._init,P(R,_,F(k._payload),E)}if(Ad(k))return S(R,_,k,E);if(pd(k))return b(R,_,k,E);fh(R,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,_!==null&&_.tag===6?(n(R,_.sibling),_=i(_,k),_.return=R,R=_):(n(R,_),_=Sw(k,R.mode,E),_.return=R,R=_),a(R)):n(R,_)}return P}var ru=sM(!0),oM=sM(!1),Wf={},rs=oa(Wf),wf=oa(Wf),bf=oa(Wf);function Ba(e){if(e===Wf)throw Error(_e(174));return e}function rx(e,t){switch($t(bf,t),$t(wf,e),$t(rs,Wf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:A0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=A0(t,e)}Ht(rs),$t(rs,t)}function iu(){Ht(rs),Ht(wf),Ht(bf)}function aM(e){Ba(bf.current);var t=Ba(rs.current),n=A0(t,e.type);t!==n&&($t(wf,e),$t(rs,n))}function ix(e){wf.current===e&&(Ht(rs),Ht(wf))}var Zt=oa(0);function Km(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mw=[];function sx(){for(var e=0;e<mw.length;e++)mw[e]._workInProgressVersionPrimary=null;mw.length=0}var sm=Zs.ReactCurrentDispatcher,gw=Zs.ReactCurrentBatchConfig,Xa=0,en=null,Fn=null,Un=null,Gm=!1,Yd=!1,Sf=0,C$=0;function tr(){throw Error(_e(321))}function ox(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Di(e[n],t[n]))return!1;return!0}function ax(e,t,n,r,i,o){if(Xa=o,en=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sm.current=e===null||e.memoizedState===null?P$:k$,e=n(r,i),Yd){o=0;do{if(Yd=!1,Sf=0,25<=o)throw Error(_e(301));o+=1,Un=Fn=null,t.updateQueue=null,sm.current=D$,e=n(r,i)}while(Yd)}if(sm.current=qm,t=Fn!==null&&Fn.next!==null,Xa=0,Un=Fn=en=null,Gm=!1,t)throw Error(_e(300));return e}function lx(){var e=Sf!==0;return Sf=0,e}function Zi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?en.memoizedState=Un=e:Un=Un.next=e,Un}function oi(){if(Fn===null){var e=en.alternate;e=e!==null?e.memoizedState:null}else e=Fn.next;var t=Un===null?en.memoizedState:Un.next;if(t!==null)Un=t,Fn=e;else{if(e===null)throw Error(_e(310));Fn=e,e={memoizedState:Fn.memoizedState,baseState:Fn.baseState,baseQueue:Fn.baseQueue,queue:Fn.queue,next:null},Un===null?en.memoizedState=Un=e:Un=Un.next=e}return Un}function xf(e,t){return typeof t=="function"?t(e):t}function vw(e){var t=oi(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=Fn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var c=a=null,u=null,p=o;do{var h=p.lane;if((Xa&h)===h)u!==null&&(u=u.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var g={lane:h,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};u===null?(c=u=g,a=r):u=u.next=g,en.lanes|=h,Qa|=h}p=p.next}while(p!==null&&p!==o);u===null?a=r:u.next=c,Di(r,t.memoizedState)||(_r=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,en.lanes|=o,Qa|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function yw(e){var t=oi(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Di(o,t.memoizedState)||(_r=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function lM(){}function cM(e,t){var n=en,r=oi(),i=t(),o=!Di(r.memoizedState,i);if(o&&(r.memoizedState=i,_r=!0),r=r.queue,cx(fM.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Un!==null&&Un.memoizedState.tag&1){if(n.flags|=2048,_f(9,dM.bind(null,n,r,i,t),void 0,null),Vn===null)throw Error(_e(349));Xa&30||uM(n,t,i)}return i}function uM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dM(e,t,n,r){t.value=n,t.getSnapshot=r,pM(t)&&hM(e)}function fM(e,t,n){return n(function(){pM(t)&&hM(e)})}function pM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Di(e,n)}catch{return!0}}function hM(e){var t=Vs(e,1);t!==null&&Pi(t,e,1,-1)}function RT(e){var t=Zi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xf,lastRenderedState:e},t.queue=e,e=e.dispatch=E$.bind(null,en,e),[t.memoizedState,e]}function _f(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=en.updateQueue,t===null?(t={lastEffect:null,stores:null},en.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function mM(){return oi().memoizedState}function om(e,t,n,r){var i=Zi();en.flags|=e,i.memoizedState=_f(1|t,n,void 0,r===void 0?null:r)}function Fg(e,t,n,r){var i=oi();r=r===void 0?null:r;var o=void 0;if(Fn!==null){var a=Fn.memoizedState;if(o=a.destroy,r!==null&&ox(r,a.deps)){i.memoizedState=_f(t,n,o,r);return}}en.flags|=e,i.memoizedState=_f(1|t,n,o,r)}function TT(e,t){return om(8390656,8,e,t)}function cx(e,t){return Fg(2048,8,e,t)}function gM(e,t){return Fg(4,2,e,t)}function vM(e,t){return Fg(4,4,e,t)}function yM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wM(e,t,n){return n=n!=null?n.concat([e]):null,Fg(4,4,yM.bind(null,t,e),n)}function ux(){}function bM(e,t){var n=oi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ox(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function SM(e,t){var n=oi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ox(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xM(e,t,n){return Xa&21?(Di(n,t)||(n=RL(),en.lanes|=n,Qa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_r=!0),e.memoizedState=n)}function R$(e,t){var n=Ot;Ot=n!==0&&4>n?n:4,e(!0);var r=gw.transition;gw.transition={};try{e(!1),t()}finally{Ot=n,gw.transition=r}}function _M(){return oi().memoizedState}function T$(e,t,n){var r=Vo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},CM(e))RM(t,n);else if(n=tM(e,t,n,r),n!==null){var i=hr();Pi(n,e,r,i),TM(n,t,r)}}function E$(e,t,n){var r=Vo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(CM(e))RM(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,c=o(a,n);if(i.hasEagerState=!0,i.eagerState=c,Di(c,a)){var u=t.interleaved;u===null?(i.next=i,tx(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=tM(e,t,i,r),n!==null&&(i=hr(),Pi(n,e,r,i),TM(n,t,r))}}function CM(e){var t=e.alternate;return e===en||t!==null&&t===en}function RM(e,t){Yd=Gm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function TM(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,zS(e,n)}}var qm={readContext:si,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},P$={readContext:si,useCallback:function(e,t){return Zi().memoizedState=[e,t===void 0?null:t],e},useContext:si,useEffect:TT,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,om(4194308,4,yM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return om(4194308,4,e,t)},useInsertionEffect:function(e,t){return om(4,2,e,t)},useMemo:function(e,t){var n=Zi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=T$.bind(null,en,e),[r.memoizedState,e]},useRef:function(e){var t=Zi();return e={current:e},t.memoizedState=e},useState:RT,useDebugValue:ux,useDeferredValue:function(e){return Zi().memoizedState=e},useTransition:function(){var e=RT(!1),t=e[0];return e=R$.bind(null,e[1]),Zi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=en,i=Zi();if(qt){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=t(),Vn===null)throw Error(_e(349));Xa&30||uM(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,TT(fM.bind(null,r,o,e),[e]),r.flags|=2048,_f(9,dM.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Zi(),t=Vn.identifierPrefix;if(qt){var n=Os,r=Ms;n=(r&~(1<<32-Ei(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=C$++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},k$={readContext:si,useCallback:bM,useContext:si,useEffect:cx,useImperativeHandle:wM,useInsertionEffect:gM,useLayoutEffect:vM,useMemo:SM,useReducer:vw,useRef:mM,useState:function(){return vw(xf)},useDebugValue:ux,useDeferredValue:function(e){var t=oi();return xM(t,Fn.memoizedState,e)},useTransition:function(){var e=vw(xf)[0],t=oi().memoizedState;return[e,t]},useMutableSource:lM,useSyncExternalStore:cM,useId:_M,unstable_isNewReconciler:!1},D$={readContext:si,useCallback:bM,useContext:si,useEffect:cx,useImperativeHandle:wM,useInsertionEffect:gM,useLayoutEffect:vM,useMemo:SM,useReducer:yw,useRef:mM,useState:function(){return yw(xf)},useDebugValue:ux,useDeferredValue:function(e){var t=oi();return Fn===null?t.memoizedState=e:xM(t,Fn.memoizedState,e)},useTransition:function(){var e=yw(xf)[0],t=oi().memoizedState;return[e,t]},useMutableSource:lM,useSyncExternalStore:cM,useId:_M,unstable_isNewReconciler:!1};function su(e,t){try{var n="",r=t;do n+=iB(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ww(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function rb(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var L$=typeof WeakMap=="function"?WeakMap:Map;function EM(e,t,n){n=Ns(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xm||(Xm=!0,pb=r),rb(e,t)},n}function PM(e,t,n){n=Ns(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rb(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){rb(e,t),typeof r!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function ET(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new L$;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=W$.bind(null,e,t,n),t.then(e,e))}function PT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kT(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ns(-1,1),t.tag=2,zo(n,t,1))),n.lanes|=1),e)}var M$=Zs.ReactCurrentOwner,_r=!1;function pr(e,t,n,r){t.child=e===null?oM(t,null,n,r):ru(t,e.child,n,r)}function DT(e,t,n,r,i){n=n.render;var o=t.ref;return $c(t,i),r=ax(e,t,n,r,o,i),n=lx(),e!==null&&!_r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i)):(qt&&n&&YS(t),t.flags|=1,pr(e,t,r,i),t.child)}function LT(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!yx(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,kM(e,t,o,r,i)):(e=um(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:mf,n(a,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,e=Ho(o,r),e.ref=t.ref,e.return=t,t.child=e}function kM(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(mf(o,r)&&e.ref===t.ref)if(_r=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(_r=!0);else return t.lanes=e.lanes,Hs(e,t,i)}return ib(e,t,n,r,i)}function DM(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Dc,Or),Or|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$t(Dc,Or),Or|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,$t(Dc,Or),Or|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,$t(Dc,Or),Or|=r;return pr(e,t,i,n),t.child}function LM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ib(e,t,n,r,i){var o=Rr(n)?qa:sr.current;return o=tu(t,o),$c(t,i),n=ax(e,t,n,r,o,i),r=lx(),e!==null&&!_r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i)):(qt&&r&&YS(t),t.flags|=1,pr(e,t,n,i),t.child)}function MT(e,t,n,r,i){if(Rr(n)){var o=!0;$m(t)}else o=!1;if($c(t,i),t.stateNode===null)am(e,t),iM(t,n,r),nb(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var u=a.context,p=n.contextType;typeof p=="object"&&p!==null?p=si(p):(p=Rr(n)?qa:sr.current,p=tu(t,p));var h=n.getDerivedStateFromProps,g=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||u!==p)&&_T(t,a,r,p),Po=!1;var v=t.memoizedState;a.state=v,Wm(t,r,a,i),u=t.memoizedState,c!==r||v!==u||Cr.current||Po?(typeof h=="function"&&(tb(t,n,h,r),u=t.memoizedState),(c=Po||xT(t,n,c,r,v,u,p))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=p,r=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,nM(e,t),c=t.memoizedProps,p=t.type===t.elementType?c:Si(t.type,c),a.props=p,g=t.pendingProps,v=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=si(u):(u=Rr(n)?qa:sr.current,u=tu(t,u));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==g||v!==u)&&_T(t,a,r,u),Po=!1,v=t.memoizedState,a.state=v,Wm(t,r,a,i);var S=t.memoizedState;c!==g||v!==S||Cr.current||Po?(typeof w=="function"&&(tb(t,n,w,r),S=t.memoizedState),(p=Po||xT(t,n,p,r,v,S,u)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,S,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,S,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),a.props=r,a.state=S,a.context=u,r=p):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),r=!1)}return sb(e,t,n,r,o,i)}function sb(e,t,n,r,i,o){LM(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&vT(t,n,!1),Hs(e,t,o);r=t.stateNode,M$.current=t;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ru(t,e.child,null,o),t.child=ru(t,null,c,o)):pr(e,t,c,o),t.memoizedState=r.state,i&&vT(t,n,!0),t.child}function MM(e){var t=e.stateNode;t.pendingContext?gT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gT(e,t.context,!1),rx(e,t.containerInfo)}function OT(e,t,n,r,i){return nu(),QS(i),t.flags|=256,pr(e,t,n,r),t.child}var ob={dehydrated:null,treeContext:null,retryLane:0};function ab(e){return{baseLanes:e,cachePool:null,transitions:null}}function OM(e,t,n){var r=t.pendingProps,i=Zt.current,o=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$t(Zt,i&1),e===null)return J0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=zg(a,r,0,null),e=Va(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ab(n),t.memoizedState=ob,e):dx(t,a));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return O$(e,t,a,r,c,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,c=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Ho(i,u),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=Ho(c,o):(o=Va(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?ab(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=ob,r}return o=e.child,e=o.sibling,r=Ho(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function dx(e,t){return t=zg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ph(e,t,n,r){return r!==null&&QS(r),ru(t,e.child,null,n),e=dx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function O$(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=ww(Error(_e(422))),ph(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=zg({mode:"visible",children:r.children},i,0,null),o=Va(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ru(t,e.child,null,a),t.child.memoizedState=ab(a),t.memoizedState=ob,o);if(!(t.mode&1))return ph(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(_e(419)),r=ww(o,r,void 0),ph(e,t,a,r)}if(c=(a&e.childLanes)!==0,_r||c){if(r=Vn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Vs(e,i),Pi(r,e,i,-1))}return vx(),r=ww(Error(_e(421))),ph(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=K$.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ir=$o(i.nextSibling),Br=t,qt=!0,Ci=null,e!==null&&(Qr[Zr++]=Ms,Qr[Zr++]=Os,Qr[Zr++]=Ya,Ms=e.id,Os=e.overflow,Ya=t),t=dx(t,r.children),t.flags|=4096,t)}function AT(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),eb(e.return,t,n)}function bw(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function AM(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(pr(e,t,r.children,n),r=Zt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&AT(e,n,t);else if(e.tag===19)AT(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($t(Zt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Km(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),bw(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Km(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}bw(t,!0,n,null,o);break;case"together":bw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function am(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,n=Ho(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ho(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function A$(e,t,n){switch(t.tag){case 3:MM(t),nu();break;case 5:aM(t);break;case 1:Rr(t.type)&&$m(t);break;case 4:rx(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;$t(Vm,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($t(Zt,Zt.current&1),t.flags|=128,null):n&t.child.childLanes?OM(e,t,n):($t(Zt,Zt.current&1),e=Hs(e,t,n),e!==null?e.sibling:null);$t(Zt,Zt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return AM(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(Zt,Zt.current),r)break;return null;case 22:case 23:return t.lanes=0,DM(e,t,n)}return Hs(e,t,n)}var NM,lb,IM,jM;NM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};lb=function(){};IM=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ba(rs.current);var o=null;switch(n){case"input":i=D0(e,i),r=D0(e,r),o=[];break;case"select":i=tn({},i,{value:void 0}),r=tn({},r,{value:void 0}),o=[];break;case"textarea":i=O0(e,i),r=O0(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Fm)}N0(n,r);var a;n=null;for(p in i)if(!r.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var c=i[p];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(lf.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in r){var u=r[p];if(c=i!=null?i[p]:void 0,r.hasOwnProperty(p)&&u!==c&&(u!=null||c!=null))if(p==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(p,n)),n=u;else p==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(o=o||[]).push(p,u)):p==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(p,""+u):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(lf.hasOwnProperty(p)?(u!=null&&p==="onScroll"&&Vt("scroll",e),o||c===u||(o=[])):(o=o||[]).push(p,u))}n&&(o=o||[]).push("style",n);var p=o;(t.updateQueue=p)&&(t.flags|=4)}};jM=function(e,t,n,r){n!==r&&(t.flags|=4)};function wd(e,t){if(!qt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function N$(e,t,n){var r=t.pendingProps;switch(XS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nr(t),null;case 1:return Rr(t.type)&&Bm(),nr(t),null;case 3:return r=t.stateNode,iu(),Ht(Cr),Ht(sr),sx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(dh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ci!==null&&(gb(Ci),Ci=null))),lb(e,t),nr(t),null;case 5:ix(t);var i=Ba(bf.current);if(n=t.type,e!==null&&t.stateNode!=null)IM(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_e(166));return nr(t),null}if(e=Ba(rs.current),dh(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[es]=t,r[yf]=o,e=(t.mode&1)!==0,n){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(i=0;i<Id.length;i++)Vt(Id[i],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":VR(r,o),Vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vt("invalid",r);break;case"textarea":WR(r,o),Vt("invalid",r)}N0(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&uh(r.textContent,c,e),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&uh(r.textContent,c,e),i=["children",""+c]):lf.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Vt("scroll",r)}switch(n){case"input":nh(r),HR(r,o,!0);break;case"textarea":nh(r),KR(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Fm)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uL(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[es]=t,e[yf]=r,NM(e,t,!1,!1),t.stateNode=e;e:{switch(a=I0(n,r),n){case"dialog":Vt("cancel",e),Vt("close",e),i=r;break;case"iframe":case"object":case"embed":Vt("load",e),i=r;break;case"video":case"audio":for(i=0;i<Id.length;i++)Vt(Id[i],e);i=r;break;case"source":Vt("error",e),i=r;break;case"img":case"image":case"link":Vt("error",e),Vt("load",e),i=r;break;case"details":Vt("toggle",e),i=r;break;case"input":VR(e,r),i=D0(e,r),Vt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=tn({},r,{value:void 0}),Vt("invalid",e);break;case"textarea":WR(e,r),i=O0(e,r),Vt("invalid",e);break;default:i=r}N0(n,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var u=c[o];o==="style"?pL(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&dL(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&cf(e,u):typeof u=="number"&&cf(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(lf.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Vt("scroll",e):u!=null&&NS(e,o,u,a))}switch(n){case"input":nh(e),HR(e,r,!1);break;case"textarea":nh(e),KR(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yo(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ic(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ic(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Fm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nr(t),null;case 6:if(e&&t.stateNode!=null)jM(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_e(166));if(n=Ba(bf.current),Ba(rs.current),dh(t)){if(r=t.stateNode,n=t.memoizedProps,r[es]=t,(o=r.nodeValue!==n)&&(e=Br,e!==null))switch(e.tag){case 3:uh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&uh(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[es]=t,t.stateNode=r}return nr(t),null;case 13:if(Ht(Zt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qt&&Ir!==null&&t.mode&1&&!(t.flags&128))eM(),nu(),t.flags|=98560,o=!1;else if(o=dh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(_e(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(_e(317));o[es]=t}else nu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nr(t),o=!1}else Ci!==null&&(gb(Ci),Ci=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Zt.current&1?Bn===0&&(Bn=3):vx())),t.updateQueue!==null&&(t.flags|=4),nr(t),null);case 4:return iu(),lb(e,t),e===null&&gf(t.stateNode.containerInfo),nr(t),null;case 10:return ex(t.type._context),nr(t),null;case 17:return Rr(t.type)&&Bm(),nr(t),null;case 19:if(Ht(Zt),o=t.memoizedState,o===null)return nr(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)wd(o,!1);else{if(Bn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Km(e),a!==null){for(t.flags|=128,wd(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $t(Zt,Zt.current&1|2),t.child}e=e.sibling}o.tail!==null&&hn()>ou&&(t.flags|=128,r=!0,wd(o,!1),t.lanes=4194304)}else{if(!r)if(e=Km(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wd(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!qt)return nr(t),null}else 2*hn()-o.renderingStartTime>ou&&n!==1073741824&&(t.flags|=128,r=!0,wd(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=hn(),t.sibling=null,n=Zt.current,$t(Zt,r?n&1|2:n&1),t):(nr(t),null);case 22:case 23:return gx(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Or&1073741824&&(nr(t),t.subtreeFlags&6&&(t.flags|=8192)):nr(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function I$(e,t){switch(XS(t),t.tag){case 1:return Rr(t.type)&&Bm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return iu(),Ht(Cr),Ht(sr),sx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ix(t),null;case 13:if(Ht(Zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));nu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ht(Zt),null;case 4:return iu(),null;case 10:return ex(t.type._context),null;case 22:case 23:return gx(),null;case 24:return null;default:return null}}var hh=!1,ir=!1,j$=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function kc(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){an(e,t,r)}else n.current=null}function cb(e,t,n){try{n()}catch(r){an(e,t,r)}}var NT=!1;function F$(e,t){if(K0=Nm,e=zL(),qS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,c=-1,u=-1,p=0,h=0,g=e,v=null;t:for(;;){for(var w;g!==n||i!==0&&g.nodeType!==3||(c=a+i),g!==o||r!==0&&g.nodeType!==3||(u=a+r),g.nodeType===3&&(a+=g.nodeValue.length),(w=g.firstChild)!==null;)v=g,g=w;for(;;){if(g===e)break t;if(v===n&&++p===i&&(c=a),v===o&&++h===r&&(u=a),(w=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=w}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(G0={focusedElem:e,selectionRange:n},Nm=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){t=Fe;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var b=S.memoizedProps,P=S.memoizedState,R=t.stateNode,_=R.getSnapshotBeforeUpdate(t.elementType===t.type?b:Si(t.type,b),P);R.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(E){an(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}return S=NT,NT=!1,S}function Xd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&cb(t,n,o)}i=i.next}while(i!==r)}}function Bg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ub(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function FM(e){var t=e.alternate;t!==null&&(e.alternate=null,FM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[yf],delete t[X0],delete t[b$],delete t[S$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function BM(e){return e.tag===5||e.tag===3||e.tag===4}function IT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||BM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function db(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fm));else if(r!==4&&(e=e.child,e!==null))for(db(e,t,n),e=e.sibling;e!==null;)db(e,t,n),e=e.sibling}function fb(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fb(e,t,n),e=e.sibling;e!==null;)fb(e,t,n),e=e.sibling}var qn=null,xi=!1;function mo(e,t,n){for(n=n.child;n!==null;)$M(e,t,n),n=n.sibling}function $M(e,t,n){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(Lg,n)}catch{}switch(n.tag){case 5:ir||kc(n,t);case 6:var r=qn,i=xi;qn=null,mo(e,t,n),qn=r,xi=i,qn!==null&&(xi?(e=qn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):qn.removeChild(n.stateNode));break;case 18:qn!==null&&(xi?(e=qn,n=n.stateNode,e.nodeType===8?pw(e.parentNode,n):e.nodeType===1&&pw(e,n),pf(e)):pw(qn,n.stateNode));break;case 4:r=qn,i=xi,qn=n.stateNode.containerInfo,xi=!0,mo(e,t,n),qn=r,xi=i;break;case 0:case 11:case 14:case 15:if(!ir&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&cb(n,t,a),i=i.next}while(i!==r)}mo(e,t,n);break;case 1:if(!ir&&(kc(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){an(n,t,c)}mo(e,t,n);break;case 21:mo(e,t,n);break;case 22:n.mode&1?(ir=(r=ir)||n.memoizedState!==null,mo(e,t,n),ir=r):mo(e,t,n);break;default:mo(e,t,n)}}function jT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new j$),t.forEach(function(r){var i=G$.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function bi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:qn=c.stateNode,xi=!1;break e;case 3:qn=c.stateNode.containerInfo,xi=!0;break e;case 4:qn=c.stateNode.containerInfo,xi=!0;break e}c=c.return}if(qn===null)throw Error(_e(160));$M(o,a,i),qn=null,xi=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(p){an(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zM(t,e),t=t.sibling}function zM(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bi(t,e),Ui(e),r&4){try{Xd(3,e,e.return),Bg(3,e)}catch(b){an(e,e.return,b)}try{Xd(5,e,e.return)}catch(b){an(e,e.return,b)}}break;case 1:bi(t,e),Ui(e),r&512&&n!==null&&kc(n,n.return);break;case 5:if(bi(t,e),Ui(e),r&512&&n!==null&&kc(n,n.return),e.flags&32){var i=e.stateNode;try{cf(i,"")}catch(b){an(e,e.return,b)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,c=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&lL(i,o),I0(c,a);var p=I0(c,o);for(a=0;a<u.length;a+=2){var h=u[a],g=u[a+1];h==="style"?pL(i,g):h==="dangerouslySetInnerHTML"?dL(i,g):h==="children"?cf(i,g):NS(i,h,g,p)}switch(c){case"input":L0(i,o);break;case"textarea":cL(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?Ic(i,!!o.multiple,w,!1):v!==!!o.multiple&&(o.defaultValue!=null?Ic(i,!!o.multiple,o.defaultValue,!0):Ic(i,!!o.multiple,o.multiple?[]:"",!1))}i[yf]=o}catch(b){an(e,e.return,b)}}break;case 6:if(bi(t,e),Ui(e),r&4){if(e.stateNode===null)throw Error(_e(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(b){an(e,e.return,b)}}break;case 3:if(bi(t,e),Ui(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pf(t.containerInfo)}catch(b){an(e,e.return,b)}break;case 4:bi(t,e),Ui(e);break;case 13:bi(t,e),Ui(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(hx=hn())),r&4&&jT(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(ir=(p=ir)||h,bi(t,e),ir=p):bi(t,e),Ui(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!h&&e.mode&1)for(Fe=e,h=e.child;h!==null;){for(g=Fe=h;Fe!==null;){switch(v=Fe,w=v.child,v.tag){case 0:case 11:case 14:case 15:Xd(4,v,v.return);break;case 1:kc(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){r=v,n=v.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(b){an(r,n,b)}}break;case 5:kc(v,v.return);break;case 22:if(v.memoizedState!==null){BT(g);continue}}w!==null?(w.return=v,Fe=w):BT(g)}h=h.sibling}e:for(h=null,g=e;;){if(g.tag===5){if(h===null){h=g;try{i=g.stateNode,p?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=g.stateNode,u=g.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=fL("display",a))}catch(b){an(e,e.return,b)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=p?"":g.memoizedProps}catch(b){an(e,e.return,b)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:bi(t,e),Ui(e),r&4&&jT(e);break;case 21:break;default:bi(t,e),Ui(e)}}function Ui(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(BM(n)){var r=n;break e}n=n.return}throw Error(_e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(cf(i,""),r.flags&=-33);var o=IT(e);fb(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,c=IT(e);db(e,c,a);break;default:throw Error(_e(161))}}catch(u){an(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function B$(e,t,n){Fe=e,UM(e)}function UM(e,t,n){for(var r=(e.mode&1)!==0;Fe!==null;){var i=Fe,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||hh;if(!a){var c=i.alternate,u=c!==null&&c.memoizedState!==null||ir;c=hh;var p=ir;if(hh=a,(ir=u)&&!p)for(Fe=i;Fe!==null;)a=Fe,u=a.child,a.tag===22&&a.memoizedState!==null?$T(i):u!==null?(u.return=a,Fe=u):$T(i);for(;o!==null;)Fe=o,UM(o),o=o.sibling;Fe=i,hh=c,ir=p}FT(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Fe=o):FT(e)}}function FT(e){for(;Fe!==null;){var t=Fe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ir||Bg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ir)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Si(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ST(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ST(t,a,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var h=p.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&pf(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}ir||t.flags&512&&ub(t)}catch(v){an(t,t.return,v)}}if(t===e){Fe=null;break}if(n=t.sibling,n!==null){n.return=t.return,Fe=n;break}Fe=t.return}}function BT(e){for(;Fe!==null;){var t=Fe;if(t===e){Fe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Fe=n;break}Fe=t.return}}function $T(e){for(;Fe!==null;){var t=Fe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Bg(4,t)}catch(u){an(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){an(t,i,u)}}var o=t.return;try{ub(t)}catch(u){an(t,o,u)}break;case 5:var a=t.return;try{ub(t)}catch(u){an(t,a,u)}}}catch(u){an(t,t.return,u)}if(t===e){Fe=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Fe=c;break}Fe=t.return}}var $$=Math.ceil,Ym=Zs.ReactCurrentDispatcher,fx=Zs.ReactCurrentOwner,ti=Zs.ReactCurrentBatchConfig,Ct=0,Vn=null,Sn=null,Xn=0,Or=0,Dc=oa(0),Bn=0,Cf=null,Qa=0,$g=0,px=0,Qd=null,xr=null,hx=0,ou=1/0,Ps=null,Xm=!1,pb=null,Uo=null,mh=!1,No=null,Qm=0,Zd=0,hb=null,lm=-1,cm=0;function hr(){return Ct&6?hn():lm!==-1?lm:lm=hn()}function Vo(e){return e.mode&1?Ct&2&&Xn!==0?Xn&-Xn:_$.transition!==null?(cm===0&&(cm=RL()),cm):(e=Ot,e!==0||(e=window.event,e=e===void 0?16:ML(e.type)),e):1}function Pi(e,t,n,r){if(50<Zd)throw Zd=0,hb=null,Error(_e(185));Uf(e,n,r),(!(Ct&2)||e!==Vn)&&(e===Vn&&(!(Ct&2)&&($g|=n),Bn===4&&Lo(e,Xn)),Tr(e,r),n===1&&Ct===0&&!(t.mode&1)&&(ou=hn()+500,Ig&&aa()))}function Tr(e,t){var n=e.callbackNode;_B(e,t);var r=Am(e,e===Vn?Xn:0);if(r===0)n!==null&&YR(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&YR(n),t===1)e.tag===0?x$(zT.bind(null,e)):QL(zT.bind(null,e)),y$(function(){!(Ct&6)&&aa()}),n=null;else{switch(TL(r)){case 1:n=$S;break;case 4:n=_L;break;case 16:n=Om;break;case 536870912:n=CL;break;default:n=Om}n=XM(n,VM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function VM(e,t){if(lm=-1,cm=0,Ct&6)throw Error(_e(327));var n=e.callbackNode;if(zc()&&e.callbackNode!==n)return null;var r=Am(e,e===Vn?Xn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Zm(e,r);else{t=r;var i=Ct;Ct|=2;var o=WM();(Vn!==e||Xn!==t)&&(Ps=null,ou=hn()+500,Ua(e,t));do try{V$();break}catch(c){HM(e,c)}while(!0);JS(),Ym.current=o,Ct=i,Sn!==null?t=0:(Vn=null,Xn=0,t=Bn)}if(t!==0){if(t===2&&(i=z0(e),i!==0&&(r=i,t=mb(e,i))),t===1)throw n=Cf,Ua(e,0),Lo(e,r),Tr(e,hn()),n;if(t===6)Lo(e,r);else{if(i=e.current.alternate,!(r&30)&&!z$(i)&&(t=Zm(e,r),t===2&&(o=z0(e),o!==0&&(r=o,t=mb(e,o))),t===1))throw n=Cf,Ua(e,0),Lo(e,r),Tr(e,hn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(_e(345));case 2:Ma(e,xr,Ps);break;case 3:if(Lo(e,r),(r&130023424)===r&&(t=hx+500-hn(),10<t)){if(Am(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){hr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Y0(Ma.bind(null,e,xr,Ps),t);break}Ma(e,xr,Ps);break;case 4:if(Lo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Ei(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=hn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$$(r/1960))-r,10<r){e.timeoutHandle=Y0(Ma.bind(null,e,xr,Ps),r);break}Ma(e,xr,Ps);break;case 5:Ma(e,xr,Ps);break;default:throw Error(_e(329))}}}return Tr(e,hn()),e.callbackNode===n?VM.bind(null,e):null}function mb(e,t){var n=Qd;return e.current.memoizedState.isDehydrated&&(Ua(e,t).flags|=256),e=Zm(e,t),e!==2&&(t=xr,xr=n,t!==null&&gb(t)),e}function gb(e){xr===null?xr=e:xr.push.apply(xr,e)}function z$(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Di(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lo(e,t){for(t&=~px,t&=~$g,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ei(t),r=1<<n;e[n]=-1,t&=~r}}function zT(e){if(Ct&6)throw Error(_e(327));zc();var t=Am(e,0);if(!(t&1))return Tr(e,hn()),null;var n=Zm(e,t);if(e.tag!==0&&n===2){var r=z0(e);r!==0&&(t=r,n=mb(e,r))}if(n===1)throw n=Cf,Ua(e,0),Lo(e,t),Tr(e,hn()),n;if(n===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ma(e,xr,Ps),Tr(e,hn()),null}function mx(e,t){var n=Ct;Ct|=1;try{return e(t)}finally{Ct=n,Ct===0&&(ou=hn()+500,Ig&&aa())}}function Za(e){No!==null&&No.tag===0&&!(Ct&6)&&zc();var t=Ct;Ct|=1;var n=ti.transition,r=Ot;try{if(ti.transition=null,Ot=1,e)return e()}finally{Ot=r,ti.transition=n,Ct=t,!(Ct&6)&&aa()}}function gx(){Or=Dc.current,Ht(Dc)}function Ua(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,v$(n)),Sn!==null)for(n=Sn.return;n!==null;){var r=n;switch(XS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bm();break;case 3:iu(),Ht(Cr),Ht(sr),sx();break;case 5:ix(r);break;case 4:iu();break;case 13:Ht(Zt);break;case 19:Ht(Zt);break;case 10:ex(r.type._context);break;case 22:case 23:gx()}n=n.return}if(Vn=e,Sn=e=Ho(e.current,null),Xn=Or=t,Bn=0,Cf=null,px=$g=Qa=0,xr=Qd=null,Fa!==null){for(t=0;t<Fa.length;t++)if(n=Fa[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Fa=null}return e}function HM(e,t){do{var n=Sn;try{if(JS(),sm.current=qm,Gm){for(var r=en.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gm=!1}if(Xa=0,Un=Fn=en=null,Yd=!1,Sf=0,fx.current=null,n===null||n.return===null){Bn=1,Cf=t,Sn=null;break}e:{var o=e,a=n.return,c=n,u=t;if(t=Xn,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var p=u,h=c,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var v=h.alternate;v?(h.updateQueue=v.updateQueue,h.memoizedState=v.memoizedState,h.lanes=v.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=PT(a);if(w!==null){w.flags&=-257,kT(w,a,c,o,t),w.mode&1&&ET(o,p,t),t=w,u=p;var S=t.updateQueue;if(S===null){var b=new Set;b.add(u),t.updateQueue=b}else S.add(u);break e}else{if(!(t&1)){ET(o,p,t),vx();break e}u=Error(_e(426))}}else if(qt&&c.mode&1){var P=PT(a);if(P!==null){!(P.flags&65536)&&(P.flags|=256),kT(P,a,c,o,t),QS(su(u,c));break e}}o=u=su(u,c),Bn!==4&&(Bn=2),Qd===null?Qd=[o]:Qd.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var R=EM(o,u,t);bT(o,R);break e;case 1:c=u;var _=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Uo===null||!Uo.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t;var E=PM(o,c,t);bT(o,E);break e}}o=o.return}while(o!==null)}GM(n)}catch(N){t=N,Sn===n&&n!==null&&(Sn=n=n.return);continue}break}while(!0)}function WM(){var e=Ym.current;return Ym.current=qm,e===null?qm:e}function vx(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),Vn===null||!(Qa&268435455)&&!($g&268435455)||Lo(Vn,Xn)}function Zm(e,t){var n=Ct;Ct|=2;var r=WM();(Vn!==e||Xn!==t)&&(Ps=null,Ua(e,t));do try{U$();break}catch(i){HM(e,i)}while(!0);if(JS(),Ct=n,Ym.current=r,Sn!==null)throw Error(_e(261));return Vn=null,Xn=0,Bn}function U$(){for(;Sn!==null;)KM(Sn)}function V$(){for(;Sn!==null&&!hB();)KM(Sn)}function KM(e){var t=YM(e.alternate,e,Or);e.memoizedProps=e.pendingProps,t===null?GM(e):Sn=t,fx.current=null}function GM(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=I$(n,t),n!==null){n.flags&=32767,Sn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Bn=6,Sn=null;return}}else if(n=N$(n,t,Or),n!==null){Sn=n;return}if(t=t.sibling,t!==null){Sn=t;return}Sn=t=e}while(t!==null);Bn===0&&(Bn=5)}function Ma(e,t,n){var r=Ot,i=ti.transition;try{ti.transition=null,Ot=1,H$(e,t,n,r)}finally{ti.transition=i,Ot=r}return null}function H$(e,t,n,r){do zc();while(No!==null);if(Ct&6)throw Error(_e(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(CB(e,o),e===Vn&&(Sn=Vn=null,Xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mh||(mh=!0,XM(Om,function(){return zc(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ti.transition,ti.transition=null;var a=Ot;Ot=1;var c=Ct;Ct|=4,fx.current=null,F$(e,n),zM(n,e),u$(G0),Nm=!!K0,G0=K0=null,e.current=n,B$(n),mB(),Ct=c,Ot=a,ti.transition=o}else e.current=n;if(mh&&(mh=!1,No=e,Qm=i),o=e.pendingLanes,o===0&&(Uo=null),yB(n.stateNode),Tr(e,hn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xm)throw Xm=!1,e=pb,pb=null,e;return Qm&1&&e.tag!==0&&zc(),o=e.pendingLanes,o&1?e===hb?Zd++:(Zd=0,hb=e):Zd=0,aa(),null}function zc(){if(No!==null){var e=TL(Qm),t=ti.transition,n=Ot;try{if(ti.transition=null,Ot=16>e?16:e,No===null)var r=!1;else{if(e=No,No=null,Qm=0,Ct&6)throw Error(_e(331));var i=Ct;for(Ct|=4,Fe=e.current;Fe!==null;){var o=Fe,a=o.child;if(Fe.flags&16){var c=o.deletions;if(c!==null){for(var u=0;u<c.length;u++){var p=c[u];for(Fe=p;Fe!==null;){var h=Fe;switch(h.tag){case 0:case 11:case 15:Xd(8,h,o)}var g=h.child;if(g!==null)g.return=h,Fe=g;else for(;Fe!==null;){h=Fe;var v=h.sibling,w=h.return;if(FM(h),h===p){Fe=null;break}if(v!==null){v.return=w,Fe=v;break}Fe=w}}}var S=o.alternate;if(S!==null){var b=S.child;if(b!==null){S.child=null;do{var P=b.sibling;b.sibling=null,b=P}while(b!==null)}}Fe=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Fe=a;else e:for(;Fe!==null;){if(o=Fe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xd(9,o,o.return)}var R=o.sibling;if(R!==null){R.return=o.return,Fe=R;break e}Fe=o.return}}var _=e.current;for(Fe=_;Fe!==null;){a=Fe;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,Fe=k;else e:for(a=_;Fe!==null;){if(c=Fe,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Bg(9,c)}}catch(N){an(c,c.return,N)}if(c===a){Fe=null;break e}var E=c.sibling;if(E!==null){E.return=c.return,Fe=E;break e}Fe=c.return}}if(Ct=i,aa(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(Lg,e)}catch{}r=!0}return r}finally{Ot=n,ti.transition=t}}return!1}function UT(e,t,n){t=su(n,t),t=EM(e,t,1),e=zo(e,t,1),t=hr(),e!==null&&(Uf(e,1,t),Tr(e,t))}function an(e,t,n){if(e.tag===3)UT(e,e,n);else for(;t!==null;){if(t.tag===3){UT(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Uo===null||!Uo.has(r))){e=su(n,e),e=PM(t,e,1),t=zo(t,e,1),e=hr(),t!==null&&(Uf(t,1,e),Tr(t,e));break}}t=t.return}}function W$(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=hr(),e.pingedLanes|=e.suspendedLanes&n,Vn===e&&(Xn&n)===n&&(Bn===4||Bn===3&&(Xn&130023424)===Xn&&500>hn()-hx?Ua(e,0):px|=n),Tr(e,t)}function qM(e,t){t===0&&(e.mode&1?(t=sh,sh<<=1,!(sh&130023424)&&(sh=4194304)):t=1);var n=hr();e=Vs(e,t),e!==null&&(Uf(e,t,n),Tr(e,n))}function K$(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qM(e,n)}function G$(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_e(314))}r!==null&&r.delete(t),qM(e,n)}var YM;YM=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Cr.current)_r=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _r=!1,A$(e,t,n);_r=!!(e.flags&131072)}else _r=!1,qt&&t.flags&1048576&&ZL(t,Um,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;am(e,t),e=t.pendingProps;var i=tu(t,sr.current);$c(t,n),i=ax(null,t,r,e,i,n);var o=lx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rr(r)?(o=!0,$m(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,nx(t),i.updater=jg,t.stateNode=i,i._reactInternals=t,nb(t,r,e,n),t=sb(null,t,r,!0,o,n)):(t.tag=0,qt&&o&&YS(t),pr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(am(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Y$(r),e=Si(r,e),i){case 0:t=ib(null,t,r,e,n);break e;case 1:t=MT(null,t,r,e,n);break e;case 11:t=DT(null,t,r,e,n);break e;case 14:t=LT(null,t,r,Si(r.type,e),n);break e}throw Error(_e(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Si(r,i),ib(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Si(r,i),MT(e,t,r,i,n);case 3:e:{if(MM(t),e===null)throw Error(_e(387));r=t.pendingProps,o=t.memoizedState,i=o.element,nM(e,t),Wm(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=su(Error(_e(423)),t),t=OT(e,t,r,n,i);break e}else if(r!==i){i=su(Error(_e(424)),t),t=OT(e,t,r,n,i);break e}else for(Ir=$o(t.stateNode.containerInfo.firstChild),Br=t,qt=!0,Ci=null,n=oM(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nu(),r===i){t=Hs(e,t,n);break e}pr(e,t,r,n)}t=t.child}return t;case 5:return aM(t),e===null&&J0(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,q0(r,i)?a=null:o!==null&&q0(r,o)&&(t.flags|=32),LM(e,t),pr(e,t,a,n),t.child;case 6:return e===null&&J0(t),null;case 13:return OM(e,t,n);case 4:return rx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ru(t,null,r,n):pr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Si(r,i),DT(e,t,r,i,n);case 7:return pr(e,t,t.pendingProps,n),t.child;case 8:return pr(e,t,t.pendingProps.children,n),t.child;case 12:return pr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,$t(Vm,r._currentValue),r._currentValue=a,o!==null)if(Di(o.value,a)){if(o.children===i.children&&!Cr.current){t=Hs(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){a=o.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Ns(-1,n&-n),u.tag=2;var p=o.updateQueue;if(p!==null){p=p.shared;var h=p.pending;h===null?u.next=u:(u.next=h.next,h.next=u),p.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),eb(o.return,n,t),c.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(_e(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),eb(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}pr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$c(t,n),i=si(i),r=r(i),t.flags|=1,pr(e,t,r,n),t.child;case 14:return r=t.type,i=Si(r,t.pendingProps),i=Si(r.type,i),LT(e,t,r,i,n);case 15:return kM(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Si(r,i),am(e,t),t.tag=1,Rr(r)?(e=!0,$m(t)):e=!1,$c(t,n),iM(t,r,i),nb(t,r,i,n),sb(null,t,r,!0,e,n);case 19:return AM(e,t,n);case 22:return DM(e,t,n)}throw Error(_e(156,t.tag))};function XM(e,t){return xL(e,t)}function q$(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(e,t,n,r){return new q$(e,t,n,r)}function yx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Y$(e){if(typeof e=="function")return yx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jS)return 11;if(e===FS)return 14}return 2}function Ho(e,t){var n=e.alternate;return n===null?(n=ei(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function um(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")yx(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case bc:return Va(n.children,i,o,t);case IS:a=8,i|=8;break;case T0:return e=ei(12,n,t,i|2),e.elementType=T0,e.lanes=o,e;case E0:return e=ei(13,n,t,i),e.elementType=E0,e.lanes=o,e;case P0:return e=ei(19,n,t,i),e.elementType=P0,e.lanes=o,e;case sL:return zg(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rL:a=10;break e;case iL:a=9;break e;case jS:a=11;break e;case FS:a=14;break e;case Eo:a=16,r=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=ei(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Va(e,t,n,r){return e=ei(7,e,r,t),e.lanes=n,e}function zg(e,t,n,r){return e=ei(22,e,r,t),e.elementType=sL,e.lanes=n,e.stateNode={isHidden:!1},e}function Sw(e,t,n){return e=ei(6,e,null,t),e.lanes=n,e}function xw(e,t,n){return t=ei(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function X$(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nw(0),this.expirationTimes=nw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wx(e,t,n,r,i,o,a,c,u){return e=new X$(e,t,n,c,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ei(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nx(o),e}function Q$(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function QM(e){if(!e)return Xo;e=e._reactInternals;e:{if(ol(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var n=e.type;if(Rr(n))return XL(e,n,t)}return t}function ZM(e,t,n,r,i,o,a,c,u){return e=wx(n,r,!0,e,i,o,a,c,u),e.context=QM(null),n=e.current,r=hr(),i=Vo(n),o=Ns(r,i),o.callback=t??null,zo(n,o,i),e.current.lanes=i,Uf(e,i,r),Tr(e,r),e}function Ug(e,t,n,r){var i=t.current,o=hr(),a=Vo(i);return n=QM(n),t.context===null?t.context=n:t.pendingContext=n,t=Ns(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zo(i,t,a),e!==null&&(Pi(e,i,a,o),im(e,i,a)),a}function Jm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function VT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bx(e,t){VT(e,t),(e=e.alternate)&&VT(e,t)}function Z$(){return null}var JM=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sx(e){this._internalRoot=e}Vg.prototype.render=Sx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));Ug(e,t,null,null)};Vg.prototype.unmount=Sx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Za(function(){Ug(null,e,null,null)}),t[Us]=null}};function Vg(e){this._internalRoot=e}Vg.prototype.unstable_scheduleHydration=function(e){if(e){var t=kL();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Do.length&&t!==0&&t<Do[n].priority;n++);Do.splice(n,0,e),n===0&&LL(e)}};function xx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function HT(){}function J$(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var p=Jm(a);o.call(p)}}var a=ZM(t,r,e,0,null,!1,!1,"",HT);return e._reactRootContainer=a,e[Us]=a.current,gf(e.nodeType===8?e.parentNode:e),Za(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var p=Jm(u);c.call(p)}}var u=wx(e,0,!1,null,null,!1,!1,"",HT);return e._reactRootContainer=u,e[Us]=u.current,gf(e.nodeType===8?e.parentNode:e),Za(function(){Ug(t,u,n,r)}),u}function Wg(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var c=i;i=function(){var u=Jm(a);c.call(u)}}Ug(t,a,e,i)}else a=J$(n,t,e,i,r);return Jm(a)}EL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Nd(t.pendingLanes);n!==0&&(zS(t,n|1),Tr(t,hn()),!(Ct&6)&&(ou=hn()+500,aa()))}break;case 13:Za(function(){var r=Vs(e,1);if(r!==null){var i=hr();Pi(r,e,1,i)}}),bx(e,1)}};US=function(e){if(e.tag===13){var t=Vs(e,134217728);if(t!==null){var n=hr();Pi(t,e,134217728,n)}bx(e,134217728)}};PL=function(e){if(e.tag===13){var t=Vo(e),n=Vs(e,t);if(n!==null){var r=hr();Pi(n,e,t,r)}bx(e,t)}};kL=function(){return Ot};DL=function(e,t){var n=Ot;try{return Ot=e,t()}finally{Ot=n}};F0=function(e,t,n){switch(t){case"input":if(L0(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ng(r);if(!i)throw Error(_e(90));aL(r),L0(r,i)}}}break;case"textarea":cL(e,n);break;case"select":t=n.value,t!=null&&Ic(e,!!n.multiple,t,!1)}};gL=mx;vL=Za;var e6={usingClientEntryPoint:!1,Events:[Hf,Cc,Ng,hL,mL,mx]},bd={findFiberByHostInstance:ja,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},t6={bundleType:bd.bundleType,version:bd.version,rendererPackageName:bd.rendererPackageName,rendererConfig:bd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bL(e),e===null?null:e.stateNode},findFiberByHostInstance:bd.findFiberByHostInstance||Z$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gh.isDisabled&&gh.supportsFiber)try{Lg=gh.inject(t6),ns=gh}catch{}}Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e6;Hr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xx(t))throw Error(_e(200));return Q$(e,t,null,n)};Hr.createRoot=function(e,t){if(!xx(e))throw Error(_e(299));var n=!1,r="",i=JM;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=wx(e,1,!1,null,null,n,!1,r,i),e[Us]=t.current,gf(e.nodeType===8?e.parentNode:e),new Sx(t)};Hr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=bL(t),e=e===null?null:e.stateNode,e};Hr.flushSync=function(e){return Za(e)};Hr.hydrate=function(e,t,n){if(!Hg(t))throw Error(_e(200));return Wg(null,e,t,!0,n)};Hr.hydrateRoot=function(e,t,n){if(!xx(e))throw Error(_e(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=JM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=ZM(t,null,e,1,n??null,i,!1,o,a),e[Us]=t.current,gf(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Vg(t)};Hr.render=function(e,t,n){if(!Hg(t))throw Error(_e(200));return Wg(null,e,t,!1,n)};Hr.unmountComponentAtNode=function(e){if(!Hg(e))throw Error(_e(40));return e._reactRootContainer?(Za(function(){Wg(null,null,e,!1,function(){e._reactRootContainer=null,e[Us]=null})}),!0):!1};Hr.unstable_batchedUpdates=mx;Hr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hg(n))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return Wg(e,t,n,!1,r)};Hr.version="18.2.0-next-9e3b772b8-20220608";function eO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eO)}catch(e){console.error(e)}}eO(),ZD.exports=Hr;var la=ZD.exports;const n6=PS(la);var tO,WT=la;tO=WT.createRoot,WT.hydrateRoot;/**
 * @remix-run/router v1.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rf.apply(this,arguments)}var Io;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Io||(Io={}));const KT="popstate";function r6(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:c}=r.location;return vb("",{pathname:o,search:a,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:eg(i)}return s6(t,n,null,e)}function gn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _x(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function i6(){return Math.random().toString(36).substr(2,8)}function GT(e,t){return{usr:e.state,key:e.key,idx:t}}function vb(e,t,n,r){return n===void 0&&(n=null),Rf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xu(t):t,{state:n,key:t&&t.key||r||i6()})}function eg(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function s6(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,c=Io.Pop,u=null,p=h();p==null&&(p=0,a.replaceState(Rf({},a.state,{idx:p}),""));function h(){return(a.state||{idx:null}).idx}function g(){c=Io.Pop;let P=h(),R=P==null?null:P-p;p=P,u&&u({action:c,location:b.location,delta:R})}function v(P,R){c=Io.Push;let _=vb(b.location,P,R);n&&n(_,P),p=h()+1;let k=GT(_,p),E=b.createHref(_);try{a.pushState(k,"",E)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(E)}o&&u&&u({action:c,location:b.location,delta:1})}function w(P,R){c=Io.Replace;let _=vb(b.location,P,R);n&&n(_,P),p=h();let k=GT(_,p),E=b.createHref(_);a.replaceState(k,"",E),o&&u&&u({action:c,location:b.location,delta:0})}function S(P){let R=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof P=="string"?P:eg(P);return gn(R,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,R)}let b={get action(){return c},get location(){return e(i,a)},listen(P){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(KT,g),u=P,()=>{i.removeEventListener(KT,g),u=null}},createHref(P){return t(i,P)},createURL:S,encodeLocation(P){let R=S(P);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:w,go(P){return a.go(P)}};return b}var qT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(qT||(qT={}));function o6(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?xu(t):t,i=Cx(r.pathname||"/",n);if(i==null)return null;let o=nO(e);a6(o);let a=null;for(let c=0;a==null&&c<o.length;++c)a=g6(o[c],w6(i));return a}function nO(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,c)=>{let u={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(gn(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let p=Wo([r,u.relativePath]),h=n.concat(u);o.children&&o.children.length>0&&(gn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),nO(o.children,t,h,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:h6(p,o.index),routesMeta:h})};return e.forEach((o,a)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,a);else for(let u of rO(o.path))i(o,a,u)}),t}function rO(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=rO(r.join("/")),c=[];return c.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&c.push(...a),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function a6(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:m6(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const l6=/^:\w+$/,c6=3,u6=2,d6=1,f6=10,p6=-2,YT=e=>e==="*";function h6(e,t){let n=e.split("/"),r=n.length;return n.some(YT)&&(r+=p6),t&&(r+=u6),n.filter(i=>!YT(i)).reduce((i,o)=>i+(l6.test(o)?c6:o===""?d6:f6),r)}function m6(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function g6(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,p=i==="/"?t:t.slice(i.length)||"/",h=v6({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},p);if(!h)return null;Object.assign(r,h.params);let g=c.route;o.push({params:r,pathname:Wo([i,h.pathname]),pathnameBase:C6(Wo([i,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(i=Wo([i,h.pathnameBase]))}return o}function v6(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=y6(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((p,h,g)=>{let{paramName:v,isOptional:w}=h;if(v==="*"){let b=c[g]||"";a=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const S=c[g];return w&&!S?p[v]=void 0:p[v]=b6(S||"",v),p},{}),pathname:o,pathnameBase:a,pattern:e}}function y6(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),_x(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function w6(e){try{return decodeURI(e)}catch(t){return _x(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function b6(e,t){try{return decodeURIComponent(e)}catch(n){return _x(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function Cx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function S6(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?xu(e):e;return{pathname:n?n.startsWith("/")?n:x6(n,t):t,search:R6(r),hash:T6(i)}}function x6(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _w(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Rx(e,t){let n=_6(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Tx(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=xu(e):(i=Rf({},e),gn(!i.pathname||!i.pathname.includes("?"),_w("?","pathname","search",i)),gn(!i.pathname||!i.pathname.includes("#"),_w("#","pathname","hash",i)),gn(!i.search||!i.search.includes("#"),_w("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,c;if(a==null)c=n;else if(r){let g=t.length===0?[]:t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g.pop();i.pathname=v.join("/")}c="/"+g.join("/")}else{let g=t.length-1;if(a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),g-=1;i.pathname=v.join("/")}c=g>=0?t[g]:"/"}let u=S6(i,c),p=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(p||h)&&(u.pathname+="/"),u}const Wo=e=>e.join("/").replace(/\/\/+/g,"/"),C6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),R6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function E6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const iO=["post","put","patch","delete"];new Set(iO);const P6=["get",...iO];new Set(P6);/**
 * React Router v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tf(){return Tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tf.apply(this,arguments)}const Ex=x.createContext(null),k6=x.createContext(null),ca=x.createContext(null),Kg=x.createContext(null),Js=x.createContext({outlet:null,matches:[],isDataRoute:!1}),sO=x.createContext(null);function D6(e,t){let{relative:n}=t===void 0?{}:t;_u()||gn(!1);let{basename:r,navigator:i}=x.useContext(ca),{hash:o,pathname:a,search:c}=aO(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Wo([r,a])),i.createHref({pathname:u,search:c,hash:o})}function _u(){return x.useContext(Kg)!=null}function Oi(){return _u()||gn(!1),x.useContext(Kg).location}function oO(e){x.useContext(ca).static||x.useLayoutEffect(e)}function ua(){let{isDataRoute:e}=x.useContext(Js);return e?H6():L6()}function L6(){_u()||gn(!1);let e=x.useContext(Ex),{basename:t,future:n,navigator:r}=x.useContext(ca),{matches:i}=x.useContext(Js),{pathname:o}=Oi(),a=JSON.stringify(Rx(i,n.v7_relativeSplatPath)),c=x.useRef(!1);return oO(()=>{c.current=!0}),x.useCallback(function(p,h){if(h===void 0&&(h={}),!c.current)return;if(typeof p=="number"){r.go(p);return}let g=Tx(p,JSON.parse(a),o,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Wo([t,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[t,r,a,o,e])}function M6(){let{matches:e}=x.useContext(Js),t=e[e.length-1];return t?t.params:{}}function aO(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=x.useContext(ca),{matches:i}=x.useContext(Js),{pathname:o}=Oi(),a=JSON.stringify(Rx(i,r.v7_relativeSplatPath));return x.useMemo(()=>Tx(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function O6(e,t){return A6(e,t)}function A6(e,t,n,r){_u()||gn(!1);let{navigator:i}=x.useContext(ca),{matches:o}=x.useContext(Js),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let p=Oi(),h;if(t){var g;let P=typeof t=="string"?xu(t):t;u==="/"||(g=P.pathname)!=null&&g.startsWith(u)||gn(!1),h=P}else h=p;let v=h.pathname||"/",w=u==="/"?v:v.slice(u.length)||"/",S=o6(e,{pathname:w}),b=B6(S&&S.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:Wo([u,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:Wo([u,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,n,r);return t&&b?x.createElement(Kg.Provider,{value:{location:Tf({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Io.Pop}},b):b}function N6(){let e=V6(),t=E6(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:i},n):null,o)}const I6=x.createElement(N6,null);class j6 extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?x.createElement(Js.Provider,{value:this.props.routeContext},x.createElement(sO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function F6(e){let{routeContext:t,match:n,children:r}=e,i=x.useContext(Ex);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Js.Provider,{value:t},r)}function B6(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let a=e,c=(i=n)==null?void 0:i.errors;if(c!=null){let h=a.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id]));h>=0||gn(!1),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let g=a[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=h),g.route.loader&&g.route.id&&n.loaderData[g.route.id]===void 0&&(!n.errors||n.errors[g.route.id]===void 0)){u=!0,p>=0?a=a.slice(0,p+1):a=[a[0]];break}}return a.reduceRight((h,g,v)=>{let w,S=!1,b=null,P=null;n&&(w=c&&g.route.id?c[g.route.id]:void 0,b=g.route.errorElement||I6,u&&(p<0&&v===0?(W6("route-fallback",!1),S=!0,P=null):p===v&&(S=!0,P=g.route.hydrateFallbackElement||null)));let R=t.concat(a.slice(0,v+1)),_=()=>{let k;return w?k=b:S?k=P:g.route.Component?k=x.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=h,x.createElement(F6,{match:g,routeContext:{outlet:h,matches:R,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?x.createElement(j6,{location:n.location,revalidation:n.revalidation,component:b,error:w,children:_(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):_()},null)}var lO=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lO||{}),tg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tg||{});function $6(e){let t=x.useContext(Ex);return t||gn(!1),t}function z6(e){let t=x.useContext(k6);return t||gn(!1),t}function U6(e){let t=x.useContext(Js);return t||gn(!1),t}function cO(e){let t=U6(),n=t.matches[t.matches.length-1];return n.route.id||gn(!1),n.route.id}function V6(){var e;let t=x.useContext(sO),n=z6(tg.UseRouteError),r=cO(tg.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function H6(){let{router:e}=$6(lO.UseNavigateStable),t=cO(tg.UseNavigateStable),n=x.useRef(!1);return oO(()=>{n.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Tf({fromRouteId:t},o)))},[e,t])}const XT={};function W6(e,t,n){!t&&!XT[e]&&(XT[e]=!0)}function uO(e){let{to:t,replace:n,state:r,relative:i}=e;_u()||gn(!1);let{future:o,static:a}=x.useContext(ca),{matches:c}=x.useContext(Js),{pathname:u}=Oi(),p=ua(),h=Tx(t,Rx(c,o.v7_relativeSplatPath),u,i==="path"),g=JSON.stringify(h);return x.useEffect(()=>p(JSON.parse(g),{replace:n,state:r,relative:i}),[p,g,i,n,r]),null}function Co(e){gn(!1)}function K6(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Io.Pop,navigator:o,static:a=!1,future:c}=e;_u()&&gn(!1);let u=t.replace(/^\/*/,"/"),p=x.useMemo(()=>({basename:u,navigator:o,static:a,future:Tf({v7_relativeSplatPath:!1},c)}),[u,c,o,a]);typeof r=="string"&&(r=xu(r));let{pathname:h="/",search:g="",hash:v="",state:w=null,key:S="default"}=r,b=x.useMemo(()=>{let P=Cx(h,u);return P==null?null:{location:{pathname:P,search:g,hash:v,state:w,key:S},navigationType:i}},[u,h,g,v,w,S,i]);return b==null?null:x.createElement(ca.Provider,{value:p},x.createElement(Kg.Provider,{children:n,value:b}))}function G6(e){let{children:t,location:n}=e;return O6(yb(t),n)}new Promise(()=>{});function yb(e,t){t===void 0&&(t=[]);let n=[];return x.Children.forEach(e,(r,i)=>{if(!x.isValidElement(r))return;let o=[...t,i];if(r.type===x.Fragment){n.push.apply(n,yb(r.props.children,o));return}r.type!==Co&&gn(!1),!r.props.index||!r.props.children||gn(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=yb(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wb.apply(this,arguments)}function q6(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Y6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function X6(e,t){return e.button===0&&(!t||t==="_self")&&!Y6(e)}function bb(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Q6(e,t){let n=bb(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const Z6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],J6="startTransition",QT=Dg[J6];function ez(e){let{basename:t,children:n,future:r,window:i}=e,o=x.useRef();o.current==null&&(o.current=r6({window:i,v5Compat:!0}));let a=o.current,[c,u]=x.useState({action:a.action,location:a.location}),{v7_startTransition:p}=r||{},h=x.useCallback(g=>{p&&QT?QT(()=>u(g)):u(g)},[u,p]);return x.useLayoutEffect(()=>a.listen(h),[a,h]),x.createElement(K6,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const tz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xr=x.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:c,target:u,to:p,preventScrollReset:h,unstable_viewTransition:g}=t,v=q6(t,Z6),{basename:w}=x.useContext(ca),S,b=!1;if(typeof p=="string"&&nz.test(p)&&(S=p,tz))try{let k=new URL(window.location.href),E=p.startsWith("//")?new URL(k.protocol+p):new URL(p),N=Cx(E.pathname,w);E.origin===k.origin&&N!=null?p=N+E.search+E.hash:b=!0}catch{}let P=D6(p,{relative:i}),R=rz(p,{replace:a,state:c,target:u,preventScrollReset:h,relative:i,unstable_viewTransition:g});function _(k){r&&r(k),k.defaultPrevented||R(k)}return x.createElement("a",wb({},v,{href:S||P,onClick:b||o?r:_,ref:n,target:u}))});var ZT;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ZT||(ZT={}));var JT;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(JT||(JT={}));function rz(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:c}=t===void 0?{}:t,u=ua(),p=Oi(),h=aO(e,{relative:a});return x.useCallback(g=>{if(X6(g,n)){g.preventDefault();let v=r!==void 0?r:eg(p)===eg(h);u(e,{replace:v,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:c})}},[p,u,h,r,i,n,e,o,a,c])}function Px(e){let t=x.useRef(bb(e)),n=x.useRef(!1),r=Oi(),i=x.useMemo(()=>Q6(r.search,n.current?null:t.current),[r.search]),o=ua(),a=x.useCallback((c,u)=>{const p=bb(typeof c=="function"?c(i):c);n.current=!0,o("?"+p,u)},[o,i]);return[i,a]}var Cw={exports:{}},eE;function al(){return eE||(eE=1,function(e,t){(function(n,r){e.exports=r()})(le,function(){var n=navigator.userAgent,r=navigator.platform,i=/gecko\/\d/i.test(n),o=/MSIE \d/.test(n),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),c=/Edge\/(\d+)/.exec(n),u=o||a||c,p=u&&(o?document.documentMode||6:+(c||a)[1]),h=!c&&/WebKit\//.test(n),g=h&&/Qt\/\d+\.\d+/.test(n),v=!c&&/Chrome\/(\d+)/.exec(n),w=v&&+v[1],S=/Opera\//.test(n),b=/Apple Computer/.test(navigator.vendor),P=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),R=/PhantomJS/.test(n),_=b&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),k=/Android/.test(n),E=_||k||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),N=_||/Mac/.test(r),F=/\bCrOS\b/.test(n),B=/win/i.test(r),U=S&&n.match(/Version\/(\d*\.\d*)/);U&&(U=Number(U[1])),U&&U>=15&&(S=!1,h=!0);var G=N&&(g||S&&(U==null||U<12.11)),Q=i||u&&p>=9;function ie(s){return new RegExp("(^|\\s)"+s+"(?:$|\\s)\\s*")}var Y=function(s,l){var f=s.className,d=ie(l).exec(f);if(d){var m=f.slice(d.index+d[0].length);s.className=f.slice(0,d.index)+(m?d[1]+m:"")}};function z(s){for(var l=s.childNodes.length;l>0;--l)s.removeChild(s.firstChild);return s}function V(s,l){return z(s).appendChild(l)}function O(s,l,f,d){var m=document.createElement(s);if(f&&(m.className=f),d&&(m.style.cssText=d),typeof l=="string")m.appendChild(document.createTextNode(l));else if(l)for(var y=0;y<l.length;++y)m.appendChild(l[y]);return m}function X(s,l,f,d){var m=O(s,l,f,d);return m.setAttribute("role","presentation"),m}var oe;document.createRange?oe=function(s,l,f,d){var m=document.createRange();return m.setEnd(d||s,f),m.setStart(s,l),m}:oe=function(s,l,f){var d=document.body.createTextRange();try{d.moveToElementText(s.parentNode)}catch{return d}return d.collapse(!0),d.moveEnd("character",f),d.moveStart("character",l),d};function I(s,l){if(l.nodeType==3&&(l=l.parentNode),s.contains)return s.contains(l);do if(l.nodeType==11&&(l=l.host),l==s)return!0;while(l=l.parentNode)}function j(s){var l=s.ownerDocument||s,f;try{f=s.activeElement}catch{f=l.body||null}for(;f&&f.shadowRoot&&f.shadowRoot.activeElement;)f=f.shadowRoot.activeElement;return f}function K(s,l){var f=s.className;ie(l).test(f)||(s.className+=(f?" ":"")+l)}function Z(s,l){for(var f=s.split(" "),d=0;d<f.length;d++)f[d]&&!ie(f[d]).test(l)&&(l+=" "+f[d]);return l}var xe=function(s){s.select()};_?xe=function(s){s.selectionStart=0,s.selectionEnd=s.value.length}:u&&(xe=function(s){try{s.select()}catch{}});function ae(s){return s.display.wrapper.ownerDocument}function pe(s){return we(s.display.wrapper)}function we(s){return s.getRootNode?s.getRootNode():s.ownerDocument}function se(s){return ae(s).defaultView}function ee(s){var l=Array.prototype.slice.call(arguments,1);return function(){return s.apply(null,l)}}function ue(s,l,f){l||(l={});for(var d in s)s.hasOwnProperty(d)&&(f!==!1||!l.hasOwnProperty(d))&&(l[d]=s[d]);return l}function he(s,l,f,d,m){l==null&&(l=s.search(/[^\s\u00a0]/),l==-1&&(l=s.length));for(var y=d||0,T=m||0;;){var D=s.indexOf("	",y);if(D<0||D>=l)return T+(l-y);T+=D-y,T+=f-T%f,y=D+1}}var Ee=function(){this.id=null,this.f=null,this.time=0,this.handler=ee(this.onTimeout,this)};Ee.prototype.onTimeout=function(s){s.id=0,s.time<=+new Date?s.f():setTimeout(s.handler,s.time-+new Date)},Ee.prototype.set=function(s,l){this.f=l;var f=+new Date+s;(!this.id||f<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,s),this.time=f)};function ge(s,l){for(var f=0;f<s.length;++f)if(s[f]==l)return f;return-1}var Oe=50,$e={toString:function(){return"CodeMirror.Pass"}},We={scroll:!1},Rt={origin:"*mouse"},st={origin:"+move"};function ht(s,l,f){for(var d=0,m=0;;){var y=s.indexOf("	",d);y==-1&&(y=s.length);var T=y-d;if(y==s.length||m+T>=l)return d+Math.min(T,l-m);if(m+=y-d,m+=f-m%f,d=y+1,m>=l)return d}}var xt=[""];function At(s){for(;xt.length<=s;)xt.push(je(xt)+" ");return xt[s]}function je(s){return s[s.length-1]}function jt(s,l){for(var f=[],d=0;d<s.length;d++)f[d]=l(s[d],d);return f}function Ge(s,l,f){for(var d=0,m=f(l);d<s.length&&f(s[d])<=m;)d++;s.splice(d,0,l)}function ot(){}function kt(s,l){var f;return Object.create?f=Object.create(s):(ot.prototype=s,f=new ot),l&&ue(l,f),f}var Me=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ve(s){return/\w/.test(s)||s>""&&(s.toUpperCase()!=s.toLowerCase()||Me.test(s))}function me(s,l){return l?l.source.indexOf("\\w")>-1&&ve(s)?!0:l.test(s):ve(s)}function ye(s){for(var l in s)if(s.hasOwnProperty(l)&&s[l])return!1;return!0}var qe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Ce(s){return s.charCodeAt(0)>=768&&qe.test(s)}function Ue(s,l,f){for(;(f<0?l>0:l<s.length)&&Ce(s.charAt(l));)l+=f;return l}function Ie(s,l,f){for(var d=l>f?-1:1;;){if(l==f)return l;var m=(l+f)/2,y=d<0?Math.ceil(m):Math.floor(m);if(y==l)return s(y)?l:f;s(y)?f=y:l=y+d}}function bt(s,l,f,d){if(!s)return d(l,f,"ltr",0);for(var m=!1,y=0;y<s.length;++y){var T=s[y];(T.from<f&&T.to>l||l==f&&T.to==l)&&(d(Math.max(T.from,l),Math.min(T.to,f),T.level==1?"rtl":"ltr",y),m=!0)}m||d(l,f,"ltr")}var ne=null;function De(s,l,f){var d;ne=null;for(var m=0;m<s.length;++m){var y=s[m];if(y.from<l&&y.to>l)return m;y.to==l&&(y.from!=y.to&&f=="before"?d=m:ne=m),y.from==l&&(y.from!=y.to&&f!="before"?d=m:ne=m)}return d??ne}var Ke=function(){var s="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",l="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function f(M){return M<=247?s.charAt(M):1424<=M&&M<=1524?"R":1536<=M&&M<=1785?l.charAt(M-1536):1774<=M&&M<=2220?"r":8192<=M&&M<=8203?"w":M==8204?"b":"L"}var d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,m=/[stwN]/,y=/[LRr]/,T=/[Lb1n]/,D=/[1n]/;function L(M,$,W){this.level=M,this.from=$,this.to=W}return function(M,$){var W=$=="ltr"?"L":"R";if(M.length==0||$=="ltr"&&!d.test(M))return!1;for(var J=M.length,q=[],re=0;re<J;++re)q.push(f(M.charCodeAt(re)));for(var de=0,Se=W;de<J;++de){var Re=q[de];Re=="m"?q[de]=Se:Se=Re}for(var ke=0,Te=W;ke<J;++ke){var Ae=q[ke];Ae=="1"&&Te=="r"?q[ke]="n":y.test(Ae)&&(Te=Ae,Ae=="r"&&(q[ke]="R"))}for(var He=1,Ve=q[0];He<J-1;++He){var at=q[He];at=="+"&&Ve=="1"&&q[He+1]=="1"?q[He]="1":at==","&&Ve==q[He+1]&&(Ve=="1"||Ve=="n")&&(q[He]=Ve),Ve=at}for(var Nt=0;Nt<J;++Nt){var On=q[Nt];if(On==",")q[Nt]="N";else if(On=="%"){var Kt=void 0;for(Kt=Nt+1;Kt<J&&q[Kt]=="%";++Kt);for(var wr=Nt&&q[Nt-1]=="!"||Kt<J&&q[Kt]=="1"?"1":"N",ur=Nt;ur<Kt;++ur)q[ur]=wr;Nt=Kt-1}}for(var dn=0,dr=W;dn<J;++dn){var zn=q[dn];dr=="L"&&zn=="1"?q[dn]="L":y.test(zn)&&(dr=zn)}for(var yn=0;yn<J;++yn)if(m.test(q[yn])){var fn=void 0;for(fn=yn+1;fn<J&&m.test(q[fn]);++fn);for(var Qt=(yn?q[yn-1]:W)=="L",fr=(fn<J?q[fn]:W)=="L",Fl=Qt==fr?Qt?"L":"R":W,ho=yn;ho<fn;++ho)q[ho]=Fl;yn=fn-1}for(var Kn=[],zi,An=0;An<J;)if(T.test(q[An])){var Yy=An;for(++An;An<J&&T.test(q[An]);++An);Kn.push(new L(0,Yy,An))}else{var xs=An,Ta=Kn.length,Ea=$=="rtl"?1:0;for(++An;An<J&&q[An]!="L";++An);for(var er=xs;er<An;)if(D.test(q[er])){xs<er&&(Kn.splice(Ta,0,new L(1,xs,er)),Ta+=Ea);var Bl=er;for(++er;er<An&&D.test(q[er]);++er);Kn.splice(Ta,0,new L(2,Bl,er)),Ta+=Ea,xs=er}else++er;xs<An&&Kn.splice(Ta,0,new L(1,xs,An))}return $=="ltr"&&(Kn[0].level==1&&(zi=M.match(/^\s+/))&&(Kn[0].from=zi[0].length,Kn.unshift(new L(0,0,zi[0].length))),je(Kn).level==1&&(zi=M.match(/\s+$/))&&(je(Kn).to-=zi[0].length,Kn.push(new L(0,J-zi[0].length,J)))),$=="rtl"?Kn.reverse():Kn}}();function Ne(s,l){var f=s.order;return f==null&&(f=s.order=Ke(s.text,l)),f}var ut=[],Le=function(s,l,f){if(s.addEventListener)s.addEventListener(l,f,!1);else if(s.attachEvent)s.attachEvent("on"+l,f);else{var d=s._handlers||(s._handlers={});d[l]=(d[l]||ut).concat(f)}};function rn(s,l){return s._handlers&&s._handlers[l]||ut}function Wt(s,l,f){if(s.removeEventListener)s.removeEventListener(l,f,!1);else if(s.detachEvent)s.detachEvent("on"+l,f);else{var d=s._handlers,m=d&&d[l];if(m){var y=ge(m,f);y>-1&&(d[l]=m.slice(0,y).concat(m.slice(y+1)))}}}function Bt(s,l){var f=rn(s,l);if(f.length)for(var d=Array.prototype.slice.call(arguments,2),m=0;m<f.length;++m)f[m].apply(null,d)}function Dt(s,l,f){return typeof l=="string"&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),Bt(s,f||l.type,s,l),vn(l)||l.codemirrorIgnore}function Zn(s){var l=s._handlers&&s._handlers.cursorActivity;if(l)for(var f=s.curOp.cursorActivityHandlers||(s.curOp.cursorActivityHandlers=[]),d=0;d<l.length;++d)ge(f,l[d])==-1&&f.push(l[d])}function En(s,l){return rn(s,l).length>0}function $n(s){s.prototype.on=function(l,f){Le(this,l,f)},s.prototype.off=function(l,f){Wt(this,l,f)}}function Pn(s){s.preventDefault?s.preventDefault():s.returnValue=!1}function Ii(s){s.stopPropagation?s.stopPropagation():s.cancelBubble=!0}function vn(s){return s.defaultPrevented!=null?s.defaultPrevented:s.returnValue==!1}function to(s){Pn(s),Ii(s)}function Iu(s){return s.target||s.srcElement}function fi(s){var l=s.which;return l==null&&(s.button&1?l=1:s.button&2?l=3:s.button&4&&(l=2)),N&&s.ctrlKey&&l==1&&(l=3),l}var ny=function(){if(u&&p<9)return!1;var s=O("div");return"draggable"in s||"dragDrop"in s}(),hl;function xp(s){if(hl==null){var l=O("span","​");V(s,O("span",[l,document.createTextNode("x")])),s.firstChild.offsetHeight!=0&&(hl=l.offsetWidth<=1&&l.offsetHeight>2&&!(u&&p<8))}var f=hl?O("span","​"):O("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return f.setAttribute("cm-text",""),f}var ju;function no(s){if(ju!=null)return ju;var l=V(s,document.createTextNode("AخA")),f=oe(l,0,1).getBoundingClientRect(),d=oe(l,1,2).getBoundingClientRect();return z(s),!f||f.left==f.right?!1:ju=d.right-f.right<3}var Kr=`

b`.split(/\n/).length!=3?function(s){for(var l=0,f=[],d=s.length;l<=d;){var m=s.indexOf(`
`,l);m==-1&&(m=s.length);var y=s.slice(l,s.charAt(m-1)=="\r"?m-1:m),T=y.indexOf("\r");T!=-1?(f.push(y.slice(0,T)),l+=T+1):(f.push(y),l=m+1)}return f}:function(s){return s.split(/\r\n?|\n/)},ro=window.getSelection?function(s){try{return s.selectionStart!=s.selectionEnd}catch{return!1}}:function(s){var l;try{l=s.ownerDocument.selection.createRange()}catch{}return!l||l.parentElement()!=s?!1:l.compareEndPoints("StartToEnd",l)!=0},_p=function(){var s=O("div");return"oncopy"in s?!0:(s.setAttribute("oncopy","return;"),typeof s.oncopy=="function")}(),pi=null;function ry(s){if(pi!=null)return pi;var l=V(s,O("span","x")),f=l.getBoundingClientRect(),d=oe(l,0,1).getBoundingClientRect();return pi=Math.abs(f.left-d.left)>1}var ml={},hi={};function mi(s,l){arguments.length>2&&(l.dependencies=Array.prototype.slice.call(arguments,2)),ml[s]=l}function va(s,l){hi[s]=l}function gl(s){if(typeof s=="string"&&hi.hasOwnProperty(s))s=hi[s];else if(s&&typeof s.name=="string"&&hi.hasOwnProperty(s.name)){var l=hi[s.name];typeof l=="string"&&(l={name:l}),s=kt(l,s),s.name=l.name}else{if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(s))return gl("application/xml");if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(s))return gl("application/json")}return typeof s=="string"?{name:s}:s||{name:"null"}}function vl(s,l){l=gl(l);var f=ml[l.name];if(!f)return vl(s,"text/plain");var d=f(s,l);if(io.hasOwnProperty(l.name)){var m=io[l.name];for(var y in m)m.hasOwnProperty(y)&&(d.hasOwnProperty(y)&&(d["_"+y]=d[y]),d[y]=m[y])}if(d.name=l.name,l.helperType&&(d.helperType=l.helperType),l.modeProps)for(var T in l.modeProps)d[T]=l.modeProps[T];return d}var io={};function yl(s,l){var f=io.hasOwnProperty(s)?io[s]:io[s]={};ue(l,f)}function ji(s,l){if(l===!0)return l;if(s.copyState)return s.copyState(l);var f={};for(var d in l){var m=l[d];m instanceof Array&&(m=m.concat([])),f[d]=m}return f}function Fu(s,l){for(var f;s.innerMode&&(f=s.innerMode(l),!(!f||f.mode==s));)l=f.state,s=f.mode;return f||{mode:s,state:l}}function wl(s,l,f){return s.startState?s.startState(l,f):!0}var Xt=function(s,l,f){this.pos=this.start=0,this.string=s,this.tabSize=l||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=f};Xt.prototype.eol=function(){return this.pos>=this.string.length},Xt.prototype.sol=function(){return this.pos==this.lineStart},Xt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xt.prototype.eat=function(s){var l=this.string.charAt(this.pos),f;if(typeof s=="string"?f=l==s:f=l&&(s.test?s.test(l):s(l)),f)return++this.pos,l},Xt.prototype.eatWhile=function(s){for(var l=this.pos;this.eat(s););return this.pos>l},Xt.prototype.eatSpace=function(){for(var s=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>s},Xt.prototype.skipToEnd=function(){this.pos=this.string.length},Xt.prototype.skipTo=function(s){var l=this.string.indexOf(s,this.pos);if(l>-1)return this.pos=l,!0},Xt.prototype.backUp=function(s){this.pos-=s},Xt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=he(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?he(this.string,this.lineStart,this.tabSize):0)},Xt.prototype.indentation=function(){return he(this.string,null,this.tabSize)-(this.lineStart?he(this.string,this.lineStart,this.tabSize):0)},Xt.prototype.match=function(s,l,f){if(typeof s=="string"){var d=function(T){return f?T.toLowerCase():T},m=this.string.substr(this.pos,s.length);if(d(m)==d(s))return l!==!1&&(this.pos+=s.length),!0}else{var y=this.string.slice(this.pos).match(s);return y&&y.index>0?null:(y&&l!==!1&&(this.pos+=y[0].length),y)}},Xt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xt.prototype.hideFirstChars=function(s,l){this.lineStart+=s;try{return l()}finally{this.lineStart-=s}},Xt.prototype.lookAhead=function(s){var l=this.lineOracle;return l&&l.lookAhead(s)},Xt.prototype.baseToken=function(){var s=this.lineOracle;return s&&s.baseToken(this.pos)};function Be(s,l){if(l-=s.first,l<0||l>=s.size)throw new Error("There is no line "+(l+s.first)+" in the document.");for(var f=s;!f.lines;)for(var d=0;;++d){var m=f.children[d],y=m.chunkSize();if(l<y){f=m;break}l-=y}return f.lines[l]}function gs(s,l,f){var d=[],m=l.line;return s.iter(l.line,f.line+1,function(y){var T=y.text;m==f.line&&(T=T.slice(0,f.ch)),m==l.line&&(T=T.slice(l.ch)),d.push(T),++m}),d}function Bu(s,l,f){var d=[];return s.iter(l,f,function(m){d.push(m.text)}),d}function Lr(s,l){var f=l-s.height;if(f)for(var d=s;d;d=d.parent)d.height+=f}function A(s){if(s.parent==null)return null;for(var l=s.parent,f=ge(l.lines,s),d=l.parent;d;l=d,d=d.parent)for(var m=0;d.children[m]!=l;++m)f+=d.children[m].chunkSize();return f+l.first}function H(s,l){var f=s.first;e:do{for(var d=0;d<s.children.length;++d){var m=s.children[d],y=m.height;if(l<y){s=m;continue e}l-=y,f+=m.chunkSize()}return f}while(!s.lines);for(var T=0;T<s.lines.length;++T){var D=s.lines[T],L=D.height;if(l<L)break;l-=L}return f+T}function ce(s,l){return l>=s.first&&l<s.first+s.size}function be(s,l){return String(s.lineNumberFormatter(l+s.firstLineNumber))}function te(s,l,f){if(f===void 0&&(f=null),!(this instanceof te))return new te(s,l,f);this.line=s,this.ch=l,this.sticky=f}function Pe(s,l){return s.line-l.line||s.ch-l.ch}function Tt(s,l){return s.sticky==l.sticky&&Pe(s,l)==0}function kn(s){return te(s.line,s.ch)}function ar(s,l){return Pe(s,l)<0?l:s}function bl(s,l){return Pe(s,l)<0?s:l}function F_(s,l){return Math.max(s.first,Math.min(l,s.first+s.size-1))}function rt(s,l){if(l.line<s.first)return te(s.first,0);var f=s.first+s.size-1;return l.line>f?te(f,Be(s,f).text.length):MF(l,Be(s,l.line).text.length)}function MF(s,l){var f=s.ch;return f==null||f>l?te(s.line,l):f<0?te(s.line,0):s}function B_(s,l){for(var f=[],d=0;d<l.length;d++)f[d]=rt(s,l[d]);return f}var Cp=function(s,l){this.state=s,this.lookAhead=l},Fi=function(s,l,f,d){this.state=l,this.doc=s,this.line=f,this.maxLookAhead=d||0,this.baseTokens=null,this.baseTokenPos=1};Fi.prototype.lookAhead=function(s){var l=this.doc.getLine(this.line+s);return l!=null&&s>this.maxLookAhead&&(this.maxLookAhead=s),l},Fi.prototype.baseToken=function(s){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=s;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-s}},Fi.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Fi.fromSaved=function(s,l,f){return l instanceof Cp?new Fi(s,ji(s.mode,l.state),f,l.lookAhead):new Fi(s,ji(s.mode,l),f)},Fi.prototype.save=function(s){var l=s!==!1?ji(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Cp(l,this.maxLookAhead):l};function $_(s,l,f,d){var m=[s.state.modeGen],y={};K_(s,l.text,s.doc.mode,f,function(M,$){return m.push(M,$)},y,d);for(var T=f.state,D=function(M){f.baseTokens=m;var $=s.state.overlays[M],W=1,J=0;f.state=!0,K_(s,l.text,$.mode,f,function(q,re){for(var de=W;J<q;){var Se=m[W];Se>q&&m.splice(W,1,q,m[W+1],Se),W+=2,J=Math.min(q,Se)}if(re)if($.opaque)m.splice(de,W-de,q,"overlay "+re),W=de+2;else for(;de<W;de+=2){var Re=m[de+1];m[de+1]=(Re?Re+" ":"")+"overlay "+re}},y),f.state=T,f.baseTokens=null,f.baseTokenPos=1},L=0;L<s.state.overlays.length;++L)D(L);return{styles:m,classes:y.bgClass||y.textClass?y:null}}function z_(s,l,f){if(!l.styles||l.styles[0]!=s.state.modeGen){var d=$u(s,A(l)),m=l.text.length>s.options.maxHighlightLength&&ji(s.doc.mode,d.state),y=$_(s,l,d);m&&(d.state=m),l.stateAfter=d.save(!m),l.styles=y.styles,y.classes?l.styleClasses=y.classes:l.styleClasses&&(l.styleClasses=null),f===s.doc.highlightFrontier&&(s.doc.modeFrontier=Math.max(s.doc.modeFrontier,++s.doc.highlightFrontier))}return l.styles}function $u(s,l,f){var d=s.doc,m=s.display;if(!d.mode.startState)return new Fi(d,!0,l);var y=OF(s,l,f),T=y>d.first&&Be(d,y-1).stateAfter,D=T?Fi.fromSaved(d,T,y):new Fi(d,wl(d.mode),y);return d.iter(y,l,function(L){iy(s,L.text,D);var M=D.line;L.stateAfter=M==l-1||M%5==0||M>=m.viewFrom&&M<m.viewTo?D.save():null,D.nextLine()}),f&&(d.modeFrontier=D.line),D}function iy(s,l,f,d){var m=s.doc.mode,y=new Xt(l,s.options.tabSize,f);for(y.start=y.pos=d||0,l==""&&U_(m,f.state);!y.eol();)sy(m,y,f.state),y.start=y.pos}function U_(s,l){if(s.blankLine)return s.blankLine(l);if(s.innerMode){var f=Fu(s,l);if(f.mode.blankLine)return f.mode.blankLine(f.state)}}function sy(s,l,f,d){for(var m=0;m<10;m++){d&&(d[0]=Fu(s,f).mode);var y=s.token(l,f);if(l.pos>l.start)return y}throw new Error("Mode "+s.name+" failed to advance stream.")}var V_=function(s,l,f){this.start=s.start,this.end=s.pos,this.string=s.current(),this.type=l||null,this.state=f};function H_(s,l,f,d){var m=s.doc,y=m.mode,T;l=rt(m,l);var D=Be(m,l.line),L=$u(s,l.line,f),M=new Xt(D.text,s.options.tabSize,L),$;for(d&&($=[]);(d||M.pos<l.ch)&&!M.eol();)M.start=M.pos,T=sy(y,M,L.state),d&&$.push(new V_(M,T,ji(m.mode,L.state)));return d?$:new V_(M,T,L.state)}function W_(s,l){if(s)for(;;){var f=s.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!f)break;s=s.slice(0,f.index)+s.slice(f.index+f[0].length);var d=f[1]?"bgClass":"textClass";l[d]==null?l[d]=f[2]:new RegExp("(?:^|\\s)"+f[2]+"(?:$|\\s)").test(l[d])||(l[d]+=" "+f[2])}return s}function K_(s,l,f,d,m,y,T){var D=f.flattenSpans;D==null&&(D=s.options.flattenSpans);var L=0,M=null,$=new Xt(l,s.options.tabSize,d),W,J=s.options.addModeClass&&[null];for(l==""&&W_(U_(f,d.state),y);!$.eol();){if($.pos>s.options.maxHighlightLength?(D=!1,T&&iy(s,l,d,$.pos),$.pos=l.length,W=null):W=W_(sy(f,$,d.state,J),y),J){var q=J[0].name;q&&(W="m-"+(W?q+" "+W:q))}if(!D||M!=W){for(;L<$.start;)L=Math.min($.start,L+5e3),m(L,M);M=W}$.start=$.pos}for(;L<$.pos;){var re=Math.min($.pos,L+5e3);m(re,M),L=re}}function OF(s,l,f){for(var d,m,y=s.doc,T=f?-1:l-(s.doc.mode.innerMode?1e3:100),D=l;D>T;--D){if(D<=y.first)return y.first;var L=Be(y,D-1),M=L.stateAfter;if(M&&(!f||D+(M instanceof Cp?M.lookAhead:0)<=y.modeFrontier))return D;var $=he(L.text,null,s.options.tabSize);(m==null||d>$)&&(m=D-1,d=$)}return m}function AF(s,l){if(s.modeFrontier=Math.min(s.modeFrontier,l),!(s.highlightFrontier<l-10)){for(var f=s.first,d=l-1;d>f;d--){var m=Be(s,d).stateAfter;if(m&&(!(m instanceof Cp)||d+m.lookAhead<l)){f=d+1;break}}s.highlightFrontier=Math.min(s.highlightFrontier,f)}}var G_=!1,vs=!1;function NF(){G_=!0}function IF(){vs=!0}function Rp(s,l,f){this.marker=s,this.from=l,this.to=f}function zu(s,l){if(s)for(var f=0;f<s.length;++f){var d=s[f];if(d.marker==l)return d}}function jF(s,l){for(var f,d=0;d<s.length;++d)s[d]!=l&&(f||(f=[])).push(s[d]);return f}function FF(s,l,f){var d=f&&window.WeakSet&&(f.markedSpans||(f.markedSpans=new WeakSet));d&&s.markedSpans&&d.has(s.markedSpans)?s.markedSpans.push(l):(s.markedSpans=s.markedSpans?s.markedSpans.concat([l]):[l],d&&d.add(s.markedSpans)),l.marker.attachLine(s)}function BF(s,l,f){var d;if(s)for(var m=0;m<s.length;++m){var y=s[m],T=y.marker,D=y.from==null||(T.inclusiveLeft?y.from<=l:y.from<l);if(D||y.from==l&&T.type=="bookmark"&&(!f||!y.marker.insertLeft)){var L=y.to==null||(T.inclusiveRight?y.to>=l:y.to>l);(d||(d=[])).push(new Rp(T,y.from,L?null:y.to))}}return d}function $F(s,l,f){var d;if(s)for(var m=0;m<s.length;++m){var y=s[m],T=y.marker,D=y.to==null||(T.inclusiveRight?y.to>=l:y.to>l);if(D||y.from==l&&T.type=="bookmark"&&(!f||y.marker.insertLeft)){var L=y.from==null||(T.inclusiveLeft?y.from<=l:y.from<l);(d||(d=[])).push(new Rp(T,L?null:y.from-l,y.to==null?null:y.to-l))}}return d}function oy(s,l){if(l.full)return null;var f=ce(s,l.from.line)&&Be(s,l.from.line).markedSpans,d=ce(s,l.to.line)&&Be(s,l.to.line).markedSpans;if(!f&&!d)return null;var m=l.from.ch,y=l.to.ch,T=Pe(l.from,l.to)==0,D=BF(f,m,T),L=$F(d,y,T),M=l.text.length==1,$=je(l.text).length+(M?m:0);if(D)for(var W=0;W<D.length;++W){var J=D[W];if(J.to==null){var q=zu(L,J.marker);q?M&&(J.to=q.to==null?null:q.to+$):J.to=m}}if(L)for(var re=0;re<L.length;++re){var de=L[re];if(de.to!=null&&(de.to+=$),de.from==null){var Se=zu(D,de.marker);Se||(de.from=$,M&&(D||(D=[])).push(de))}else de.from+=$,M&&(D||(D=[])).push(de)}D&&(D=q_(D)),L&&L!=D&&(L=q_(L));var Re=[D];if(!M){var ke=l.text.length-2,Te;if(ke>0&&D)for(var Ae=0;Ae<D.length;++Ae)D[Ae].to==null&&(Te||(Te=[])).push(new Rp(D[Ae].marker,null,null));for(var He=0;He<ke;++He)Re.push(Te);Re.push(L)}return Re}function q_(s){for(var l=0;l<s.length;++l){var f=s[l];f.from!=null&&f.from==f.to&&f.marker.clearWhenEmpty!==!1&&s.splice(l--,1)}return s.length?s:null}function zF(s,l,f){var d=null;if(s.iter(l.line,f.line+1,function(q){if(q.markedSpans)for(var re=0;re<q.markedSpans.length;++re){var de=q.markedSpans[re].marker;de.readOnly&&(!d||ge(d,de)==-1)&&(d||(d=[])).push(de)}}),!d)return null;for(var m=[{from:l,to:f}],y=0;y<d.length;++y)for(var T=d[y],D=T.find(0),L=0;L<m.length;++L){var M=m[L];if(!(Pe(M.to,D.from)<0||Pe(M.from,D.to)>0)){var $=[L,1],W=Pe(M.from,D.from),J=Pe(M.to,D.to);(W<0||!T.inclusiveLeft&&!W)&&$.push({from:M.from,to:D.from}),(J>0||!T.inclusiveRight&&!J)&&$.push({from:D.to,to:M.to}),m.splice.apply(m,$),L+=$.length-3}}return m}function Y_(s){var l=s.markedSpans;if(l){for(var f=0;f<l.length;++f)l[f].marker.detachLine(s);s.markedSpans=null}}function X_(s,l){if(l){for(var f=0;f<l.length;++f)l[f].marker.attachLine(s);s.markedSpans=l}}function Tp(s){return s.inclusiveLeft?-1:0}function Ep(s){return s.inclusiveRight?1:0}function ay(s,l){var f=s.lines.length-l.lines.length;if(f!=0)return f;var d=s.find(),m=l.find(),y=Pe(d.from,m.from)||Tp(s)-Tp(l);if(y)return-y;var T=Pe(d.to,m.to)||Ep(s)-Ep(l);return T||l.id-s.id}function Q_(s,l){var f=vs&&s.markedSpans,d;if(f)for(var m=void 0,y=0;y<f.length;++y)m=f[y],m.marker.collapsed&&(l?m.from:m.to)==null&&(!d||ay(d,m.marker)<0)&&(d=m.marker);return d}function Z_(s){return Q_(s,!0)}function Pp(s){return Q_(s,!1)}function UF(s,l){var f=vs&&s.markedSpans,d;if(f)for(var m=0;m<f.length;++m){var y=f[m];y.marker.collapsed&&(y.from==null||y.from<l)&&(y.to==null||y.to>l)&&(!d||ay(d,y.marker)<0)&&(d=y.marker)}return d}function J_(s,l,f,d,m){var y=Be(s,l),T=vs&&y.markedSpans;if(T)for(var D=0;D<T.length;++D){var L=T[D];if(L.marker.collapsed){var M=L.marker.find(0),$=Pe(M.from,f)||Tp(L.marker)-Tp(m),W=Pe(M.to,d)||Ep(L.marker)-Ep(m);if(!($>=0&&W<=0||$<=0&&W>=0)&&($<=0&&(L.marker.inclusiveRight&&m.inclusiveLeft?Pe(M.to,f)>=0:Pe(M.to,f)>0)||$>=0&&(L.marker.inclusiveRight&&m.inclusiveLeft?Pe(M.from,d)<=0:Pe(M.from,d)<0)))return!0}}}function gi(s){for(var l;l=Z_(s);)s=l.find(-1,!0).line;return s}function VF(s){for(var l;l=Pp(s);)s=l.find(1,!0).line;return s}function HF(s){for(var l,f;l=Pp(s);)s=l.find(1,!0).line,(f||(f=[])).push(s);return f}function ly(s,l){var f=Be(s,l),d=gi(f);return f==d?l:A(d)}function eC(s,l){if(l>s.lastLine())return l;var f=Be(s,l),d;if(!so(s,f))return l;for(;d=Pp(f);)f=d.find(1,!0).line;return A(f)+1}function so(s,l){var f=vs&&l.markedSpans;if(f){for(var d=void 0,m=0;m<f.length;++m)if(d=f[m],!!d.marker.collapsed){if(d.from==null)return!0;if(!d.marker.widgetNode&&d.from==0&&d.marker.inclusiveLeft&&cy(s,l,d))return!0}}}function cy(s,l,f){if(f.to==null){var d=f.marker.find(1,!0);return cy(s,d.line,zu(d.line.markedSpans,f.marker))}if(f.marker.inclusiveRight&&f.to==l.text.length)return!0;for(var m=void 0,y=0;y<l.markedSpans.length;++y)if(m=l.markedSpans[y],m.marker.collapsed&&!m.marker.widgetNode&&m.from==f.to&&(m.to==null||m.to!=f.from)&&(m.marker.inclusiveLeft||f.marker.inclusiveRight)&&cy(s,l,m))return!0}function ys(s){s=gi(s);for(var l=0,f=s.parent,d=0;d<f.lines.length;++d){var m=f.lines[d];if(m==s)break;l+=m.height}for(var y=f.parent;y;f=y,y=f.parent)for(var T=0;T<y.children.length;++T){var D=y.children[T];if(D==f)break;l+=D.height}return l}function kp(s){if(s.height==0)return 0;for(var l=s.text.length,f,d=s;f=Z_(d);){var m=f.find(0,!0);d=m.from.line,l+=m.from.ch-m.to.ch}for(d=s;f=Pp(d);){var y=f.find(0,!0);l-=d.text.length-y.from.ch,d=y.to.line,l+=d.text.length-y.to.ch}return l}function uy(s){var l=s.display,f=s.doc;l.maxLine=Be(f,f.first),l.maxLineLength=kp(l.maxLine),l.maxLineChanged=!0,f.iter(function(d){var m=kp(d);m>l.maxLineLength&&(l.maxLineLength=m,l.maxLine=d)})}var Sl=function(s,l,f){this.text=s,X_(this,l),this.height=f?f(this):1};Sl.prototype.lineNo=function(){return A(this)},$n(Sl);function WF(s,l,f,d){s.text=l,s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null),s.order!=null&&(s.order=null),Y_(s),X_(s,f);var m=d?d(s):1;m!=s.height&&Lr(s,m)}function KF(s){s.parent=null,Y_(s)}var GF={},qF={};function tC(s,l){if(!s||/^\s*$/.test(s))return null;var f=l.addModeClass?qF:GF;return f[s]||(f[s]=s.replace(/\S+/g,"cm-$&"))}function nC(s,l){var f=X("span",null,null,h?"padding-right: .1px":null),d={pre:X("pre",[f],"CodeMirror-line"),content:f,col:0,pos:0,cm:s,trailingSpace:!1,splitSpaces:s.getOption("lineWrapping")};l.measure={};for(var m=0;m<=(l.rest?l.rest.length:0);m++){var y=m?l.rest[m-1]:l.line,T=void 0;d.pos=0,d.addToken=XF,no(s.display.measure)&&(T=Ne(y,s.doc.direction))&&(d.addToken=ZF(d.addToken,T)),d.map=[];var D=l!=s.display.externalMeasured&&A(y);JF(y,d,z_(s,y,D)),y.styleClasses&&(y.styleClasses.bgClass&&(d.bgClass=Z(y.styleClasses.bgClass,d.bgClass||"")),y.styleClasses.textClass&&(d.textClass=Z(y.styleClasses.textClass,d.textClass||""))),d.map.length==0&&d.map.push(0,0,d.content.appendChild(xp(s.display.measure))),m==0?(l.measure.map=d.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(d.map),(l.measure.caches||(l.measure.caches=[])).push({}))}if(h){var L=d.content.lastChild;(/\bcm-tab\b/.test(L.className)||L.querySelector&&L.querySelector(".cm-tab"))&&(d.content.className="cm-tab-wrap-hack")}return Bt(s,"renderLine",s,l.line,d.pre),d.pre.className&&(d.textClass=Z(d.pre.className,d.textClass||"")),d}function YF(s){var l=O("span","•","cm-invalidchar");return l.title="\\u"+s.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function XF(s,l,f,d,m,y,T){if(l){var D=s.splitSpaces?QF(l,s.trailingSpace):l,L=s.cm.state.specialChars,M=!1,$;if(!L.test(l))s.col+=l.length,$=document.createTextNode(D),s.map.push(s.pos,s.pos+l.length,$),u&&p<9&&(M=!0),s.pos+=l.length;else{$=document.createDocumentFragment();for(var W=0;;){L.lastIndex=W;var J=L.exec(l),q=J?J.index-W:l.length-W;if(q){var re=document.createTextNode(D.slice(W,W+q));u&&p<9?$.appendChild(O("span",[re])):$.appendChild(re),s.map.push(s.pos,s.pos+q,re),s.col+=q,s.pos+=q}if(!J)break;W+=q+1;var de=void 0;if(J[0]=="	"){var Se=s.cm.options.tabSize,Re=Se-s.col%Se;de=$.appendChild(O("span",At(Re),"cm-tab")),de.setAttribute("role","presentation"),de.setAttribute("cm-text","	"),s.col+=Re}else J[0]=="\r"||J[0]==`
`?(de=$.appendChild(O("span",J[0]=="\r"?"␍":"␤","cm-invalidchar")),de.setAttribute("cm-text",J[0]),s.col+=1):(de=s.cm.options.specialCharPlaceholder(J[0]),de.setAttribute("cm-text",J[0]),u&&p<9?$.appendChild(O("span",[de])):$.appendChild(de),s.col+=1);s.map.push(s.pos,s.pos+1,de),s.pos++}}if(s.trailingSpace=D.charCodeAt(l.length-1)==32,f||d||m||M||y||T){var ke=f||"";d&&(ke+=d),m&&(ke+=m);var Te=O("span",[$],ke,y);if(T)for(var Ae in T)T.hasOwnProperty(Ae)&&Ae!="style"&&Ae!="class"&&Te.setAttribute(Ae,T[Ae]);return s.content.appendChild(Te)}s.content.appendChild($)}}function QF(s,l){if(s.length>1&&!/  /.test(s))return s;for(var f=l,d="",m=0;m<s.length;m++){var y=s.charAt(m);y==" "&&f&&(m==s.length-1||s.charCodeAt(m+1)==32)&&(y=" "),d+=y,f=y==" "}return d}function ZF(s,l){return function(f,d,m,y,T,D,L){m=m?m+" cm-force-border":"cm-force-border";for(var M=f.pos,$=M+d.length;;){for(var W=void 0,J=0;J<l.length&&(W=l[J],!(W.to>M&&W.from<=M));J++);if(W.to>=$)return s(f,d,m,y,T,D,L);s(f,d.slice(0,W.to-M),m,y,null,D,L),y=null,d=d.slice(W.to-M),M=W.to}}}function rC(s,l,f,d){var m=!d&&f.widgetNode;m&&s.map.push(s.pos,s.pos+l,m),!d&&s.cm.display.input.needsContentAttribute&&(m||(m=s.content.appendChild(document.createElement("span"))),m.setAttribute("cm-marker",f.id)),m&&(s.cm.display.input.setUneditable(m),s.content.appendChild(m)),s.pos+=l,s.trailingSpace=!1}function JF(s,l,f){var d=s.markedSpans,m=s.text,y=0;if(!d){for(var T=1;T<f.length;T+=2)l.addToken(l,m.slice(y,y=f[T]),tC(f[T+1],l.cm.options));return}for(var D=m.length,L=0,M=1,$="",W,J,q=0,re,de,Se,Re,ke;;){if(q==L){re=de=Se=J="",ke=null,Re=null,q=1/0;for(var Te=[],Ae=void 0,He=0;He<d.length;++He){var Ve=d[He],at=Ve.marker;if(at.type=="bookmark"&&Ve.from==L&&at.widgetNode)Te.push(at);else if(Ve.from<=L&&(Ve.to==null||Ve.to>L||at.collapsed&&Ve.to==L&&Ve.from==L)){if(Ve.to!=null&&Ve.to!=L&&q>Ve.to&&(q=Ve.to,de=""),at.className&&(re+=" "+at.className),at.css&&(J=(J?J+";":"")+at.css),at.startStyle&&Ve.from==L&&(Se+=" "+at.startStyle),at.endStyle&&Ve.to==q&&(Ae||(Ae=[])).push(at.endStyle,Ve.to),at.title&&((ke||(ke={})).title=at.title),at.attributes)for(var Nt in at.attributes)(ke||(ke={}))[Nt]=at.attributes[Nt];at.collapsed&&(!Re||ay(Re.marker,at)<0)&&(Re=Ve)}else Ve.from>L&&q>Ve.from&&(q=Ve.from)}if(Ae)for(var On=0;On<Ae.length;On+=2)Ae[On+1]==q&&(de+=" "+Ae[On]);if(!Re||Re.from==L)for(var Kt=0;Kt<Te.length;++Kt)rC(l,0,Te[Kt]);if(Re&&(Re.from||0)==L){if(rC(l,(Re.to==null?D+1:Re.to)-L,Re.marker,Re.from==null),Re.to==null)return;Re.to==L&&(Re=!1)}}if(L>=D)break;for(var wr=Math.min(D,q);;){if($){var ur=L+$.length;if(!Re){var dn=ur>wr?$.slice(0,wr-L):$;l.addToken(l,dn,W?W+re:re,Se,L+dn.length==q?de:"",J,ke)}if(ur>=wr){$=$.slice(wr-L),L=wr;break}L=ur,Se=""}$=m.slice(y,y=f[M++]),W=tC(f[M++],l.cm.options)}}}function iC(s,l,f){this.line=l,this.rest=HF(l),this.size=this.rest?A(je(this.rest))-f+1:1,this.node=this.text=null,this.hidden=so(s,l)}function Dp(s,l,f){for(var d=[],m,y=l;y<f;y=m){var T=new iC(s.doc,Be(s.doc,y),y);m=y+T.size,d.push(T)}return d}var xl=null;function e4(s){xl?xl.ops.push(s):s.ownsGroup=xl={ops:[s],delayedCallbacks:[]}}function t4(s){var l=s.delayedCallbacks,f=0;do{for(;f<l.length;f++)l[f].call(null);for(var d=0;d<s.ops.length;d++){var m=s.ops[d];if(m.cursorActivityHandlers)for(;m.cursorActivityCalled<m.cursorActivityHandlers.length;)m.cursorActivityHandlers[m.cursorActivityCalled++].call(null,m.cm)}}while(f<l.length)}function n4(s,l){var f=s.ownsGroup;if(f)try{t4(f)}finally{xl=null,l(f)}}var Uu=null;function Dn(s,l){var f=rn(s,l);if(f.length){var d=Array.prototype.slice.call(arguments,2),m;xl?m=xl.delayedCallbacks:Uu?m=Uu:(m=Uu=[],setTimeout(r4,0));for(var y=function(D){m.push(function(){return f[D].apply(null,d)})},T=0;T<f.length;++T)y(T)}}function r4(){var s=Uu;Uu=null;for(var l=0;l<s.length;++l)s[l]()}function sC(s,l,f,d){for(var m=0;m<l.changes.length;m++){var y=l.changes[m];y=="text"?s4(s,l):y=="gutter"?aC(s,l,f,d):y=="class"?dy(s,l):y=="widget"&&o4(s,l,d)}l.changes=null}function Vu(s){return s.node==s.text&&(s.node=O("div",null,null,"position: relative"),s.text.parentNode&&s.text.parentNode.replaceChild(s.node,s.text),s.node.appendChild(s.text),u&&p<8&&(s.node.style.zIndex=2)),s.node}function i4(s,l){var f=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(f&&(f+=" CodeMirror-linebackground"),l.background)f?l.background.className=f:(l.background.parentNode.removeChild(l.background),l.background=null);else if(f){var d=Vu(l);l.background=d.insertBefore(O("div",null,f),d.firstChild),s.display.input.setUneditable(l.background)}}function oC(s,l){var f=s.display.externalMeasured;return f&&f.line==l.line?(s.display.externalMeasured=null,l.measure=f.measure,f.built):nC(s,l)}function s4(s,l){var f=l.text.className,d=oC(s,l);l.text==l.node&&(l.node=d.pre),l.text.parentNode.replaceChild(d.pre,l.text),l.text=d.pre,d.bgClass!=l.bgClass||d.textClass!=l.textClass?(l.bgClass=d.bgClass,l.textClass=d.textClass,dy(s,l)):f&&(l.text.className=f)}function dy(s,l){i4(s,l),l.line.wrapClass?Vu(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className="");var f=l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass;l.text.className=f||""}function aC(s,l,f,d){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var m=Vu(l);l.gutterBackground=O("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(s.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px"),s.display.input.setUneditable(l.gutterBackground),m.insertBefore(l.gutterBackground,l.text)}var y=l.line.gutterMarkers;if(s.options.lineNumbers||y){var T=Vu(l),D=l.gutter=O("div",null,"CodeMirror-gutter-wrapper","left: "+(s.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");if(D.setAttribute("aria-hidden","true"),s.display.input.setUneditable(D),T.insertBefore(D,l.text),l.line.gutterClass&&(D.className+=" "+l.line.gutterClass),s.options.lineNumbers&&(!y||!y["CodeMirror-linenumbers"])&&(l.lineNumber=D.appendChild(O("div",be(s.options,f),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+s.display.lineNumInnerWidth+"px"))),y)for(var L=0;L<s.display.gutterSpecs.length;++L){var M=s.display.gutterSpecs[L].className,$=y.hasOwnProperty(M)&&y[M];$&&D.appendChild(O("div",[$],"CodeMirror-gutter-elt","left: "+d.gutterLeft[M]+"px; width: "+d.gutterWidth[M]+"px"))}}}function o4(s,l,f){l.alignable&&(l.alignable=null);for(var d=ie("CodeMirror-linewidget"),m=l.node.firstChild,y=void 0;m;m=y)y=m.nextSibling,d.test(m.className)&&l.node.removeChild(m);lC(s,l,f)}function a4(s,l,f,d){var m=oC(s,l);return l.text=l.node=m.pre,m.bgClass&&(l.bgClass=m.bgClass),m.textClass&&(l.textClass=m.textClass),dy(s,l),aC(s,l,f,d),lC(s,l,d),l.node}function lC(s,l,f){if(cC(s,l.line,l,f,!0),l.rest)for(var d=0;d<l.rest.length;d++)cC(s,l.rest[d],l,f,!1)}function cC(s,l,f,d,m){if(l.widgets)for(var y=Vu(f),T=0,D=l.widgets;T<D.length;++T){var L=D[T],M=O("div",[L.node],"CodeMirror-linewidget"+(L.className?" "+L.className:""));L.handleMouseEvents||M.setAttribute("cm-ignore-events","true"),l4(L,M,f,d),s.display.input.setUneditable(M),m&&L.above?y.insertBefore(M,f.gutter||f.text):y.appendChild(M),Dn(L,"redraw")}}function l4(s,l,f,d){if(s.noHScroll){(f.alignable||(f.alignable=[])).push(l);var m=d.wrapperWidth;l.style.left=d.fixedPos+"px",s.coverGutter||(m-=d.gutterTotalWidth,l.style.paddingLeft=d.gutterTotalWidth+"px"),l.style.width=m+"px"}s.coverGutter&&(l.style.zIndex=5,l.style.position="relative",s.noHScroll||(l.style.marginLeft=-d.gutterTotalWidth+"px"))}function Hu(s){if(s.height!=null)return s.height;var l=s.doc.cm;if(!l)return 0;if(!I(document.body,s.node)){var f="position: relative;";s.coverGutter&&(f+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),s.noHScroll&&(f+="width: "+l.display.wrapper.clientWidth+"px;"),V(l.display.measure,O("div",[s.node],null,f))}return s.height=s.node.parentNode.offsetHeight}function ws(s,l){for(var f=Iu(l);f!=s.wrapper;f=f.parentNode)if(!f||f.nodeType==1&&f.getAttribute("cm-ignore-events")=="true"||f.parentNode==s.sizer&&f!=s.mover)return!0}function Lp(s){return s.lineSpace.offsetTop}function fy(s){return s.mover.offsetHeight-s.lineSpace.offsetHeight}function uC(s){if(s.cachedPaddingH)return s.cachedPaddingH;var l=V(s.measure,O("pre","x","CodeMirror-line-like")),f=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,d={left:parseInt(f.paddingLeft),right:parseInt(f.paddingRight)};return!isNaN(d.left)&&!isNaN(d.right)&&(s.cachedPaddingH=d),d}function Bi(s){return Oe-s.display.nativeBarWidth}function ya(s){return s.display.scroller.clientWidth-Bi(s)-s.display.barWidth}function py(s){return s.display.scroller.clientHeight-Bi(s)-s.display.barHeight}function c4(s,l,f){var d=s.options.lineWrapping,m=d&&ya(s);if(!l.measure.heights||d&&l.measure.width!=m){var y=l.measure.heights=[];if(d){l.measure.width=m;for(var T=l.text.firstChild.getClientRects(),D=0;D<T.length-1;D++){var L=T[D],M=T[D+1];Math.abs(L.bottom-M.bottom)>2&&y.push((L.bottom+M.top)/2-f.top)}}y.push(f.bottom-f.top)}}function dC(s,l,f){if(s.line==l)return{map:s.measure.map,cache:s.measure.cache};if(s.rest){for(var d=0;d<s.rest.length;d++)if(s.rest[d]==l)return{map:s.measure.maps[d],cache:s.measure.caches[d]};for(var m=0;m<s.rest.length;m++)if(A(s.rest[m])>f)return{map:s.measure.maps[m],cache:s.measure.caches[m],before:!0}}}function u4(s,l){l=gi(l);var f=A(l),d=s.display.externalMeasured=new iC(s.doc,l,f);d.lineN=f;var m=d.built=nC(s,d);return d.text=m.pre,V(s.display.lineMeasure,m.pre),d}function fC(s,l,f,d){return $i(s,_l(s,l),f,d)}function hy(s,l){if(l>=s.display.viewFrom&&l<s.display.viewTo)return s.display.view[Sa(s,l)];var f=s.display.externalMeasured;if(f&&l>=f.lineN&&l<f.lineN+f.size)return f}function _l(s,l){var f=A(l),d=hy(s,f);d&&!d.text?d=null:d&&d.changes&&(sC(s,d,f,wy(s)),s.curOp.forceUpdate=!0),d||(d=u4(s,l));var m=dC(d,l,f);return{line:l,view:d,rect:null,map:m.map,cache:m.cache,before:m.before,hasHeights:!1}}function $i(s,l,f,d,m){l.before&&(f=-1);var y=f+(d||""),T;return l.cache.hasOwnProperty(y)?T=l.cache[y]:(l.rect||(l.rect=l.view.text.getBoundingClientRect()),l.hasHeights||(c4(s,l.view,l.rect),l.hasHeights=!0),T=f4(s,l,f,d),T.bogus||(l.cache[y]=T)),{left:T.left,right:T.right,top:m?T.rtop:T.top,bottom:m?T.rbottom:T.bottom}}var pC={left:0,right:0,top:0,bottom:0};function hC(s,l,f){for(var d,m,y,T,D,L,M=0;M<s.length;M+=3)if(D=s[M],L=s[M+1],l<D?(m=0,y=1,T="left"):l<L?(m=l-D,y=m+1):(M==s.length-3||l==L&&s[M+3]>l)&&(y=L-D,m=y-1,l>=L&&(T="right")),m!=null){if(d=s[M+2],D==L&&f==(d.insertLeft?"left":"right")&&(T=f),f=="left"&&m==0)for(;M&&s[M-2]==s[M-3]&&s[M-1].insertLeft;)d=s[(M-=3)+2],T="left";if(f=="right"&&m==L-D)for(;M<s.length-3&&s[M+3]==s[M+4]&&!s[M+5].insertLeft;)d=s[(M+=3)+2],T="right";break}return{node:d,start:m,end:y,collapse:T,coverStart:D,coverEnd:L}}function d4(s,l){var f=pC;if(l=="left")for(var d=0;d<s.length&&(f=s[d]).left==f.right;d++);else for(var m=s.length-1;m>=0&&(f=s[m]).left==f.right;m--);return f}function f4(s,l,f,d){var m=hC(l.map,f,d),y=m.node,T=m.start,D=m.end,L=m.collapse,M;if(y.nodeType==3){for(var $=0;$<4;$++){for(;T&&Ce(l.line.text.charAt(m.coverStart+T));)--T;for(;m.coverStart+D<m.coverEnd&&Ce(l.line.text.charAt(m.coverStart+D));)++D;if(u&&p<9&&T==0&&D==m.coverEnd-m.coverStart?M=y.parentNode.getBoundingClientRect():M=d4(oe(y,T,D).getClientRects(),d),M.left||M.right||T==0)break;D=T,T=T-1,L="right"}u&&p<11&&(M=p4(s.display.measure,M))}else{T>0&&(L=d="right");var W;s.options.lineWrapping&&(W=y.getClientRects()).length>1?M=W[d=="right"?W.length-1:0]:M=y.getBoundingClientRect()}if(u&&p<9&&!T&&(!M||!M.left&&!M.right)){var J=y.parentNode.getClientRects()[0];J?M={left:J.left,right:J.left+Rl(s.display),top:J.top,bottom:J.bottom}:M=pC}for(var q=M.top-l.rect.top,re=M.bottom-l.rect.top,de=(q+re)/2,Se=l.view.measure.heights,Re=0;Re<Se.length-1&&!(de<Se[Re]);Re++);var ke=Re?Se[Re-1]:0,Te=Se[Re],Ae={left:(L=="right"?M.right:M.left)-l.rect.left,right:(L=="left"?M.left:M.right)-l.rect.left,top:ke,bottom:Te};return!M.left&&!M.right&&(Ae.bogus=!0),s.options.singleCursorHeightPerLine||(Ae.rtop=q,Ae.rbottom=re),Ae}function p4(s,l){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!ry(s))return l;var f=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:l.left*f,right:l.right*f,top:l.top*d,bottom:l.bottom*d}}function mC(s){if(s.measure&&(s.measure.cache={},s.measure.heights=null,s.rest))for(var l=0;l<s.rest.length;l++)s.measure.caches[l]={}}function gC(s){s.display.externalMeasure=null,z(s.display.lineMeasure);for(var l=0;l<s.display.view.length;l++)mC(s.display.view[l])}function Wu(s){gC(s),s.display.cachedCharWidth=s.display.cachedTextHeight=s.display.cachedPaddingH=null,s.options.lineWrapping||(s.display.maxLineChanged=!0),s.display.lineNumChars=null}function vC(s){return v&&k?-(s.body.getBoundingClientRect().left-parseInt(getComputedStyle(s.body).marginLeft)):s.defaultView.pageXOffset||(s.documentElement||s.body).scrollLeft}function yC(s){return v&&k?-(s.body.getBoundingClientRect().top-parseInt(getComputedStyle(s.body).marginTop)):s.defaultView.pageYOffset||(s.documentElement||s.body).scrollTop}function my(s){var l=gi(s),f=l.widgets,d=0;if(f)for(var m=0;m<f.length;++m)f[m].above&&(d+=Hu(f[m]));return d}function Mp(s,l,f,d,m){if(!m){var y=my(l);f.top+=y,f.bottom+=y}if(d=="line")return f;d||(d="local");var T=ys(l);if(d=="local"?T+=Lp(s.display):T-=s.display.viewOffset,d=="page"||d=="window"){var D=s.display.lineSpace.getBoundingClientRect();T+=D.top+(d=="window"?0:yC(ae(s)));var L=D.left+(d=="window"?0:vC(ae(s)));f.left+=L,f.right+=L}return f.top+=T,f.bottom+=T,f}function wC(s,l,f){if(f=="div")return l;var d=l.left,m=l.top;if(f=="page")d-=vC(ae(s)),m-=yC(ae(s));else if(f=="local"||!f){var y=s.display.sizer.getBoundingClientRect();d+=y.left,m+=y.top}var T=s.display.lineSpace.getBoundingClientRect();return{left:d-T.left,top:m-T.top}}function Op(s,l,f,d,m){return d||(d=Be(s.doc,l.line)),Mp(s,d,fC(s,d,l.ch,m),f)}function vi(s,l,f,d,m,y){d=d||Be(s.doc,l.line),m||(m=_l(s,d));function T(re,de){var Se=$i(s,m,re,de?"right":"left",y);return de?Se.left=Se.right:Se.right=Se.left,Mp(s,d,Se,f)}var D=Ne(d,s.doc.direction),L=l.ch,M=l.sticky;if(L>=d.text.length?(L=d.text.length,M="before"):L<=0&&(L=0,M="after"),!D)return T(M=="before"?L-1:L,M=="before");function $(re,de,Se){var Re=D[de],ke=Re.level==1;return T(Se?re-1:re,ke!=Se)}var W=De(D,L,M),J=ne,q=$(L,W,M=="before");return J!=null&&(q.other=$(L,J,M!="before")),q}function bC(s,l){var f=0;l=rt(s.doc,l),s.options.lineWrapping||(f=Rl(s.display)*l.ch);var d=Be(s.doc,l.line),m=ys(d)+Lp(s.display);return{left:f,right:f,top:m,bottom:m+d.height}}function gy(s,l,f,d,m){var y=te(s,l,f);return y.xRel=m,d&&(y.outside=d),y}function vy(s,l,f){var d=s.doc;if(f+=s.display.viewOffset,f<0)return gy(d.first,0,null,-1,-1);var m=H(d,f),y=d.first+d.size-1;if(m>y)return gy(d.first+d.size-1,Be(d,y).text.length,null,1,1);l<0&&(l=0);for(var T=Be(d,m);;){var D=h4(s,T,m,l,f),L=UF(T,D.ch+(D.xRel>0||D.outside>0?1:0));if(!L)return D;var M=L.find(1);if(M.line==m)return M;T=Be(d,m=M.line)}}function SC(s,l,f,d){d-=my(l);var m=l.text.length,y=Ie(function(T){return $i(s,f,T-1).bottom<=d},m,0);return m=Ie(function(T){return $i(s,f,T).top>d},y,m),{begin:y,end:m}}function xC(s,l,f,d){f||(f=_l(s,l));var m=Mp(s,l,$i(s,f,d),"line").top;return SC(s,l,f,m)}function yy(s,l,f,d){return s.bottom<=f?!1:s.top>f?!0:(d?s.left:s.right)>l}function h4(s,l,f,d,m){m-=ys(l);var y=_l(s,l),T=my(l),D=0,L=l.text.length,M=!0,$=Ne(l,s.doc.direction);if($){var W=(s.options.lineWrapping?g4:m4)(s,l,f,y,$,d,m);M=W.level!=1,D=M?W.from:W.to-1,L=M?W.to:W.from-1}var J=null,q=null,re=Ie(function(He){var Ve=$i(s,y,He);return Ve.top+=T,Ve.bottom+=T,yy(Ve,d,m,!1)?(Ve.top<=m&&Ve.left<=d&&(J=He,q=Ve),!0):!1},D,L),de,Se,Re=!1;if(q){var ke=d-q.left<q.right-d,Te=ke==M;re=J+(Te?0:1),Se=Te?"after":"before",de=ke?q.left:q.right}else{!M&&(re==L||re==D)&&re++,Se=re==0?"after":re==l.text.length?"before":$i(s,y,re-(M?1:0)).bottom+T<=m==M?"after":"before";var Ae=vi(s,te(f,re,Se),"line",l,y);de=Ae.left,Re=m<Ae.top?-1:m>=Ae.bottom?1:0}return re=Ue(l.text,re,1),gy(f,re,Se,Re,d-de)}function m4(s,l,f,d,m,y,T){var D=Ie(function(W){var J=m[W],q=J.level!=1;return yy(vi(s,te(f,q?J.to:J.from,q?"before":"after"),"line",l,d),y,T,!0)},0,m.length-1),L=m[D];if(D>0){var M=L.level!=1,$=vi(s,te(f,M?L.from:L.to,M?"after":"before"),"line",l,d);yy($,y,T,!0)&&$.top>T&&(L=m[D-1])}return L}function g4(s,l,f,d,m,y,T){var D=SC(s,l,d,T),L=D.begin,M=D.end;/\s/.test(l.text.charAt(M-1))&&M--;for(var $=null,W=null,J=0;J<m.length;J++){var q=m[J];if(!(q.from>=M||q.to<=L)){var re=q.level!=1,de=$i(s,d,re?Math.min(M,q.to)-1:Math.max(L,q.from)).right,Se=de<y?y-de+1e9:de-y;(!$||W>Se)&&($=q,W=Se)}}return $||($=m[m.length-1]),$.from<L&&($={from:L,to:$.to,level:$.level}),$.to>M&&($={from:$.from,to:M,level:$.level}),$}var wa;function Cl(s){if(s.cachedTextHeight!=null)return s.cachedTextHeight;if(wa==null){wa=O("pre",null,"CodeMirror-line-like");for(var l=0;l<49;++l)wa.appendChild(document.createTextNode("x")),wa.appendChild(O("br"));wa.appendChild(document.createTextNode("x"))}V(s.measure,wa);var f=wa.offsetHeight/50;return f>3&&(s.cachedTextHeight=f),z(s.measure),f||1}function Rl(s){if(s.cachedCharWidth!=null)return s.cachedCharWidth;var l=O("span","xxxxxxxxxx"),f=O("pre",[l],"CodeMirror-line-like");V(s.measure,f);var d=l.getBoundingClientRect(),m=(d.right-d.left)/10;return m>2&&(s.cachedCharWidth=m),m||10}function wy(s){for(var l=s.display,f={},d={},m=l.gutters.clientLeft,y=l.gutters.firstChild,T=0;y;y=y.nextSibling,++T){var D=s.display.gutterSpecs[T].className;f[D]=y.offsetLeft+y.clientLeft+m,d[D]=y.clientWidth}return{fixedPos:by(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:f,gutterWidth:d,wrapperWidth:l.wrapper.clientWidth}}function by(s){return s.scroller.getBoundingClientRect().left-s.sizer.getBoundingClientRect().left}function _C(s){var l=Cl(s.display),f=s.options.lineWrapping,d=f&&Math.max(5,s.display.scroller.clientWidth/Rl(s.display)-3);return function(m){if(so(s.doc,m))return 0;var y=0;if(m.widgets)for(var T=0;T<m.widgets.length;T++)m.widgets[T].height&&(y+=m.widgets[T].height);return f?y+(Math.ceil(m.text.length/d)||1)*l:y+l}}function Sy(s){var l=s.doc,f=_C(s);l.iter(function(d){var m=f(d);m!=d.height&&Lr(d,m)})}function ba(s,l,f,d){var m=s.display;if(!f&&Iu(l).getAttribute("cm-not-content")=="true")return null;var y,T,D=m.lineSpace.getBoundingClientRect();try{y=l.clientX-D.left,T=l.clientY-D.top}catch{return null}var L=vy(s,y,T),M;if(d&&L.xRel>0&&(M=Be(s.doc,L.line).text).length==L.ch){var $=he(M,M.length,s.options.tabSize)-M.length;L=te(L.line,Math.max(0,Math.round((y-uC(s.display).left)/Rl(s.display))-$))}return L}function Sa(s,l){if(l>=s.display.viewTo||(l-=s.display.viewFrom,l<0))return null;for(var f=s.display.view,d=0;d<f.length;d++)if(l-=f[d].size,l<0)return d}function lr(s,l,f,d){l==null&&(l=s.doc.first),f==null&&(f=s.doc.first+s.doc.size),d||(d=0);var m=s.display;if(d&&f<m.viewTo&&(m.updateLineNumbers==null||m.updateLineNumbers>l)&&(m.updateLineNumbers=l),s.curOp.viewChanged=!0,l>=m.viewTo)vs&&ly(s.doc,l)<m.viewTo&&ao(s);else if(f<=m.viewFrom)vs&&eC(s.doc,f+d)>m.viewFrom?ao(s):(m.viewFrom+=d,m.viewTo+=d);else if(l<=m.viewFrom&&f>=m.viewTo)ao(s);else if(l<=m.viewFrom){var y=Ap(s,f,f+d,1);y?(m.view=m.view.slice(y.index),m.viewFrom=y.lineN,m.viewTo+=d):ao(s)}else if(f>=m.viewTo){var T=Ap(s,l,l,-1);T?(m.view=m.view.slice(0,T.index),m.viewTo=T.lineN):ao(s)}else{var D=Ap(s,l,l,-1),L=Ap(s,f,f+d,1);D&&L?(m.view=m.view.slice(0,D.index).concat(Dp(s,D.lineN,L.lineN)).concat(m.view.slice(L.index)),m.viewTo+=d):ao(s)}var M=m.externalMeasured;M&&(f<M.lineN?M.lineN+=d:l<M.lineN+M.size&&(m.externalMeasured=null))}function oo(s,l,f){s.curOp.viewChanged=!0;var d=s.display,m=s.display.externalMeasured;if(m&&l>=m.lineN&&l<m.lineN+m.size&&(d.externalMeasured=null),!(l<d.viewFrom||l>=d.viewTo)){var y=d.view[Sa(s,l)];if(y.node!=null){var T=y.changes||(y.changes=[]);ge(T,f)==-1&&T.push(f)}}}function ao(s){s.display.viewFrom=s.display.viewTo=s.doc.first,s.display.view=[],s.display.viewOffset=0}function Ap(s,l,f,d){var m=Sa(s,l),y,T=s.display.view;if(!vs||f==s.doc.first+s.doc.size)return{index:m,lineN:f};for(var D=s.display.viewFrom,L=0;L<m;L++)D+=T[L].size;if(D!=l){if(d>0){if(m==T.length-1)return null;y=D+T[m].size-l,m++}else y=D-l;l+=y,f+=y}for(;ly(s.doc,f)!=f;){if(m==(d<0?0:T.length-1))return null;f+=d*T[m-(d<0?1:0)].size,m+=d}return{index:m,lineN:f}}function v4(s,l,f){var d=s.display,m=d.view;m.length==0||l>=d.viewTo||f<=d.viewFrom?(d.view=Dp(s,l,f),d.viewFrom=l):(d.viewFrom>l?d.view=Dp(s,l,d.viewFrom).concat(d.view):d.viewFrom<l&&(d.view=d.view.slice(Sa(s,l))),d.viewFrom=l,d.viewTo<f?d.view=d.view.concat(Dp(s,d.viewTo,f)):d.viewTo>f&&(d.view=d.view.slice(0,Sa(s,f)))),d.viewTo=f}function CC(s){for(var l=s.display.view,f=0,d=0;d<l.length;d++){var m=l[d];!m.hidden&&(!m.node||m.changes)&&++f}return f}function Ku(s){s.display.input.showSelection(s.display.input.prepareSelection())}function RC(s,l){l===void 0&&(l=!0);var f=s.doc,d={},m=d.cursors=document.createDocumentFragment(),y=d.selection=document.createDocumentFragment(),T=s.options.$customCursor;T&&(l=!0);for(var D=0;D<f.sel.ranges.length;D++)if(!(!l&&D==f.sel.primIndex)){var L=f.sel.ranges[D];if(!(L.from().line>=s.display.viewTo||L.to().line<s.display.viewFrom)){var M=L.empty();if(T){var $=T(s,L);$&&xy(s,$,m)}else(M||s.options.showCursorWhenSelecting)&&xy(s,L.head,m);M||y4(s,L,y)}}return d}function xy(s,l,f){var d=vi(s,l,"div",null,null,!s.options.singleCursorHeightPerLine),m=f.appendChild(O("div"," ","CodeMirror-cursor"));if(m.style.left=d.left+"px",m.style.top=d.top+"px",m.style.height=Math.max(0,d.bottom-d.top)*s.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(s.getWrapperElement().className)){var y=Op(s,l,"div",null,null),T=y.right-y.left;m.style.width=(T>0?T:s.defaultCharWidth())+"px"}if(d.other){var D=f.appendChild(O("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));D.style.display="",D.style.left=d.other.left+"px",D.style.top=d.other.top+"px",D.style.height=(d.other.bottom-d.other.top)*.85+"px"}}function Np(s,l){return s.top-l.top||s.left-l.left}function y4(s,l,f){var d=s.display,m=s.doc,y=document.createDocumentFragment(),T=uC(s.display),D=T.left,L=Math.max(d.sizerWidth,ya(s)-d.sizer.offsetLeft)-T.right,M=m.direction=="ltr";function $(Te,Ae,He,Ve){Ae<0&&(Ae=0),Ae=Math.round(Ae),Ve=Math.round(Ve),y.appendChild(O("div",null,"CodeMirror-selected","position: absolute; left: "+Te+`px;
                             top: `+Ae+"px; width: "+(He??L-Te)+`px;
                             height: `+(Ve-Ae)+"px"))}function W(Te,Ae,He){var Ve=Be(m,Te),at=Ve.text.length,Nt,On;function Kt(dn,dr){return Op(s,te(Te,dn),"div",Ve,dr)}function wr(dn,dr,zn){var yn=xC(s,Ve,null,dn),fn=dr=="ltr"==(zn=="after")?"left":"right",Qt=zn=="after"?yn.begin:yn.end-(/\s/.test(Ve.text.charAt(yn.end-1))?2:1);return Kt(Qt,fn)[fn]}var ur=Ne(Ve,m.direction);return bt(ur,Ae||0,He??at,function(dn,dr,zn,yn){var fn=zn=="ltr",Qt=Kt(dn,fn?"left":"right"),fr=Kt(dr-1,fn?"right":"left"),Fl=Ae==null&&dn==0,ho=He==null&&dr==at,Kn=yn==0,zi=!ur||yn==ur.length-1;if(fr.top-Qt.top<=3){var An=(M?Fl:ho)&&Kn,Yy=(M?ho:Fl)&&zi,xs=An?D:(fn?Qt:fr).left,Ta=Yy?L:(fn?fr:Qt).right;$(xs,Qt.top,Ta-xs,Qt.bottom)}else{var Ea,er,Bl,Xy;fn?(Ea=M&&Fl&&Kn?D:Qt.left,er=M?L:wr(dn,zn,"before"),Bl=M?D:wr(dr,zn,"after"),Xy=M&&ho&&zi?L:fr.right):(Ea=M?wr(dn,zn,"before"):D,er=!M&&Fl&&Kn?L:Qt.right,Bl=!M&&ho&&zi?D:fr.left,Xy=M?wr(dr,zn,"after"):L),$(Ea,Qt.top,er-Ea,Qt.bottom),Qt.bottom<fr.top&&$(D,Qt.bottom,null,fr.top),$(Bl,fr.top,Xy-Bl,fr.bottom)}(!Nt||Np(Qt,Nt)<0)&&(Nt=Qt),Np(fr,Nt)<0&&(Nt=fr),(!On||Np(Qt,On)<0)&&(On=Qt),Np(fr,On)<0&&(On=fr)}),{start:Nt,end:On}}var J=l.from(),q=l.to();if(J.line==q.line)W(J.line,J.ch,q.ch);else{var re=Be(m,J.line),de=Be(m,q.line),Se=gi(re)==gi(de),Re=W(J.line,J.ch,Se?re.text.length+1:null).end,ke=W(q.line,Se?0:null,q.ch).start;Se&&(Re.top<ke.top-2?($(Re.right,Re.top,null,Re.bottom),$(D,ke.top,ke.left,ke.bottom)):$(Re.right,Re.top,ke.left-Re.right,Re.bottom)),Re.bottom<ke.top&&$(D,Re.bottom,null,ke.top)}f.appendChild(y)}function _y(s){if(s.state.focused){var l=s.display;clearInterval(l.blinker);var f=!0;l.cursorDiv.style.visibility="",s.options.cursorBlinkRate>0?l.blinker=setInterval(function(){s.hasFocus()||Tl(s),l.cursorDiv.style.visibility=(f=!f)?"":"hidden"},s.options.cursorBlinkRate):s.options.cursorBlinkRate<0&&(l.cursorDiv.style.visibility="hidden")}}function TC(s){s.hasFocus()||(s.display.input.focus(),s.state.focused||Ry(s))}function Cy(s){s.state.delayingBlurEvent=!0,setTimeout(function(){s.state.delayingBlurEvent&&(s.state.delayingBlurEvent=!1,s.state.focused&&Tl(s))},100)}function Ry(s,l){s.state.delayingBlurEvent&&!s.state.draggingText&&(s.state.delayingBlurEvent=!1),s.options.readOnly!="nocursor"&&(s.state.focused||(Bt(s,"focus",s,l),s.state.focused=!0,K(s.display.wrapper,"CodeMirror-focused"),!s.curOp&&s.display.selForContextMenu!=s.doc.sel&&(s.display.input.reset(),h&&setTimeout(function(){return s.display.input.reset(!0)},20)),s.display.input.receivedFocus()),_y(s))}function Tl(s,l){s.state.delayingBlurEvent||(s.state.focused&&(Bt(s,"blur",s,l),s.state.focused=!1,Y(s.display.wrapper,"CodeMirror-focused")),clearInterval(s.display.blinker),setTimeout(function(){s.state.focused||(s.display.shift=!1)},150))}function Ip(s){for(var l=s.display,f=l.lineDiv.offsetTop,d=Math.max(0,l.scroller.getBoundingClientRect().top),m=l.lineDiv.getBoundingClientRect().top,y=0,T=0;T<l.view.length;T++){var D=l.view[T],L=s.options.lineWrapping,M=void 0,$=0;if(!D.hidden){if(m+=D.line.height,u&&p<8){var W=D.node.offsetTop+D.node.offsetHeight;M=W-f,f=W}else{var J=D.node.getBoundingClientRect();M=J.bottom-J.top,!L&&D.text.firstChild&&($=D.text.firstChild.getBoundingClientRect().right-J.left-1)}var q=D.line.height-M;if((q>.005||q<-.005)&&(m<d&&(y-=q),Lr(D.line,M),EC(D.line),D.rest))for(var re=0;re<D.rest.length;re++)EC(D.rest[re]);if($>s.display.sizerWidth){var de=Math.ceil($/Rl(s.display));de>s.display.maxLineLength&&(s.display.maxLineLength=de,s.display.maxLine=D.line,s.display.maxLineChanged=!0)}}}Math.abs(y)>2&&(l.scroller.scrollTop+=y)}function EC(s){if(s.widgets)for(var l=0;l<s.widgets.length;++l){var f=s.widgets[l],d=f.node.parentNode;d&&(f.height=d.offsetHeight)}}function jp(s,l,f){var d=f&&f.top!=null?Math.max(0,f.top):s.scroller.scrollTop;d=Math.floor(d-Lp(s));var m=f&&f.bottom!=null?f.bottom:d+s.wrapper.clientHeight,y=H(l,d),T=H(l,m);if(f&&f.ensure){var D=f.ensure.from.line,L=f.ensure.to.line;D<y?(y=D,T=H(l,ys(Be(l,D))+s.wrapper.clientHeight)):Math.min(L,l.lastLine())>=T&&(y=H(l,ys(Be(l,L))-s.wrapper.clientHeight),T=L)}return{from:y,to:Math.max(T,y+1)}}function w4(s,l){if(!Dt(s,"scrollCursorIntoView")){var f=s.display,d=f.sizer.getBoundingClientRect(),m=null,y=f.wrapper.ownerDocument;if(l.top+d.top<0?m=!0:l.bottom+d.top>(y.defaultView.innerHeight||y.documentElement.clientHeight)&&(m=!1),m!=null&&!R){var T=O("div","​",null,`position: absolute;
                         top: `+(l.top-f.viewOffset-Lp(s.display))+`px;
                         height: `+(l.bottom-l.top+Bi(s)+f.barHeight)+`px;
                         left: `+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;");s.display.lineSpace.appendChild(T),T.scrollIntoView(m),s.display.lineSpace.removeChild(T)}}}function b4(s,l,f,d){d==null&&(d=0);var m;!s.options.lineWrapping&&l==f&&(f=l.sticky=="before"?te(l.line,l.ch+1,"before"):l,l=l.ch?te(l.line,l.sticky=="before"?l.ch-1:l.ch,"after"):l);for(var y=0;y<5;y++){var T=!1,D=vi(s,l),L=!f||f==l?D:vi(s,f);m={left:Math.min(D.left,L.left),top:Math.min(D.top,L.top)-d,right:Math.max(D.left,L.left),bottom:Math.max(D.bottom,L.bottom)+d};var M=Ty(s,m),$=s.doc.scrollTop,W=s.doc.scrollLeft;if(M.scrollTop!=null&&(qu(s,M.scrollTop),Math.abs(s.doc.scrollTop-$)>1&&(T=!0)),M.scrollLeft!=null&&(xa(s,M.scrollLeft),Math.abs(s.doc.scrollLeft-W)>1&&(T=!0)),!T)break}return m}function S4(s,l){var f=Ty(s,l);f.scrollTop!=null&&qu(s,f.scrollTop),f.scrollLeft!=null&&xa(s,f.scrollLeft)}function Ty(s,l){var f=s.display,d=Cl(s.display);l.top<0&&(l.top=0);var m=s.curOp&&s.curOp.scrollTop!=null?s.curOp.scrollTop:f.scroller.scrollTop,y=py(s),T={};l.bottom-l.top>y&&(l.bottom=l.top+y);var D=s.doc.height+fy(f),L=l.top<d,M=l.bottom>D-d;if(l.top<m)T.scrollTop=L?0:l.top;else if(l.bottom>m+y){var $=Math.min(l.top,(M?D:l.bottom)-y);$!=m&&(T.scrollTop=$)}var W=s.options.fixedGutter?0:f.gutters.offsetWidth,J=s.curOp&&s.curOp.scrollLeft!=null?s.curOp.scrollLeft:f.scroller.scrollLeft-W,q=ya(s)-f.gutters.offsetWidth,re=l.right-l.left>q;return re&&(l.right=l.left+q),l.left<10?T.scrollLeft=0:l.left<J?T.scrollLeft=Math.max(0,l.left+W-(re?0:10)):l.right>q+J-3&&(T.scrollLeft=l.right+(re?0:10)-q),T}function Ey(s,l){l!=null&&(Fp(s),s.curOp.scrollTop=(s.curOp.scrollTop==null?s.doc.scrollTop:s.curOp.scrollTop)+l)}function El(s){Fp(s);var l=s.getCursor();s.curOp.scrollToPos={from:l,to:l,margin:s.options.cursorScrollMargin}}function Gu(s,l,f){(l!=null||f!=null)&&Fp(s),l!=null&&(s.curOp.scrollLeft=l),f!=null&&(s.curOp.scrollTop=f)}function x4(s,l){Fp(s),s.curOp.scrollToPos=l}function Fp(s){var l=s.curOp.scrollToPos;if(l){s.curOp.scrollToPos=null;var f=bC(s,l.from),d=bC(s,l.to);PC(s,f,d,l.margin)}}function PC(s,l,f,d){var m=Ty(s,{left:Math.min(l.left,f.left),top:Math.min(l.top,f.top)-d,right:Math.max(l.right,f.right),bottom:Math.max(l.bottom,f.bottom)+d});Gu(s,m.scrollLeft,m.scrollTop)}function qu(s,l){Math.abs(s.doc.scrollTop-l)<2||(i||ky(s,{top:l}),kC(s,l,!0),i&&ky(s),Qu(s,100))}function kC(s,l,f){l=Math.max(0,Math.min(s.display.scroller.scrollHeight-s.display.scroller.clientHeight,l)),!(s.display.scroller.scrollTop==l&&!f)&&(s.doc.scrollTop=l,s.display.scrollbars.setScrollTop(l),s.display.scroller.scrollTop!=l&&(s.display.scroller.scrollTop=l))}function xa(s,l,f,d){l=Math.max(0,Math.min(l,s.display.scroller.scrollWidth-s.display.scroller.clientWidth)),!((f?l==s.doc.scrollLeft:Math.abs(s.doc.scrollLeft-l)<2)&&!d)&&(s.doc.scrollLeft=l,AC(s),s.display.scroller.scrollLeft!=l&&(s.display.scroller.scrollLeft=l),s.display.scrollbars.setScrollLeft(l))}function Yu(s){var l=s.display,f=l.gutters.offsetWidth,d=Math.round(s.doc.height+fy(s.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:s.options.fixedGutter?f:0,docHeight:d,scrollHeight:d+Bi(s)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:f}}var _a=function(s,l,f){this.cm=f;var d=this.vert=O("div",[O("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),m=this.horiz=O("div",[O("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");d.tabIndex=m.tabIndex=-1,s(d),s(m),Le(d,"scroll",function(){d.clientHeight&&l(d.scrollTop,"vertical")}),Le(m,"scroll",function(){m.clientWidth&&l(m.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,u&&p<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};_a.prototype.update=function(s){var l=s.scrollWidth>s.clientWidth+1,f=s.scrollHeight>s.clientHeight+1,d=s.nativeBarWidth;if(f){this.vert.style.display="block",this.vert.style.bottom=l?d+"px":"0";var m=s.viewHeight-(l?d:0);this.vert.firstChild.style.height=Math.max(0,s.scrollHeight-s.clientHeight+m)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(l){this.horiz.style.display="block",this.horiz.style.right=f?d+"px":"0",this.horiz.style.left=s.barLeft+"px";var y=s.viewWidth-s.barLeft-(f?d:0);this.horiz.firstChild.style.width=Math.max(0,s.scrollWidth-s.clientWidth+y)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&s.clientHeight>0&&(d==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:f?d:0,bottom:l?d:0}},_a.prototype.setScrollLeft=function(s){this.horiz.scrollLeft!=s&&(this.horiz.scrollLeft=s),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},_a.prototype.setScrollTop=function(s){this.vert.scrollTop!=s&&(this.vert.scrollTop=s),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},_a.prototype.zeroWidthHack=function(){var s=N&&!P?"12px":"18px";this.horiz.style.height=this.vert.style.width=s,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ee,this.disableVert=new Ee},_a.prototype.enableZeroWidthBar=function(s,l,f){s.style.visibility="";function d(){var m=s.getBoundingClientRect(),y=f=="vert"?document.elementFromPoint(m.right-1,(m.top+m.bottom)/2):document.elementFromPoint((m.right+m.left)/2,m.bottom-1);y!=s?s.style.visibility="hidden":l.set(1e3,d)}l.set(1e3,d)},_a.prototype.clear=function(){var s=this.horiz.parentNode;s.removeChild(this.horiz),s.removeChild(this.vert)};var Xu=function(){};Xu.prototype.update=function(){return{bottom:0,right:0}},Xu.prototype.setScrollLeft=function(){},Xu.prototype.setScrollTop=function(){},Xu.prototype.clear=function(){};function Pl(s,l){l||(l=Yu(s));var f=s.display.barWidth,d=s.display.barHeight;DC(s,l);for(var m=0;m<4&&f!=s.display.barWidth||d!=s.display.barHeight;m++)f!=s.display.barWidth&&s.options.lineWrapping&&Ip(s),DC(s,Yu(s)),f=s.display.barWidth,d=s.display.barHeight}function DC(s,l){var f=s.display,d=f.scrollbars.update(l);f.sizer.style.paddingRight=(f.barWidth=d.right)+"px",f.sizer.style.paddingBottom=(f.barHeight=d.bottom)+"px",f.heightForcer.style.borderBottom=d.bottom+"px solid transparent",d.right&&d.bottom?(f.scrollbarFiller.style.display="block",f.scrollbarFiller.style.height=d.bottom+"px",f.scrollbarFiller.style.width=d.right+"px"):f.scrollbarFiller.style.display="",d.bottom&&s.options.coverGutterNextToScrollbar&&s.options.fixedGutter?(f.gutterFiller.style.display="block",f.gutterFiller.style.height=d.bottom+"px",f.gutterFiller.style.width=l.gutterWidth+"px"):f.gutterFiller.style.display=""}var LC={native:_a,null:Xu};function MC(s){s.display.scrollbars&&(s.display.scrollbars.clear(),s.display.scrollbars.addClass&&Y(s.display.wrapper,s.display.scrollbars.addClass)),s.display.scrollbars=new LC[s.options.scrollbarStyle](function(l){s.display.wrapper.insertBefore(l,s.display.scrollbarFiller),Le(l,"mousedown",function(){s.state.focused&&setTimeout(function(){return s.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,f){f=="horizontal"?xa(s,l):qu(s,l)},s),s.display.scrollbars.addClass&&K(s.display.wrapper,s.display.scrollbars.addClass)}var _4=0;function Ca(s){s.curOp={cm:s,viewChanged:!1,startHeight:s.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++_4,markArrays:null},e4(s.curOp)}function Ra(s){var l=s.curOp;l&&n4(l,function(f){for(var d=0;d<f.ops.length;d++)f.ops[d].cm.curOp=null;C4(f)})}function C4(s){for(var l=s.ops,f=0;f<l.length;f++)R4(l[f]);for(var d=0;d<l.length;d++)T4(l[d]);for(var m=0;m<l.length;m++)E4(l[m]);for(var y=0;y<l.length;y++)P4(l[y]);for(var T=0;T<l.length;T++)k4(l[T])}function R4(s){var l=s.cm,f=l.display;L4(l),s.updateMaxLine&&uy(l),s.mustUpdate=s.viewChanged||s.forceUpdate||s.scrollTop!=null||s.scrollToPos&&(s.scrollToPos.from.line<f.viewFrom||s.scrollToPos.to.line>=f.viewTo)||f.maxLineChanged&&l.options.lineWrapping,s.update=s.mustUpdate&&new Bp(l,s.mustUpdate&&{top:s.scrollTop,ensure:s.scrollToPos},s.forceUpdate)}function T4(s){s.updatedDisplay=s.mustUpdate&&Py(s.cm,s.update)}function E4(s){var l=s.cm,f=l.display;s.updatedDisplay&&Ip(l),s.barMeasure=Yu(l),f.maxLineChanged&&!l.options.lineWrapping&&(s.adjustWidthTo=fC(l,f.maxLine,f.maxLine.text.length).left+3,l.display.sizerWidth=s.adjustWidthTo,s.barMeasure.scrollWidth=Math.max(f.scroller.clientWidth,f.sizer.offsetLeft+s.adjustWidthTo+Bi(l)+l.display.barWidth),s.maxScrollLeft=Math.max(0,f.sizer.offsetLeft+s.adjustWidthTo-ya(l))),(s.updatedDisplay||s.selectionChanged)&&(s.preparedSelection=f.input.prepareSelection())}function P4(s){var l=s.cm;s.adjustWidthTo!=null&&(l.display.sizer.style.minWidth=s.adjustWidthTo+"px",s.maxScrollLeft<l.doc.scrollLeft&&xa(l,Math.min(l.display.scroller.scrollLeft,s.maxScrollLeft),!0),l.display.maxLineChanged=!1);var f=s.focus&&s.focus==j(pe(l));s.preparedSelection&&l.display.input.showSelection(s.preparedSelection,f),(s.updatedDisplay||s.startHeight!=l.doc.height)&&Pl(l,s.barMeasure),s.updatedDisplay&&Ly(l,s.barMeasure),s.selectionChanged&&_y(l),l.state.focused&&s.updateInput&&l.display.input.reset(s.typing),f&&TC(s.cm)}function k4(s){var l=s.cm,f=l.display,d=l.doc;if(s.updatedDisplay&&OC(l,s.update),f.wheelStartX!=null&&(s.scrollTop!=null||s.scrollLeft!=null||s.scrollToPos)&&(f.wheelStartX=f.wheelStartY=null),s.scrollTop!=null&&kC(l,s.scrollTop,s.forceScroll),s.scrollLeft!=null&&xa(l,s.scrollLeft,!0,!0),s.scrollToPos){var m=b4(l,rt(d,s.scrollToPos.from),rt(d,s.scrollToPos.to),s.scrollToPos.margin);w4(l,m)}var y=s.maybeHiddenMarkers,T=s.maybeUnhiddenMarkers;if(y)for(var D=0;D<y.length;++D)y[D].lines.length||Bt(y[D],"hide");if(T)for(var L=0;L<T.length;++L)T[L].lines.length&&Bt(T[L],"unhide");f.wrapper.offsetHeight&&(d.scrollTop=l.display.scroller.scrollTop),s.changeObjs&&Bt(l,"changes",l,s.changeObjs),s.update&&s.update.finish()}function yr(s,l){if(s.curOp)return l();Ca(s);try{return l()}finally{Ra(s)}}function Ln(s,l){return function(){if(s.curOp)return l.apply(s,arguments);Ca(s);try{return l.apply(s,arguments)}finally{Ra(s)}}}function Jn(s){return function(){if(this.curOp)return s.apply(this,arguments);Ca(this);try{return s.apply(this,arguments)}finally{Ra(this)}}}function Mn(s){return function(){var l=this.cm;if(!l||l.curOp)return s.apply(this,arguments);Ca(l);try{return s.apply(this,arguments)}finally{Ra(l)}}}function Qu(s,l){s.doc.highlightFrontier<s.display.viewTo&&s.state.highlight.set(l,ee(D4,s))}function D4(s){var l=s.doc;if(!(l.highlightFrontier>=s.display.viewTo)){var f=+new Date+s.options.workTime,d=$u(s,l.highlightFrontier),m=[];l.iter(d.line,Math.min(l.first+l.size,s.display.viewTo+500),function(y){if(d.line>=s.display.viewFrom){var T=y.styles,D=y.text.length>s.options.maxHighlightLength?ji(l.mode,d.state):null,L=$_(s,y,d,!0);D&&(d.state=D),y.styles=L.styles;var M=y.styleClasses,$=L.classes;$?y.styleClasses=$:M&&(y.styleClasses=null);for(var W=!T||T.length!=y.styles.length||M!=$&&(!M||!$||M.bgClass!=$.bgClass||M.textClass!=$.textClass),J=0;!W&&J<T.length;++J)W=T[J]!=y.styles[J];W&&m.push(d.line),y.stateAfter=d.save(),d.nextLine()}else y.text.length<=s.options.maxHighlightLength&&iy(s,y.text,d),y.stateAfter=d.line%5==0?d.save():null,d.nextLine();if(+new Date>f)return Qu(s,s.options.workDelay),!0}),l.highlightFrontier=d.line,l.modeFrontier=Math.max(l.modeFrontier,d.line),m.length&&yr(s,function(){for(var y=0;y<m.length;y++)oo(s,m[y],"text")})}}var Bp=function(s,l,f){var d=s.display;this.viewport=l,this.visible=jp(d,s.doc,l),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=ya(s),this.force=f,this.dims=wy(s),this.events=[]};Bp.prototype.signal=function(s,l){En(s,l)&&this.events.push(arguments)},Bp.prototype.finish=function(){for(var s=0;s<this.events.length;s++)Bt.apply(null,this.events[s])};function L4(s){var l=s.display;!l.scrollbarsClipped&&l.scroller.offsetWidth&&(l.nativeBarWidth=l.scroller.offsetWidth-l.scroller.clientWidth,l.heightForcer.style.height=Bi(s)+"px",l.sizer.style.marginBottom=-l.nativeBarWidth+"px",l.sizer.style.borderRightWidth=Bi(s)+"px",l.scrollbarsClipped=!0)}function M4(s){if(s.hasFocus())return null;var l=j(pe(s));if(!l||!I(s.display.lineDiv,l))return null;var f={activeElt:l};if(window.getSelection){var d=se(s).getSelection();d.anchorNode&&d.extend&&I(s.display.lineDiv,d.anchorNode)&&(f.anchorNode=d.anchorNode,f.anchorOffset=d.anchorOffset,f.focusNode=d.focusNode,f.focusOffset=d.focusOffset)}return f}function O4(s){if(!(!s||!s.activeElt||s.activeElt==j(we(s.activeElt)))&&(s.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(s.activeElt.nodeName)&&s.anchorNode&&I(document.body,s.anchorNode)&&I(document.body,s.focusNode))){var l=s.activeElt.ownerDocument,f=l.defaultView.getSelection(),d=l.createRange();d.setEnd(s.anchorNode,s.anchorOffset),d.collapse(!1),f.removeAllRanges(),f.addRange(d),f.extend(s.focusNode,s.focusOffset)}}function Py(s,l){var f=s.display,d=s.doc;if(l.editorIsHidden)return ao(s),!1;if(!l.force&&l.visible.from>=f.viewFrom&&l.visible.to<=f.viewTo&&(f.updateLineNumbers==null||f.updateLineNumbers>=f.viewTo)&&f.renderedView==f.view&&CC(s)==0)return!1;NC(s)&&(ao(s),l.dims=wy(s));var m=d.first+d.size,y=Math.max(l.visible.from-s.options.viewportMargin,d.first),T=Math.min(m,l.visible.to+s.options.viewportMargin);f.viewFrom<y&&y-f.viewFrom<20&&(y=Math.max(d.first,f.viewFrom)),f.viewTo>T&&f.viewTo-T<20&&(T=Math.min(m,f.viewTo)),vs&&(y=ly(s.doc,y),T=eC(s.doc,T));var D=y!=f.viewFrom||T!=f.viewTo||f.lastWrapHeight!=l.wrapperHeight||f.lastWrapWidth!=l.wrapperWidth;v4(s,y,T),f.viewOffset=ys(Be(s.doc,f.viewFrom)),s.display.mover.style.top=f.viewOffset+"px";var L=CC(s);if(!D&&L==0&&!l.force&&f.renderedView==f.view&&(f.updateLineNumbers==null||f.updateLineNumbers>=f.viewTo))return!1;var M=M4(s);return L>4&&(f.lineDiv.style.display="none"),A4(s,f.updateLineNumbers,l.dims),L>4&&(f.lineDiv.style.display=""),f.renderedView=f.view,O4(M),z(f.cursorDiv),z(f.selectionDiv),f.gutters.style.height=f.sizer.style.minHeight=0,D&&(f.lastWrapHeight=l.wrapperHeight,f.lastWrapWidth=l.wrapperWidth,Qu(s,400)),f.updateLineNumbers=null,!0}function OC(s,l){for(var f=l.viewport,d=!0;;d=!1){if(!d||!s.options.lineWrapping||l.oldDisplayWidth==ya(s)){if(f&&f.top!=null&&(f={top:Math.min(s.doc.height+fy(s.display)-py(s),f.top)}),l.visible=jp(s.display,s.doc,f),l.visible.from>=s.display.viewFrom&&l.visible.to<=s.display.viewTo)break}else d&&(l.visible=jp(s.display,s.doc,f));if(!Py(s,l))break;Ip(s);var m=Yu(s);Ku(s),Pl(s,m),Ly(s,m),l.force=!1}l.signal(s,"update",s),(s.display.viewFrom!=s.display.reportedViewFrom||s.display.viewTo!=s.display.reportedViewTo)&&(l.signal(s,"viewportChange",s,s.display.viewFrom,s.display.viewTo),s.display.reportedViewFrom=s.display.viewFrom,s.display.reportedViewTo=s.display.viewTo)}function ky(s,l){var f=new Bp(s,l);if(Py(s,f)){Ip(s),OC(s,f);var d=Yu(s);Ku(s),Pl(s,d),Ly(s,d),f.finish()}}function A4(s,l,f){var d=s.display,m=s.options.lineNumbers,y=d.lineDiv,T=y.firstChild;function D(re){var de=re.nextSibling;return h&&N&&s.display.currentWheelTarget==re?re.style.display="none":re.parentNode.removeChild(re),de}for(var L=d.view,M=d.viewFrom,$=0;$<L.length;$++){var W=L[$];if(!W.hidden)if(!W.node||W.node.parentNode!=y){var J=a4(s,W,M,f);y.insertBefore(J,T)}else{for(;T!=W.node;)T=D(T);var q=m&&l!=null&&l<=M&&W.lineNumber;W.changes&&(ge(W.changes,"gutter")>-1&&(q=!1),sC(s,W,M,f)),q&&(z(W.lineNumber),W.lineNumber.appendChild(document.createTextNode(be(s.options,M)))),T=W.node.nextSibling}M+=W.size}for(;T;)T=D(T)}function Dy(s){var l=s.gutters.offsetWidth;s.sizer.style.marginLeft=l+"px",Dn(s,"gutterChanged",s)}function Ly(s,l){s.display.sizer.style.minHeight=l.docHeight+"px",s.display.heightForcer.style.top=l.docHeight+"px",s.display.gutters.style.height=l.docHeight+s.display.barHeight+Bi(s)+"px"}function AC(s){var l=s.display,f=l.view;if(!(!l.alignWidgets&&(!l.gutters.firstChild||!s.options.fixedGutter))){for(var d=by(l)-l.scroller.scrollLeft+s.doc.scrollLeft,m=l.gutters.offsetWidth,y=d+"px",T=0;T<f.length;T++)if(!f[T].hidden){s.options.fixedGutter&&(f[T].gutter&&(f[T].gutter.style.left=y),f[T].gutterBackground&&(f[T].gutterBackground.style.left=y));var D=f[T].alignable;if(D)for(var L=0;L<D.length;L++)D[L].style.left=y}s.options.fixedGutter&&(l.gutters.style.left=d+m+"px")}}function NC(s){if(!s.options.lineNumbers)return!1;var l=s.doc,f=be(s.options,l.first+l.size-1),d=s.display;if(f.length!=d.lineNumChars){var m=d.measure.appendChild(O("div",[O("div",f)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=m.firstChild.offsetWidth,T=m.offsetWidth-y;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(y,d.lineGutter.offsetWidth-T)+1,d.lineNumWidth=d.lineNumInnerWidth+T,d.lineNumChars=d.lineNumInnerWidth?f.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",Dy(s.display),!0}return!1}function My(s,l){for(var f=[],d=!1,m=0;m<s.length;m++){var y=s[m],T=null;if(typeof y!="string"&&(T=y.style,y=y.className),y=="CodeMirror-linenumbers")if(l)d=!0;else continue;f.push({className:y,style:T})}return l&&!d&&f.push({className:"CodeMirror-linenumbers",style:null}),f}function IC(s){var l=s.gutters,f=s.gutterSpecs;z(l),s.lineGutter=null;for(var d=0;d<f.length;++d){var m=f[d],y=m.className,T=m.style,D=l.appendChild(O("div",null,"CodeMirror-gutter "+y));T&&(D.style.cssText=T),y=="CodeMirror-linenumbers"&&(s.lineGutter=D,D.style.width=(s.lineNumWidth||1)+"px")}l.style.display=f.length?"":"none",Dy(s)}function Zu(s){IC(s.display),lr(s),AC(s)}function N4(s,l,f,d){var m=this;this.input=f,m.scrollbarFiller=O("div",null,"CodeMirror-scrollbar-filler"),m.scrollbarFiller.setAttribute("cm-not-content","true"),m.gutterFiller=O("div",null,"CodeMirror-gutter-filler"),m.gutterFiller.setAttribute("cm-not-content","true"),m.lineDiv=X("div",null,"CodeMirror-code"),m.selectionDiv=O("div",null,null,"position: relative; z-index: 1"),m.cursorDiv=O("div",null,"CodeMirror-cursors"),m.measure=O("div",null,"CodeMirror-measure"),m.lineMeasure=O("div",null,"CodeMirror-measure"),m.lineSpace=X("div",[m.measure,m.lineMeasure,m.selectionDiv,m.cursorDiv,m.lineDiv],null,"position: relative; outline: none");var y=X("div",[m.lineSpace],"CodeMirror-lines");m.mover=O("div",[y],null,"position: relative"),m.sizer=O("div",[m.mover],"CodeMirror-sizer"),m.sizerWidth=null,m.heightForcer=O("div",null,null,"position: absolute; height: "+Oe+"px; width: 1px;"),m.gutters=O("div",null,"CodeMirror-gutters"),m.lineGutter=null,m.scroller=O("div",[m.sizer,m.heightForcer,m.gutters],"CodeMirror-scroll"),m.scroller.setAttribute("tabIndex","-1"),m.wrapper=O("div",[m.scrollbarFiller,m.gutterFiller,m.scroller],"CodeMirror"),v&&w>=105&&(m.wrapper.style.clipPath="inset(0px)"),m.wrapper.setAttribute("translate","no"),u&&p<8&&(m.gutters.style.zIndex=-1,m.scroller.style.paddingRight=0),!h&&!(i&&E)&&(m.scroller.draggable=!0),s&&(s.appendChild?s.appendChild(m.wrapper):s(m.wrapper)),m.viewFrom=m.viewTo=l.first,m.reportedViewFrom=m.reportedViewTo=l.first,m.view=[],m.renderedView=null,m.externalMeasured=null,m.viewOffset=0,m.lastWrapHeight=m.lastWrapWidth=0,m.updateLineNumbers=null,m.nativeBarWidth=m.barHeight=m.barWidth=0,m.scrollbarsClipped=!1,m.lineNumWidth=m.lineNumInnerWidth=m.lineNumChars=null,m.alignWidgets=!1,m.cachedCharWidth=m.cachedTextHeight=m.cachedPaddingH=null,m.maxLine=null,m.maxLineLength=0,m.maxLineChanged=!1,m.wheelDX=m.wheelDY=m.wheelStartX=m.wheelStartY=null,m.shift=!1,m.selForContextMenu=null,m.activeTouch=null,m.gutterSpecs=My(d.gutters,d.lineNumbers),IC(m),f.init(m)}var $p=0,bs=null;u?bs=-.53:i?bs=15:v?bs=-.7:b&&(bs=-1/3);function jC(s){var l=s.wheelDeltaX,f=s.wheelDeltaY;return l==null&&s.detail&&s.axis==s.HORIZONTAL_AXIS&&(l=s.detail),f==null&&s.detail&&s.axis==s.VERTICAL_AXIS?f=s.detail:f==null&&(f=s.wheelDelta),{x:l,y:f}}function I4(s){var l=jC(s);return l.x*=bs,l.y*=bs,l}function FC(s,l){v&&w==102&&(s.display.chromeScrollHack==null?s.display.sizer.style.pointerEvents="none":clearTimeout(s.display.chromeScrollHack),s.display.chromeScrollHack=setTimeout(function(){s.display.chromeScrollHack=null,s.display.sizer.style.pointerEvents=""},100));var f=jC(l),d=f.x,m=f.y,y=bs;l.deltaMode===0&&(d=l.deltaX,m=l.deltaY,y=1);var T=s.display,D=T.scroller,L=D.scrollWidth>D.clientWidth,M=D.scrollHeight>D.clientHeight;if(d&&L||m&&M){if(m&&N&&h){e:for(var $=l.target,W=T.view;$!=D;$=$.parentNode)for(var J=0;J<W.length;J++)if(W[J].node==$){s.display.currentWheelTarget=$;break e}}if(d&&!i&&!S&&y!=null){m&&M&&qu(s,Math.max(0,D.scrollTop+m*y)),xa(s,Math.max(0,D.scrollLeft+d*y)),(!m||m&&M)&&Pn(l),T.wheelStartX=null;return}if(m&&y!=null){var q=m*y,re=s.doc.scrollTop,de=re+T.wrapper.clientHeight;q<0?re=Math.max(0,re+q-50):de=Math.min(s.doc.height,de+q+50),ky(s,{top:re,bottom:de})}$p<20&&l.deltaMode!==0&&(T.wheelStartX==null?(T.wheelStartX=D.scrollLeft,T.wheelStartY=D.scrollTop,T.wheelDX=d,T.wheelDY=m,setTimeout(function(){if(T.wheelStartX!=null){var Se=D.scrollLeft-T.wheelStartX,Re=D.scrollTop-T.wheelStartY,ke=Re&&T.wheelDY&&Re/T.wheelDY||Se&&T.wheelDX&&Se/T.wheelDX;T.wheelStartX=T.wheelStartY=null,ke&&(bs=(bs*$p+ke)/($p+1),++$p)}},200)):(T.wheelDX+=d,T.wheelDY+=m))}}var Mr=function(s,l){this.ranges=s,this.primIndex=l};Mr.prototype.primary=function(){return this.ranges[this.primIndex]},Mr.prototype.equals=function(s){if(s==this)return!0;if(s.primIndex!=this.primIndex||s.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var f=this.ranges[l],d=s.ranges[l];if(!Tt(f.anchor,d.anchor)||!Tt(f.head,d.head))return!1}return!0},Mr.prototype.deepCopy=function(){for(var s=[],l=0;l<this.ranges.length;l++)s[l]=new Et(kn(this.ranges[l].anchor),kn(this.ranges[l].head));return new Mr(s,this.primIndex)},Mr.prototype.somethingSelected=function(){for(var s=0;s<this.ranges.length;s++)if(!this.ranges[s].empty())return!0;return!1},Mr.prototype.contains=function(s,l){l||(l=s);for(var f=0;f<this.ranges.length;f++){var d=this.ranges[f];if(Pe(l,d.from())>=0&&Pe(s,d.to())<=0)return f}return-1};var Et=function(s,l){this.anchor=s,this.head=l};Et.prototype.from=function(){return bl(this.anchor,this.head)},Et.prototype.to=function(){return ar(this.anchor,this.head)},Et.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function yi(s,l,f){var d=s&&s.options.selectionsMayTouch,m=l[f];l.sort(function(J,q){return Pe(J.from(),q.from())}),f=ge(l,m);for(var y=1;y<l.length;y++){var T=l[y],D=l[y-1],L=Pe(D.to(),T.from());if(d&&!T.empty()?L>0:L>=0){var M=bl(D.from(),T.from()),$=ar(D.to(),T.to()),W=D.empty()?T.from()==T.head:D.from()==D.head;y<=f&&--f,l.splice(--y,2,new Et(W?$:M,W?M:$))}}return new Mr(l,f)}function lo(s,l){return new Mr([new Et(s,l||s)],0)}function co(s){return s.text?te(s.from.line+s.text.length-1,je(s.text).length+(s.text.length==1?s.from.ch:0)):s.to}function BC(s,l){if(Pe(s,l.from)<0)return s;if(Pe(s,l.to)<=0)return co(l);var f=s.line+l.text.length-(l.to.line-l.from.line)-1,d=s.ch;return s.line==l.to.line&&(d+=co(l).ch-l.to.ch),te(f,d)}function Oy(s,l){for(var f=[],d=0;d<s.sel.ranges.length;d++){var m=s.sel.ranges[d];f.push(new Et(BC(m.anchor,l),BC(m.head,l)))}return yi(s.cm,f,s.sel.primIndex)}function $C(s,l,f){return s.line==l.line?te(f.line,s.ch-l.ch+f.ch):te(f.line+(s.line-l.line),s.ch)}function j4(s,l,f){for(var d=[],m=te(s.first,0),y=m,T=0;T<l.length;T++){var D=l[T],L=$C(D.from,m,y),M=$C(co(D),m,y);if(m=D.to,y=M,f=="around"){var $=s.sel.ranges[T],W=Pe($.head,$.anchor)<0;d[T]=new Et(W?M:L,W?L:M)}else d[T]=new Et(L,L)}return new Mr(d,s.sel.primIndex)}function Ay(s){s.doc.mode=vl(s.options,s.doc.modeOption),Ju(s)}function Ju(s){s.doc.iter(function(l){l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null)}),s.doc.modeFrontier=s.doc.highlightFrontier=s.doc.first,Qu(s,100),s.state.modeGen++,s.curOp&&lr(s)}function zC(s,l){return l.from.ch==0&&l.to.ch==0&&je(l.text)==""&&(!s.cm||s.cm.options.wholeLineUpdateBefore)}function Ny(s,l,f,d){function m(ke){return f?f[ke]:null}function y(ke,Te,Ae){WF(ke,Te,Ae,d),Dn(ke,"change",ke,l)}function T(ke,Te){for(var Ae=[],He=ke;He<Te;++He)Ae.push(new Sl(M[He],m(He),d));return Ae}var D=l.from,L=l.to,M=l.text,$=Be(s,D.line),W=Be(s,L.line),J=je(M),q=m(M.length-1),re=L.line-D.line;if(l.full)s.insert(0,T(0,M.length)),s.remove(M.length,s.size-M.length);else if(zC(s,l)){var de=T(0,M.length-1);y(W,W.text,q),re&&s.remove(D.line,re),de.length&&s.insert(D.line,de)}else if($==W)if(M.length==1)y($,$.text.slice(0,D.ch)+J+$.text.slice(L.ch),q);else{var Se=T(1,M.length-1);Se.push(new Sl(J+$.text.slice(L.ch),q,d)),y($,$.text.slice(0,D.ch)+M[0],m(0)),s.insert(D.line+1,Se)}else if(M.length==1)y($,$.text.slice(0,D.ch)+M[0]+W.text.slice(L.ch),m(0)),s.remove(D.line+1,re);else{y($,$.text.slice(0,D.ch)+M[0],m(0)),y(W,J+W.text.slice(L.ch),q);var Re=T(1,M.length-1);re>1&&s.remove(D.line+1,re-1),s.insert(D.line+1,Re)}Dn(s,"change",s,l)}function uo(s,l,f){function d(m,y,T){if(m.linked)for(var D=0;D<m.linked.length;++D){var L=m.linked[D];if(L.doc!=y){var M=T&&L.sharedHist;f&&!M||(l(L.doc,M),d(L.doc,m,M))}}}d(s,null,!0)}function UC(s,l){if(l.cm)throw new Error("This document is already in use.");s.doc=l,l.cm=s,Sy(s),Ay(s),VC(s),s.options.direction=l.direction,s.options.lineWrapping||uy(s),s.options.mode=l.modeOption,lr(s)}function VC(s){(s.doc.direction=="rtl"?K:Y)(s.display.lineDiv,"CodeMirror-rtl")}function F4(s){yr(s,function(){VC(s),lr(s)})}function zp(s){this.done=[],this.undone=[],this.undoDepth=s?s.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=s?s.maxGeneration:1}function Iy(s,l){var f={from:kn(l.from),to:co(l),text:gs(s,l.from,l.to)};return KC(s,f,l.from.line,l.to.line+1),uo(s,function(d){return KC(d,f,l.from.line,l.to.line+1)},!0),f}function HC(s){for(;s.length;){var l=je(s);if(l.ranges)s.pop();else break}}function B4(s,l){if(l)return HC(s.done),je(s.done);if(s.done.length&&!je(s.done).ranges)return je(s.done);if(s.done.length>1&&!s.done[s.done.length-2].ranges)return s.done.pop(),je(s.done)}function WC(s,l,f,d){var m=s.history;m.undone.length=0;var y=+new Date,T,D;if((m.lastOp==d||m.lastOrigin==l.origin&&l.origin&&(l.origin.charAt(0)=="+"&&m.lastModTime>y-(s.cm?s.cm.options.historyEventDelay:500)||l.origin.charAt(0)=="*"))&&(T=B4(m,m.lastOp==d)))D=je(T.changes),Pe(l.from,l.to)==0&&Pe(l.from,D.to)==0?D.to=co(l):T.changes.push(Iy(s,l));else{var L=je(m.done);for((!L||!L.ranges)&&Up(s.sel,m.done),T={changes:[Iy(s,l)],generation:m.generation},m.done.push(T);m.done.length>m.undoDepth;)m.done.shift(),m.done[0].ranges||m.done.shift()}m.done.push(f),m.generation=++m.maxGeneration,m.lastModTime=m.lastSelTime=y,m.lastOp=m.lastSelOp=d,m.lastOrigin=m.lastSelOrigin=l.origin,D||Bt(s,"historyAdded")}function $4(s,l,f,d){var m=l.charAt(0);return m=="*"||m=="+"&&f.ranges.length==d.ranges.length&&f.somethingSelected()==d.somethingSelected()&&new Date-s.history.lastSelTime<=(s.cm?s.cm.options.historyEventDelay:500)}function z4(s,l,f,d){var m=s.history,y=d&&d.origin;f==m.lastSelOp||y&&m.lastSelOrigin==y&&(m.lastModTime==m.lastSelTime&&m.lastOrigin==y||$4(s,y,je(m.done),l))?m.done[m.done.length-1]=l:Up(l,m.done),m.lastSelTime=+new Date,m.lastSelOrigin=y,m.lastSelOp=f,d&&d.clearRedo!==!1&&HC(m.undone)}function Up(s,l){var f=je(l);f&&f.ranges&&f.equals(s)||l.push(s)}function KC(s,l,f,d){var m=l["spans_"+s.id],y=0;s.iter(Math.max(s.first,f),Math.min(s.first+s.size,d),function(T){T.markedSpans&&((m||(m=l["spans_"+s.id]={}))[y]=T.markedSpans),++y})}function U4(s){if(!s)return null;for(var l,f=0;f<s.length;++f)s[f].marker.explicitlyCleared?l||(l=s.slice(0,f)):l&&l.push(s[f]);return l?l.length?l:null:s}function V4(s,l){var f=l["spans_"+s.id];if(!f)return null;for(var d=[],m=0;m<l.text.length;++m)d.push(U4(f[m]));return d}function GC(s,l){var f=V4(s,l),d=oy(s,l);if(!f)return d;if(!d)return f;for(var m=0;m<f.length;++m){var y=f[m],T=d[m];if(y&&T)e:for(var D=0;D<T.length;++D){for(var L=T[D],M=0;M<y.length;++M)if(y[M].marker==L.marker)continue e;y.push(L)}else T&&(f[m]=T)}return f}function kl(s,l,f){for(var d=[],m=0;m<s.length;++m){var y=s[m];if(y.ranges){d.push(f?Mr.prototype.deepCopy.call(y):y);continue}var T=y.changes,D=[];d.push({changes:D});for(var L=0;L<T.length;++L){var M=T[L],$=void 0;if(D.push({from:M.from,to:M.to,text:M.text}),l)for(var W in M)($=W.match(/^spans_(\d+)$/))&&ge(l,Number($[1]))>-1&&(je(D)[W]=M[W],delete M[W])}}return d}function jy(s,l,f,d){if(d){var m=s.anchor;if(f){var y=Pe(l,m)<0;y!=Pe(f,m)<0?(m=l,l=f):y!=Pe(l,f)<0&&(l=f)}return new Et(m,l)}else return new Et(f||l,l)}function Vp(s,l,f,d,m){m==null&&(m=s.cm&&(s.cm.display.shift||s.extend)),Wn(s,new Mr([jy(s.sel.primary(),l,f,m)],0),d)}function qC(s,l,f){for(var d=[],m=s.cm&&(s.cm.display.shift||s.extend),y=0;y<s.sel.ranges.length;y++)d[y]=jy(s.sel.ranges[y],l[y],null,m);var T=yi(s.cm,d,s.sel.primIndex);Wn(s,T,f)}function Fy(s,l,f,d){var m=s.sel.ranges.slice(0);m[l]=f,Wn(s,yi(s.cm,m,s.sel.primIndex),d)}function YC(s,l,f,d){Wn(s,lo(l,f),d)}function H4(s,l,f){var d={ranges:l.ranges,update:function(m){this.ranges=[];for(var y=0;y<m.length;y++)this.ranges[y]=new Et(rt(s,m[y].anchor),rt(s,m[y].head))},origin:f&&f.origin};return Bt(s,"beforeSelectionChange",s,d),s.cm&&Bt(s.cm,"beforeSelectionChange",s.cm,d),d.ranges!=l.ranges?yi(s.cm,d.ranges,d.ranges.length-1):l}function XC(s,l,f){var d=s.history.done,m=je(d);m&&m.ranges?(d[d.length-1]=l,Hp(s,l,f)):Wn(s,l,f)}function Wn(s,l,f){Hp(s,l,f),z4(s,s.sel,s.cm?s.cm.curOp.id:NaN,f)}function Hp(s,l,f){(En(s,"beforeSelectionChange")||s.cm&&En(s.cm,"beforeSelectionChange"))&&(l=H4(s,l,f));var d=f&&f.bias||(Pe(l.primary().head,s.sel.primary().head)<0?-1:1);QC(s,JC(s,l,d,!0)),!(f&&f.scroll===!1)&&s.cm&&s.cm.getOption("readOnly")!="nocursor"&&El(s.cm)}function QC(s,l){l.equals(s.sel)||(s.sel=l,s.cm&&(s.cm.curOp.updateInput=1,s.cm.curOp.selectionChanged=!0,Zn(s.cm)),Dn(s,"cursorActivity",s))}function ZC(s){QC(s,JC(s,s.sel,null,!1))}function JC(s,l,f,d){for(var m,y=0;y<l.ranges.length;y++){var T=l.ranges[y],D=l.ranges.length==s.sel.ranges.length&&s.sel.ranges[y],L=Wp(s,T.anchor,D&&D.anchor,f,d),M=T.head==T.anchor?L:Wp(s,T.head,D&&D.head,f,d);(m||L!=T.anchor||M!=T.head)&&(m||(m=l.ranges.slice(0,y)),m[y]=new Et(L,M))}return m?yi(s.cm,m,l.primIndex):l}function Dl(s,l,f,d,m){var y=Be(s,l.line);if(y.markedSpans)for(var T=0;T<y.markedSpans.length;++T){var D=y.markedSpans[T],L=D.marker,M="selectLeft"in L?!L.selectLeft:L.inclusiveLeft,$="selectRight"in L?!L.selectRight:L.inclusiveRight;if((D.from==null||(M?D.from<=l.ch:D.from<l.ch))&&(D.to==null||($?D.to>=l.ch:D.to>l.ch))){if(m&&(Bt(L,"beforeCursorEnter"),L.explicitlyCleared))if(y.markedSpans){--T;continue}else break;if(!L.atomic)continue;if(f){var W=L.find(d<0?1:-1),J=void 0;if((d<0?$:M)&&(W=eR(s,W,-d,W&&W.line==l.line?y:null)),W&&W.line==l.line&&(J=Pe(W,f))&&(d<0?J<0:J>0))return Dl(s,W,l,d,m)}var q=L.find(d<0?-1:1);return(d<0?M:$)&&(q=eR(s,q,d,q.line==l.line?y:null)),q?Dl(s,q,l,d,m):null}}return l}function Wp(s,l,f,d,m){var y=d||1,T=Dl(s,l,f,y,m)||!m&&Dl(s,l,f,y,!0)||Dl(s,l,f,-y,m)||!m&&Dl(s,l,f,-y,!0);return T||(s.cantEdit=!0,te(s.first,0))}function eR(s,l,f,d){return f<0&&l.ch==0?l.line>s.first?rt(s,te(l.line-1)):null:f>0&&l.ch==(d||Be(s,l.line)).text.length?l.line<s.first+s.size-1?te(l.line+1,0):null:new te(l.line,l.ch+f)}function tR(s){s.setSelection(te(s.firstLine(),0),te(s.lastLine()),We)}function nR(s,l,f){var d={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return d.canceled=!0}};return f&&(d.update=function(m,y,T,D){m&&(d.from=rt(s,m)),y&&(d.to=rt(s,y)),T&&(d.text=T),D!==void 0&&(d.origin=D)}),Bt(s,"beforeChange",s,d),s.cm&&Bt(s.cm,"beforeChange",s.cm,d),d.canceled?(s.cm&&(s.cm.curOp.updateInput=2),null):{from:d.from,to:d.to,text:d.text,origin:d.origin}}function Ll(s,l,f){if(s.cm){if(!s.cm.curOp)return Ln(s.cm,Ll)(s,l,f);if(s.cm.state.suppressEdits)return}if(!((En(s,"beforeChange")||s.cm&&En(s.cm,"beforeChange"))&&(l=nR(s,l,!0),!l))){var d=G_&&!f&&zF(s,l.from,l.to);if(d)for(var m=d.length-1;m>=0;--m)rR(s,{from:d[m].from,to:d[m].to,text:m?[""]:l.text,origin:l.origin});else rR(s,l)}}function rR(s,l){if(!(l.text.length==1&&l.text[0]==""&&Pe(l.from,l.to)==0)){var f=Oy(s,l);WC(s,l,f,s.cm?s.cm.curOp.id:NaN),ed(s,l,f,oy(s,l));var d=[];uo(s,function(m,y){!y&&ge(d,m.history)==-1&&(aR(m.history,l),d.push(m.history)),ed(m,l,null,oy(m,l))})}}function Kp(s,l,f){var d=s.cm&&s.cm.state.suppressEdits;if(!(d&&!f)){for(var m=s.history,y,T=s.sel,D=l=="undo"?m.done:m.undone,L=l=="undo"?m.undone:m.done,M=0;M<D.length&&(y=D[M],!(f?y.ranges&&!y.equals(s.sel):!y.ranges));M++);if(M!=D.length){for(m.lastOrigin=m.lastSelOrigin=null;;)if(y=D.pop(),y.ranges){if(Up(y,L),f&&!y.equals(s.sel)){Wn(s,y,{clearRedo:!1});return}T=y}else if(d){D.push(y);return}else break;var $=[];Up(T,L),L.push({changes:$,generation:m.generation}),m.generation=y.generation||++m.maxGeneration;for(var W=En(s,"beforeChange")||s.cm&&En(s.cm,"beforeChange"),J=function(de){var Se=y.changes[de];if(Se.origin=l,W&&!nR(s,Se,!1))return D.length=0,{};$.push(Iy(s,Se));var Re=de?Oy(s,Se):je(D);ed(s,Se,Re,GC(s,Se)),!de&&s.cm&&s.cm.scrollIntoView({from:Se.from,to:co(Se)});var ke=[];uo(s,function(Te,Ae){!Ae&&ge(ke,Te.history)==-1&&(aR(Te.history,Se),ke.push(Te.history)),ed(Te,Se,null,GC(Te,Se))})},q=y.changes.length-1;q>=0;--q){var re=J(q);if(re)return re.v}}}}function iR(s,l){if(l!=0&&(s.first+=l,s.sel=new Mr(jt(s.sel.ranges,function(m){return new Et(te(m.anchor.line+l,m.anchor.ch),te(m.head.line+l,m.head.ch))}),s.sel.primIndex),s.cm)){lr(s.cm,s.first,s.first-l,l);for(var f=s.cm.display,d=f.viewFrom;d<f.viewTo;d++)oo(s.cm,d,"gutter")}}function ed(s,l,f,d){if(s.cm&&!s.cm.curOp)return Ln(s.cm,ed)(s,l,f,d);if(l.to.line<s.first){iR(s,l.text.length-1-(l.to.line-l.from.line));return}if(!(l.from.line>s.lastLine())){if(l.from.line<s.first){var m=l.text.length-1-(s.first-l.from.line);iR(s,m),l={from:te(s.first,0),to:te(l.to.line+m,l.to.ch),text:[je(l.text)],origin:l.origin}}var y=s.lastLine();l.to.line>y&&(l={from:l.from,to:te(y,Be(s,y).text.length),text:[l.text[0]],origin:l.origin}),l.removed=gs(s,l.from,l.to),f||(f=Oy(s,l)),s.cm?W4(s.cm,l,d):Ny(s,l,d),Hp(s,f,We),s.cantEdit&&Wp(s,te(s.firstLine(),0))&&(s.cantEdit=!1)}}function W4(s,l,f){var d=s.doc,m=s.display,y=l.from,T=l.to,D=!1,L=y.line;s.options.lineWrapping||(L=A(gi(Be(d,y.line))),d.iter(L,T.line+1,function(q){if(q==m.maxLine)return D=!0,!0})),d.sel.contains(l.from,l.to)>-1&&Zn(s),Ny(d,l,f,_C(s)),s.options.lineWrapping||(d.iter(L,y.line+l.text.length,function(q){var re=kp(q);re>m.maxLineLength&&(m.maxLine=q,m.maxLineLength=re,m.maxLineChanged=!0,D=!1)}),D&&(s.curOp.updateMaxLine=!0)),AF(d,y.line),Qu(s,400);var M=l.text.length-(T.line-y.line)-1;l.full?lr(s):y.line==T.line&&l.text.length==1&&!zC(s.doc,l)?oo(s,y.line,"text"):lr(s,y.line,T.line+1,M);var $=En(s,"changes"),W=En(s,"change");if(W||$){var J={from:y,to:T,text:l.text,removed:l.removed,origin:l.origin};W&&Dn(s,"change",s,J),$&&(s.curOp.changeObjs||(s.curOp.changeObjs=[])).push(J)}s.display.selForContextMenu=null}function Ml(s,l,f,d,m){var y;d||(d=f),Pe(d,f)<0&&(y=[d,f],f=y[0],d=y[1]),typeof l=="string"&&(l=s.splitLines(l)),Ll(s,{from:f,to:d,text:l,origin:m})}function sR(s,l,f,d){f<s.line?s.line+=d:l<s.line&&(s.line=l,s.ch=0)}function oR(s,l,f,d){for(var m=0;m<s.length;++m){var y=s[m],T=!0;if(y.ranges){y.copied||(y=s[m]=y.deepCopy(),y.copied=!0);for(var D=0;D<y.ranges.length;D++)sR(y.ranges[D].anchor,l,f,d),sR(y.ranges[D].head,l,f,d);continue}for(var L=0;L<y.changes.length;++L){var M=y.changes[L];if(f<M.from.line)M.from=te(M.from.line+d,M.from.ch),M.to=te(M.to.line+d,M.to.ch);else if(l<=M.to.line){T=!1;break}}T||(s.splice(0,m+1),m=0)}}function aR(s,l){var f=l.from.line,d=l.to.line,m=l.text.length-(d-f)-1;oR(s.done,f,d,m),oR(s.undone,f,d,m)}function td(s,l,f,d){var m=l,y=l;return typeof l=="number"?y=Be(s,F_(s,l)):m=A(l),m==null?null:(d(y,m)&&s.cm&&oo(s.cm,m,f),y)}function nd(s){this.lines=s,this.parent=null;for(var l=0,f=0;f<s.length;++f)s[f].parent=this,l+=s[f].height;this.height=l}nd.prototype={chunkSize:function(){return this.lines.length},removeInner:function(s,l){for(var f=s,d=s+l;f<d;++f){var m=this.lines[f];this.height-=m.height,KF(m),Dn(m,"delete")}this.lines.splice(s,l)},collapse:function(s){s.push.apply(s,this.lines)},insertInner:function(s,l,f){this.height+=f,this.lines=this.lines.slice(0,s).concat(l).concat(this.lines.slice(s));for(var d=0;d<l.length;++d)l[d].parent=this},iterN:function(s,l,f){for(var d=s+l;s<d;++s)if(f(this.lines[s]))return!0}};function rd(s){this.children=s;for(var l=0,f=0,d=0;d<s.length;++d){var m=s[d];l+=m.chunkSize(),f+=m.height,m.parent=this}this.size=l,this.height=f,this.parent=null}rd.prototype={chunkSize:function(){return this.size},removeInner:function(s,l){this.size-=l;for(var f=0;f<this.children.length;++f){var d=this.children[f],m=d.chunkSize();if(s<m){var y=Math.min(l,m-s),T=d.height;if(d.removeInner(s,y),this.height-=T-d.height,m==y&&(this.children.splice(f--,1),d.parent=null),(l-=y)==0)break;s=0}else s-=m}if(this.size-l<25&&(this.children.length>1||!(this.children[0]instanceof nd))){var D=[];this.collapse(D),this.children=[new nd(D)],this.children[0].parent=this}},collapse:function(s){for(var l=0;l<this.children.length;++l)this.children[l].collapse(s)},insertInner:function(s,l,f){this.size+=l.length,this.height+=f;for(var d=0;d<this.children.length;++d){var m=this.children[d],y=m.chunkSize();if(s<=y){if(m.insertInner(s,l,f),m.lines&&m.lines.length>50){for(var T=m.lines.length%25+25,D=T;D<m.lines.length;){var L=new nd(m.lines.slice(D,D+=25));m.height-=L.height,this.children.splice(++d,0,L),L.parent=this}m.lines=m.lines.slice(0,T),this.maybeSpill()}break}s-=y}},maybeSpill:function(){if(!(this.children.length<=10)){var s=this;do{var l=s.children.splice(s.children.length-5,5),f=new rd(l);if(s.parent){s.size-=f.size,s.height-=f.height;var m=ge(s.parent.children,s);s.parent.children.splice(m+1,0,f)}else{var d=new rd(s.children);d.parent=s,s.children=[d,f],s=d}f.parent=s.parent}while(s.children.length>10);s.parent.maybeSpill()}},iterN:function(s,l,f){for(var d=0;d<this.children.length;++d){var m=this.children[d],y=m.chunkSize();if(s<y){var T=Math.min(l,y-s);if(m.iterN(s,T,f))return!0;if((l-=T)==0)break;s=0}else s-=y}}};var id=function(s,l,f){if(f)for(var d in f)f.hasOwnProperty(d)&&(this[d]=f[d]);this.doc=s,this.node=l};id.prototype.clear=function(){var s=this.doc.cm,l=this.line.widgets,f=this.line,d=A(f);if(!(d==null||!l)){for(var m=0;m<l.length;++m)l[m]==this&&l.splice(m--,1);l.length||(f.widgets=null);var y=Hu(this);Lr(f,Math.max(0,f.height-y)),s&&(yr(s,function(){lR(s,f,-y),oo(s,d,"widget")}),Dn(s,"lineWidgetCleared",s,this,d))}},id.prototype.changed=function(){var s=this,l=this.height,f=this.doc.cm,d=this.line;this.height=null;var m=Hu(this)-l;m&&(so(this.doc,d)||Lr(d,d.height+m),f&&yr(f,function(){f.curOp.forceUpdate=!0,lR(f,d,m),Dn(f,"lineWidgetChanged",f,s,A(d))}))},$n(id);function lR(s,l,f){ys(l)<(s.curOp&&s.curOp.scrollTop||s.doc.scrollTop)&&Ey(s,f)}function K4(s,l,f,d){var m=new id(s,f,d),y=s.cm;return y&&m.noHScroll&&(y.display.alignWidgets=!0),td(s,l,"widget",function(T){var D=T.widgets||(T.widgets=[]);if(m.insertAt==null?D.push(m):D.splice(Math.min(D.length,Math.max(0,m.insertAt)),0,m),m.line=T,y&&!so(s,T)){var L=ys(T)<s.scrollTop;Lr(T,T.height+Hu(m)),L&&Ey(y,m.height),y.curOp.forceUpdate=!0}return!0}),y&&Dn(y,"lineWidgetAdded",y,m,typeof l=="number"?l:A(l)),m}var cR=0,fo=function(s,l){this.lines=[],this.type=l,this.doc=s,this.id=++cR};fo.prototype.clear=function(){if(!this.explicitlyCleared){var s=this.doc.cm,l=s&&!s.curOp;if(l&&Ca(s),En(this,"clear")){var f=this.find();f&&Dn(this,"clear",f.from,f.to)}for(var d=null,m=null,y=0;y<this.lines.length;++y){var T=this.lines[y],D=zu(T.markedSpans,this);s&&!this.collapsed?oo(s,A(T),"text"):s&&(D.to!=null&&(m=A(T)),D.from!=null&&(d=A(T))),T.markedSpans=jF(T.markedSpans,D),D.from==null&&this.collapsed&&!so(this.doc,T)&&s&&Lr(T,Cl(s.display))}if(s&&this.collapsed&&!s.options.lineWrapping)for(var L=0;L<this.lines.length;++L){var M=gi(this.lines[L]),$=kp(M);$>s.display.maxLineLength&&(s.display.maxLine=M,s.display.maxLineLength=$,s.display.maxLineChanged=!0)}d!=null&&s&&this.collapsed&&lr(s,d,m+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,s&&ZC(s.doc)),s&&Dn(s,"markerCleared",s,this,d,m),l&&Ra(s),this.parent&&this.parent.clear()}},fo.prototype.find=function(s,l){s==null&&this.type=="bookmark"&&(s=1);for(var f,d,m=0;m<this.lines.length;++m){var y=this.lines[m],T=zu(y.markedSpans,this);if(T.from!=null&&(f=te(l?y:A(y),T.from),s==-1))return f;if(T.to!=null&&(d=te(l?y:A(y),T.to),s==1))return d}return f&&{from:f,to:d}},fo.prototype.changed=function(){var s=this,l=this.find(-1,!0),f=this,d=this.doc.cm;!l||!d||yr(d,function(){var m=l.line,y=A(l.line),T=hy(d,y);if(T&&(mC(T),d.curOp.selectionChanged=d.curOp.forceUpdate=!0),d.curOp.updateMaxLine=!0,!so(f.doc,m)&&f.height!=null){var D=f.height;f.height=null;var L=Hu(f)-D;L&&Lr(m,m.height+L)}Dn(d,"markerChanged",d,s)})},fo.prototype.attachLine=function(s){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(!l.maybeHiddenMarkers||ge(l.maybeHiddenMarkers,this)==-1)&&(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(s)},fo.prototype.detachLine=function(s){if(this.lines.splice(ge(this.lines,s),1),!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(l.maybeHiddenMarkers||(l.maybeHiddenMarkers=[])).push(this)}},$n(fo);function Ol(s,l,f,d,m){if(d&&d.shared)return G4(s,l,f,d,m);if(s.cm&&!s.cm.curOp)return Ln(s.cm,Ol)(s,l,f,d,m);var y=new fo(s,m),T=Pe(l,f);if(d&&ue(d,y,!1),T>0||T==0&&y.clearWhenEmpty!==!1)return y;if(y.replacedWith&&(y.collapsed=!0,y.widgetNode=X("span",[y.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||y.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(y.widgetNode.insertLeft=!0)),y.collapsed){if(J_(s,l.line,l,f,y)||l.line!=f.line&&J_(s,f.line,l,f,y))throw new Error("Inserting collapsed marker partially overlapping an existing one");IF()}y.addToHistory&&WC(s,{from:l,to:f,origin:"markText"},s.sel,NaN);var D=l.line,L=s.cm,M;if(s.iter(D,f.line+1,function(W){L&&y.collapsed&&!L.options.lineWrapping&&gi(W)==L.display.maxLine&&(M=!0),y.collapsed&&D!=l.line&&Lr(W,0),FF(W,new Rp(y,D==l.line?l.ch:null,D==f.line?f.ch:null),s.cm&&s.cm.curOp),++D}),y.collapsed&&s.iter(l.line,f.line+1,function(W){so(s,W)&&Lr(W,0)}),y.clearOnEnter&&Le(y,"beforeCursorEnter",function(){return y.clear()}),y.readOnly&&(NF(),(s.history.done.length||s.history.undone.length)&&s.clearHistory()),y.collapsed&&(y.id=++cR,y.atomic=!0),L){if(M&&(L.curOp.updateMaxLine=!0),y.collapsed)lr(L,l.line,f.line+1);else if(y.className||y.startStyle||y.endStyle||y.css||y.attributes||y.title)for(var $=l.line;$<=f.line;$++)oo(L,$,"text");y.atomic&&ZC(L.doc),Dn(L,"markerAdded",L,y)}return y}var sd=function(s,l){this.markers=s,this.primary=l;for(var f=0;f<s.length;++f)s[f].parent=this};sd.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var s=0;s<this.markers.length;++s)this.markers[s].clear();Dn(this,"clear")}},sd.prototype.find=function(s,l){return this.primary.find(s,l)},$n(sd);function G4(s,l,f,d,m){d=ue(d),d.shared=!1;var y=[Ol(s,l,f,d,m)],T=y[0],D=d.widgetNode;return uo(s,function(L){D&&(d.widgetNode=D.cloneNode(!0)),y.push(Ol(L,rt(L,l),rt(L,f),d,m));for(var M=0;M<L.linked.length;++M)if(L.linked[M].isParent)return;T=je(y)}),new sd(y,T)}function uR(s){return s.findMarks(te(s.first,0),s.clipPos(te(s.lastLine())),function(l){return l.parent})}function q4(s,l){for(var f=0;f<l.length;f++){var d=l[f],m=d.find(),y=s.clipPos(m.from),T=s.clipPos(m.to);if(Pe(y,T)){var D=Ol(s,y,T,d.primary,d.primary.type);d.markers.push(D),D.parent=d}}}function Y4(s){for(var l=function(d){var m=s[d],y=[m.primary.doc];uo(m.primary.doc,function(L){return y.push(L)});for(var T=0;T<m.markers.length;T++){var D=m.markers[T];ge(y,D.doc)==-1&&(D.parent=null,m.markers.splice(T--,1))}},f=0;f<s.length;f++)l(f)}var X4=0,cr=function(s,l,f,d,m){if(!(this instanceof cr))return new cr(s,l,f,d,m);f==null&&(f=0),rd.call(this,[new nd([new Sl("",null)])]),this.first=f,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=f;var y=te(f,0);this.sel=lo(y),this.history=new zp(null),this.id=++X4,this.modeOption=l,this.lineSep=d,this.direction=m=="rtl"?"rtl":"ltr",this.extend=!1,typeof s=="string"&&(s=this.splitLines(s)),Ny(this,{from:y,to:y,text:s}),Wn(this,lo(y),We)};cr.prototype=kt(rd.prototype,{constructor:cr,iter:function(s,l,f){f?this.iterN(s-this.first,l-s,f):this.iterN(this.first,this.first+this.size,s)},insert:function(s,l){for(var f=0,d=0;d<l.length;++d)f+=l[d].height;this.insertInner(s-this.first,l,f)},remove:function(s,l){this.removeInner(s-this.first,l)},getValue:function(s){var l=Bu(this,this.first,this.first+this.size);return s===!1?l:l.join(s||this.lineSeparator())},setValue:Mn(function(s){var l=te(this.first,0),f=this.first+this.size-1;Ll(this,{from:l,to:te(f,Be(this,f).text.length),text:this.splitLines(s),origin:"setValue",full:!0},!0),this.cm&&Gu(this.cm,0,0),Wn(this,lo(l),We)}),replaceRange:function(s,l,f,d){l=rt(this,l),f=f?rt(this,f):l,Ml(this,s,l,f,d)},getRange:function(s,l,f){var d=gs(this,rt(this,s),rt(this,l));return f===!1?d:f===""?d.join(""):d.join(f||this.lineSeparator())},getLine:function(s){var l=this.getLineHandle(s);return l&&l.text},getLineHandle:function(s){if(ce(this,s))return Be(this,s)},getLineNumber:function(s){return A(s)},getLineHandleVisualStart:function(s){return typeof s=="number"&&(s=Be(this,s)),gi(s)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(s){return rt(this,s)},getCursor:function(s){var l=this.sel.primary(),f;return s==null||s=="head"?f=l.head:s=="anchor"?f=l.anchor:s=="end"||s=="to"||s===!1?f=l.to():f=l.from(),f},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Mn(function(s,l,f){YC(this,rt(this,typeof s=="number"?te(s,l||0):s),null,f)}),setSelection:Mn(function(s,l,f){YC(this,rt(this,s),rt(this,l||s),f)}),extendSelection:Mn(function(s,l,f){Vp(this,rt(this,s),l&&rt(this,l),f)}),extendSelections:Mn(function(s,l){qC(this,B_(this,s),l)}),extendSelectionsBy:Mn(function(s,l){var f=jt(this.sel.ranges,s);qC(this,B_(this,f),l)}),setSelections:Mn(function(s,l,f){if(s.length){for(var d=[],m=0;m<s.length;m++)d[m]=new Et(rt(this,s[m].anchor),rt(this,s[m].head||s[m].anchor));l==null&&(l=Math.min(s.length-1,this.sel.primIndex)),Wn(this,yi(this.cm,d,l),f)}}),addSelection:Mn(function(s,l,f){var d=this.sel.ranges.slice(0);d.push(new Et(rt(this,s),rt(this,l||s))),Wn(this,yi(this.cm,d,d.length-1),f)}),getSelection:function(s){for(var l=this.sel.ranges,f,d=0;d<l.length;d++){var m=gs(this,l[d].from(),l[d].to());f=f?f.concat(m):m}return s===!1?f:f.join(s||this.lineSeparator())},getSelections:function(s){for(var l=[],f=this.sel.ranges,d=0;d<f.length;d++){var m=gs(this,f[d].from(),f[d].to());s!==!1&&(m=m.join(s||this.lineSeparator())),l[d]=m}return l},replaceSelection:function(s,l,f){for(var d=[],m=0;m<this.sel.ranges.length;m++)d[m]=s;this.replaceSelections(d,l,f||"+input")},replaceSelections:Mn(function(s,l,f){for(var d=[],m=this.sel,y=0;y<m.ranges.length;y++){var T=m.ranges[y];d[y]={from:T.from(),to:T.to(),text:this.splitLines(s[y]),origin:f}}for(var D=l&&l!="end"&&j4(this,d,l),L=d.length-1;L>=0;L--)Ll(this,d[L]);D?XC(this,D):this.cm&&El(this.cm)}),undo:Mn(function(){Kp(this,"undo")}),redo:Mn(function(){Kp(this,"redo")}),undoSelection:Mn(function(){Kp(this,"undo",!0)}),redoSelection:Mn(function(){Kp(this,"redo",!0)}),setExtending:function(s){this.extend=s},getExtending:function(){return this.extend},historySize:function(){for(var s=this.history,l=0,f=0,d=0;d<s.done.length;d++)s.done[d].ranges||++l;for(var m=0;m<s.undone.length;m++)s.undone[m].ranges||++f;return{undo:l,redo:f}},clearHistory:function(){var s=this;this.history=new zp(this.history),uo(this,function(l){return l.history=s.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(s){return s&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(s){return this.history.generation==(s||this.cleanGeneration)},getHistory:function(){return{done:kl(this.history.done),undone:kl(this.history.undone)}},setHistory:function(s){var l=this.history=new zp(this.history);l.done=kl(s.done.slice(0),null,!0),l.undone=kl(s.undone.slice(0),null,!0)},setGutterMarker:Mn(function(s,l,f){return td(this,s,"gutter",function(d){var m=d.gutterMarkers||(d.gutterMarkers={});return m[l]=f,!f&&ye(m)&&(d.gutterMarkers=null),!0})}),clearGutter:Mn(function(s){var l=this;this.iter(function(f){f.gutterMarkers&&f.gutterMarkers[s]&&td(l,f,"gutter",function(){return f.gutterMarkers[s]=null,ye(f.gutterMarkers)&&(f.gutterMarkers=null),!0})})}),lineInfo:function(s){var l;if(typeof s=="number"){if(!ce(this,s)||(l=s,s=Be(this,s),!s))return null}else if(l=A(s),l==null)return null;return{line:l,handle:s,text:s.text,gutterMarkers:s.gutterMarkers,textClass:s.textClass,bgClass:s.bgClass,wrapClass:s.wrapClass,widgets:s.widgets}},addLineClass:Mn(function(s,l,f){return td(this,s,l=="gutter"?"gutter":"class",function(d){var m=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass";if(!d[m])d[m]=f;else{if(ie(f).test(d[m]))return!1;d[m]+=" "+f}return!0})}),removeLineClass:Mn(function(s,l,f){return td(this,s,l=="gutter"?"gutter":"class",function(d){var m=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass",y=d[m];if(y)if(f==null)d[m]=null;else{var T=y.match(ie(f));if(!T)return!1;var D=T.index+T[0].length;d[m]=y.slice(0,T.index)+(!T.index||D==y.length?"":" ")+y.slice(D)||null}else return!1;return!0})}),addLineWidget:Mn(function(s,l,f){return K4(this,s,l,f)}),removeLineWidget:function(s){s.clear()},markText:function(s,l,f){return Ol(this,rt(this,s),rt(this,l),f,f&&f.type||"range")},setBookmark:function(s,l){var f={replacedWith:l&&(l.nodeType==null?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents};return s=rt(this,s),Ol(this,s,s,f,"bookmark")},findMarksAt:function(s){s=rt(this,s);var l=[],f=Be(this,s.line).markedSpans;if(f)for(var d=0;d<f.length;++d){var m=f[d];(m.from==null||m.from<=s.ch)&&(m.to==null||m.to>=s.ch)&&l.push(m.marker.parent||m.marker)}return l},findMarks:function(s,l,f){s=rt(this,s),l=rt(this,l);var d=[],m=s.line;return this.iter(s.line,l.line+1,function(y){var T=y.markedSpans;if(T)for(var D=0;D<T.length;D++){var L=T[D];!(L.to!=null&&m==s.line&&s.ch>=L.to||L.from==null&&m!=s.line||L.from!=null&&m==l.line&&L.from>=l.ch)&&(!f||f(L.marker))&&d.push(L.marker.parent||L.marker)}++m}),d},getAllMarks:function(){var s=[];return this.iter(function(l){var f=l.markedSpans;if(f)for(var d=0;d<f.length;++d)f[d].from!=null&&s.push(f[d].marker)}),s},posFromIndex:function(s){var l,f=this.first,d=this.lineSeparator().length;return this.iter(function(m){var y=m.text.length+d;if(y>s)return l=s,!0;s-=y,++f}),rt(this,te(f,l))},indexFromPos:function(s){s=rt(this,s);var l=s.ch;if(s.line<this.first||s.ch<0)return 0;var f=this.lineSeparator().length;return this.iter(this.first,s.line,function(d){l+=d.text.length+f}),l},copy:function(s){var l=new cr(Bu(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,s&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(s){s||(s={});var l=this.first,f=this.first+this.size;s.from!=null&&s.from>l&&(l=s.from),s.to!=null&&s.to<f&&(f=s.to);var d=new cr(Bu(this,l,f),s.mode||this.modeOption,l,this.lineSep,this.direction);return s.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:s.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:s.sharedHist}],q4(d,uR(this)),d},unlinkDoc:function(s){if(s instanceof zt&&(s=s.doc),this.linked)for(var l=0;l<this.linked.length;++l){var f=this.linked[l];if(f.doc==s){this.linked.splice(l,1),s.unlinkDoc(this),Y4(uR(this));break}}if(s.history==this.history){var d=[s.id];uo(s,function(m){return d.push(m.id)},!0),s.history=new zp(null),s.history.done=kl(this.history.done,d),s.history.undone=kl(this.history.undone,d)}},iterLinkedDocs:function(s){uo(this,s)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(s){return this.lineSep?s.split(this.lineSep):Kr(s)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Mn(function(s){s!="rtl"&&(s="ltr"),s!=this.direction&&(this.direction=s,this.iter(function(l){return l.order=null}),this.cm&&F4(this.cm))})}),cr.prototype.eachLine=cr.prototype.iter;var dR=0;function Q4(s){var l=this;if(fR(l),!(Dt(l,s)||ws(l.display,s))){Pn(s),u&&(dR=+new Date);var f=ba(l,s,!0),d=s.dataTransfer.files;if(!(!f||l.isReadOnly()))if(d&&d.length&&window.FileReader&&window.File)for(var m=d.length,y=Array(m),T=0,D=function(){++T==m&&Ln(l,function(){f=rt(l.doc,f);var q={from:f,to:f,text:l.doc.splitLines(y.filter(function(re){return re!=null}).join(l.doc.lineSeparator())),origin:"paste"};Ll(l.doc,q),XC(l.doc,lo(rt(l.doc,f),rt(l.doc,co(q))))})()},L=function(q,re){if(l.options.allowDropFileTypes&&ge(l.options.allowDropFileTypes,q.type)==-1){D();return}var de=new FileReader;de.onerror=function(){return D()},de.onload=function(){var Se=de.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Se)){D();return}y[re]=Se,D()},de.readAsText(q)},M=0;M<d.length;M++)L(d[M],M);else{if(l.state.draggingText&&l.doc.sel.contains(f)>-1){l.state.draggingText(s),setTimeout(function(){return l.display.input.focus()},20);return}try{var $=s.dataTransfer.getData("Text");if($){var W;if(l.state.draggingText&&!l.state.draggingText.copy&&(W=l.listSelections()),Hp(l.doc,lo(f,f)),W)for(var J=0;J<W.length;++J)Ml(l.doc,"",W[J].anchor,W[J].head,"drag");l.replaceSelection($,"around","paste"),l.display.input.focus()}}catch{}}}}function Z4(s,l){if(u&&(!s.state.draggingText||+new Date-dR<100)){to(l);return}if(!(Dt(s,l)||ws(s.display,l))&&(l.dataTransfer.setData("Text",s.getSelection()),l.dataTransfer.effectAllowed="copyMove",l.dataTransfer.setDragImage&&!b)){var f=O("img",null,null,"position: fixed; left: 0; top: 0;");f.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",S&&(f.width=f.height=1,s.display.wrapper.appendChild(f),f._top=f.offsetTop),l.dataTransfer.setDragImage(f,0,0),S&&f.parentNode.removeChild(f)}}function J4(s,l){var f=ba(s,l);if(f){var d=document.createDocumentFragment();xy(s,f,d),s.display.dragCursor||(s.display.dragCursor=O("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),s.display.lineSpace.insertBefore(s.display.dragCursor,s.display.cursorDiv)),V(s.display.dragCursor,d)}}function fR(s){s.display.dragCursor&&(s.display.lineSpace.removeChild(s.display.dragCursor),s.display.dragCursor=null)}function pR(s){if(document.getElementsByClassName){for(var l=document.getElementsByClassName("CodeMirror"),f=[],d=0;d<l.length;d++){var m=l[d].CodeMirror;m&&f.push(m)}f.length&&f[0].operation(function(){for(var y=0;y<f.length;y++)s(f[y])})}}var hR=!1;function e5(){hR||(t5(),hR=!0)}function t5(){var s;Le(window,"resize",function(){s==null&&(s=setTimeout(function(){s=null,pR(n5)},100))}),Le(window,"blur",function(){return pR(Tl)})}function n5(s){var l=s.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,s.setSize()}for(var po={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},od=0;od<10;od++)po[od+48]=po[od+96]=String(od);for(var Gp=65;Gp<=90;Gp++)po[Gp]=String.fromCharCode(Gp);for(var ad=1;ad<=12;ad++)po[ad+111]=po[ad+63235]="F"+ad;var Ss={};Ss.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ss.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ss.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ss.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ss.default=N?Ss.macDefault:Ss.pcDefault;function r5(s){var l=s.split(/-(?!$)/);s=l[l.length-1];for(var f,d,m,y,T=0;T<l.length-1;T++){var D=l[T];if(/^(cmd|meta|m)$/i.test(D))y=!0;else if(/^a(lt)?$/i.test(D))f=!0;else if(/^(c|ctrl|control)$/i.test(D))d=!0;else if(/^s(hift)?$/i.test(D))m=!0;else throw new Error("Unrecognized modifier name: "+D)}return f&&(s="Alt-"+s),d&&(s="Ctrl-"+s),y&&(s="Cmd-"+s),m&&(s="Shift-"+s),s}function i5(s){var l={};for(var f in s)if(s.hasOwnProperty(f)){var d=s[f];if(/^(name|fallthrough|(de|at)tach)$/.test(f))continue;if(d=="..."){delete s[f];continue}for(var m=jt(f.split(" "),r5),y=0;y<m.length;y++){var T=void 0,D=void 0;y==m.length-1?(D=m.join(" "),T=d):(D=m.slice(0,y+1).join(" "),T="...");var L=l[D];if(!L)l[D]=T;else if(L!=T)throw new Error("Inconsistent bindings for "+D)}delete s[f]}for(var M in l)s[M]=l[M];return s}function Al(s,l,f,d){l=qp(l);var m=l.call?l.call(s,d):l[s];if(m===!1)return"nothing";if(m==="...")return"multi";if(m!=null&&f(m))return"handled";if(l.fallthrough){if(Object.prototype.toString.call(l.fallthrough)!="[object Array]")return Al(s,l.fallthrough,f,d);for(var y=0;y<l.fallthrough.length;y++){var T=Al(s,l.fallthrough[y],f,d);if(T)return T}}}function mR(s){var l=typeof s=="string"?s:po[s.keyCode];return l=="Ctrl"||l=="Alt"||l=="Shift"||l=="Mod"}function gR(s,l,f){var d=s;return l.altKey&&d!="Alt"&&(s="Alt-"+s),(G?l.metaKey:l.ctrlKey)&&d!="Ctrl"&&(s="Ctrl-"+s),(G?l.ctrlKey:l.metaKey)&&d!="Mod"&&(s="Cmd-"+s),!f&&l.shiftKey&&d!="Shift"&&(s="Shift-"+s),s}function vR(s,l){if(S&&s.keyCode==34&&s.char)return!1;var f=po[s.keyCode];return f==null||s.altGraphKey?!1:(s.keyCode==3&&s.code&&(f=s.code),gR(f,s,l))}function qp(s){return typeof s=="string"?Ss[s]:s}function Nl(s,l){for(var f=s.doc.sel.ranges,d=[],m=0;m<f.length;m++){for(var y=l(f[m]);d.length&&Pe(y.from,je(d).to)<=0;){var T=d.pop();if(Pe(T.from,y.from)<0){y.from=T.from;break}}d.push(y)}yr(s,function(){for(var D=d.length-1;D>=0;D--)Ml(s.doc,"",d[D].from,d[D].to,"+delete");El(s)})}function By(s,l,f){var d=Ue(s.text,l+f,f);return d<0||d>s.text.length?null:d}function $y(s,l,f){var d=By(s,l.ch,f);return d==null?null:new te(l.line,d,f<0?"after":"before")}function zy(s,l,f,d,m){if(s){l.doc.direction=="rtl"&&(m=-m);var y=Ne(f,l.doc.direction);if(y){var T=m<0?je(y):y[0],D=m<0==(T.level==1),L=D?"after":"before",M;if(T.level>0||l.doc.direction=="rtl"){var $=_l(l,f);M=m<0?f.text.length-1:0;var W=$i(l,$,M).top;M=Ie(function(J){return $i(l,$,J).top==W},m<0==(T.level==1)?T.from:T.to-1,M),L=="before"&&(M=By(f,M,1))}else M=m<0?T.to:T.from;return new te(d,M,L)}}return new te(d,m<0?f.text.length:0,m<0?"before":"after")}function s5(s,l,f,d){var m=Ne(l,s.doc.direction);if(!m)return $y(l,f,d);f.ch>=l.text.length?(f.ch=l.text.length,f.sticky="before"):f.ch<=0&&(f.ch=0,f.sticky="after");var y=De(m,f.ch,f.sticky),T=m[y];if(s.doc.direction=="ltr"&&T.level%2==0&&(d>0?T.to>f.ch:T.from<f.ch))return $y(l,f,d);var D=function(Re,ke){return By(l,Re instanceof te?Re.ch:Re,ke)},L,M=function(Re){return s.options.lineWrapping?(L=L||_l(s,l),xC(s,l,L,Re)):{begin:0,end:l.text.length}},$=M(f.sticky=="before"?D(f,-1):f.ch);if(s.doc.direction=="rtl"||T.level==1){var W=T.level==1==d<0,J=D(f,W?1:-1);if(J!=null&&(W?J<=T.to&&J<=$.end:J>=T.from&&J>=$.begin)){var q=W?"before":"after";return new te(f.line,J,q)}}var re=function(Re,ke,Te){for(var Ae=function(Nt,On){return On?new te(f.line,D(Nt,1),"before"):new te(f.line,Nt,"after")};Re>=0&&Re<m.length;Re+=ke){var He=m[Re],Ve=ke>0==(He.level!=1),at=Ve?Te.begin:D(Te.end,-1);if(He.from<=at&&at<He.to||(at=Ve?He.from:D(He.to,-1),Te.begin<=at&&at<Te.end))return Ae(at,Ve)}},de=re(y+d,d,$);if(de)return de;var Se=d>0?$.end:D($.begin,-1);return Se!=null&&!(d>0&&Se==l.text.length)&&(de=re(d>0?0:m.length-1,d,M(Se)),de)?de:null}var ld={selectAll:tR,singleSelection:function(s){return s.setSelection(s.getCursor("anchor"),s.getCursor("head"),We)},killLine:function(s){return Nl(s,function(l){if(l.empty()){var f=Be(s.doc,l.head.line).text.length;return l.head.ch==f&&l.head.line<s.lastLine()?{from:l.head,to:te(l.head.line+1,0)}:{from:l.head,to:te(l.head.line,f)}}else return{from:l.from(),to:l.to()}})},deleteLine:function(s){return Nl(s,function(l){return{from:te(l.from().line,0),to:rt(s.doc,te(l.to().line+1,0))}})},delLineLeft:function(s){return Nl(s,function(l){return{from:te(l.from().line,0),to:l.from()}})},delWrappedLineLeft:function(s){return Nl(s,function(l){var f=s.charCoords(l.head,"div").top+5,d=s.coordsChar({left:0,top:f},"div");return{from:d,to:l.from()}})},delWrappedLineRight:function(s){return Nl(s,function(l){var f=s.charCoords(l.head,"div").top+5,d=s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:f},"div");return{from:l.from(),to:d}})},undo:function(s){return s.undo()},redo:function(s){return s.redo()},undoSelection:function(s){return s.undoSelection()},redoSelection:function(s){return s.redoSelection()},goDocStart:function(s){return s.extendSelection(te(s.firstLine(),0))},goDocEnd:function(s){return s.extendSelection(te(s.lastLine()))},goLineStart:function(s){return s.extendSelectionsBy(function(l){return yR(s,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(s){return s.extendSelectionsBy(function(l){return wR(s,l.head)},{origin:"+move",bias:1})},goLineEnd:function(s){return s.extendSelectionsBy(function(l){return o5(s,l.head.line)},{origin:"+move",bias:-1})},goLineRight:function(s){return s.extendSelectionsBy(function(l){var f=s.cursorCoords(l.head,"div").top+5;return s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:f},"div")},st)},goLineLeft:function(s){return s.extendSelectionsBy(function(l){var f=s.cursorCoords(l.head,"div").top+5;return s.coordsChar({left:0,top:f},"div")},st)},goLineLeftSmart:function(s){return s.extendSelectionsBy(function(l){var f=s.cursorCoords(l.head,"div").top+5,d=s.coordsChar({left:0,top:f},"div");return d.ch<s.getLine(d.line).search(/\S/)?wR(s,l.head):d},st)},goLineUp:function(s){return s.moveV(-1,"line")},goLineDown:function(s){return s.moveV(1,"line")},goPageUp:function(s){return s.moveV(-1,"page")},goPageDown:function(s){return s.moveV(1,"page")},goCharLeft:function(s){return s.moveH(-1,"char")},goCharRight:function(s){return s.moveH(1,"char")},goColumnLeft:function(s){return s.moveH(-1,"column")},goColumnRight:function(s){return s.moveH(1,"column")},goWordLeft:function(s){return s.moveH(-1,"word")},goGroupRight:function(s){return s.moveH(1,"group")},goGroupLeft:function(s){return s.moveH(-1,"group")},goWordRight:function(s){return s.moveH(1,"word")},delCharBefore:function(s){return s.deleteH(-1,"codepoint")},delCharAfter:function(s){return s.deleteH(1,"char")},delWordBefore:function(s){return s.deleteH(-1,"word")},delWordAfter:function(s){return s.deleteH(1,"word")},delGroupBefore:function(s){return s.deleteH(-1,"group")},delGroupAfter:function(s){return s.deleteH(1,"group")},indentAuto:function(s){return s.indentSelection("smart")},indentMore:function(s){return s.indentSelection("add")},indentLess:function(s){return s.indentSelection("subtract")},insertTab:function(s){return s.replaceSelection("	")},insertSoftTab:function(s){for(var l=[],f=s.listSelections(),d=s.options.tabSize,m=0;m<f.length;m++){var y=f[m].from(),T=he(s.getLine(y.line),y.ch,d);l.push(At(d-T%d))}s.replaceSelections(l)},defaultTab:function(s){s.somethingSelected()?s.indentSelection("add"):s.execCommand("insertTab")},transposeChars:function(s){return yr(s,function(){for(var l=s.listSelections(),f=[],d=0;d<l.length;d++)if(l[d].empty()){var m=l[d].head,y=Be(s.doc,m.line).text;if(y){if(m.ch==y.length&&(m=new te(m.line,m.ch-1)),m.ch>0)m=new te(m.line,m.ch+1),s.replaceRange(y.charAt(m.ch-1)+y.charAt(m.ch-2),te(m.line,m.ch-2),m,"+transpose");else if(m.line>s.doc.first){var T=Be(s.doc,m.line-1).text;T&&(m=new te(m.line,1),s.replaceRange(y.charAt(0)+s.doc.lineSeparator()+T.charAt(T.length-1),te(m.line-1,T.length-1),m,"+transpose"))}}f.push(new Et(m,m))}s.setSelections(f)})},newlineAndIndent:function(s){return yr(s,function(){for(var l=s.listSelections(),f=l.length-1;f>=0;f--)s.replaceRange(s.doc.lineSeparator(),l[f].anchor,l[f].head,"+input");l=s.listSelections();for(var d=0;d<l.length;d++)s.indentLine(l[d].from().line,null,!0);El(s)})},openLine:function(s){return s.replaceSelection(`
`,"start")},toggleOverwrite:function(s){return s.toggleOverwrite()}};function yR(s,l){var f=Be(s.doc,l),d=gi(f);return d!=f&&(l=A(d)),zy(!0,s,d,l,1)}function o5(s,l){var f=Be(s.doc,l),d=VF(f);return d!=f&&(l=A(d)),zy(!0,s,f,l,-1)}function wR(s,l){var f=yR(s,l.line),d=Be(s.doc,f.line),m=Ne(d,s.doc.direction);if(!m||m[0].level==0){var y=Math.max(f.ch,d.text.search(/\S/)),T=l.line==f.line&&l.ch<=y&&l.ch;return te(f.line,T?0:y,f.sticky)}return f}function Yp(s,l,f){if(typeof l=="string"&&(l=ld[l],!l))return!1;s.display.input.ensurePolled();var d=s.display.shift,m=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),f&&(s.display.shift=!1),m=l(s)!=$e}finally{s.display.shift=d,s.state.suppressEdits=!1}return m}function a5(s,l,f){for(var d=0;d<s.state.keyMaps.length;d++){var m=Al(l,s.state.keyMaps[d],f,s);if(m)return m}return s.options.extraKeys&&Al(l,s.options.extraKeys,f,s)||Al(l,s.options.keyMap,f,s)}var l5=new Ee;function cd(s,l,f,d){var m=s.state.keySeq;if(m){if(mR(l))return"handled";if(/\'$/.test(l)?s.state.keySeq=null:l5.set(50,function(){s.state.keySeq==m&&(s.state.keySeq=null,s.display.input.reset())}),bR(s,m+" "+l,f,d))return!0}return bR(s,l,f,d)}function bR(s,l,f,d){var m=a5(s,l,d);return m=="multi"&&(s.state.keySeq=l),m=="handled"&&Dn(s,"keyHandled",s,l,f),(m=="handled"||m=="multi")&&(Pn(f),_y(s)),!!m}function SR(s,l){var f=vR(l,!0);return f?l.shiftKey&&!s.state.keySeq?cd(s,"Shift-"+f,l,function(d){return Yp(s,d,!0)})||cd(s,f,l,function(d){if(typeof d=="string"?/^go[A-Z]/.test(d):d.motion)return Yp(s,d)}):cd(s,f,l,function(d){return Yp(s,d)}):!1}function c5(s,l,f){return cd(s,"'"+f+"'",l,function(d){return Yp(s,d,!0)})}var Uy=null;function xR(s){var l=this;if(!(s.target&&s.target!=l.display.input.getField())&&(l.curOp.focus=j(pe(l)),!Dt(l,s))){u&&p<11&&s.keyCode==27&&(s.returnValue=!1);var f=s.keyCode;l.display.shift=f==16||s.shiftKey;var d=SR(l,s);S&&(Uy=d?f:null,!d&&f==88&&!_p&&(N?s.metaKey:s.ctrlKey)&&l.replaceSelection("",null,"cut")),i&&!N&&!d&&f==46&&s.shiftKey&&!s.ctrlKey&&document.execCommand&&document.execCommand("cut"),f==18&&!/\bCodeMirror-crosshair\b/.test(l.display.lineDiv.className)&&u5(l)}}function u5(s){var l=s.display.lineDiv;K(l,"CodeMirror-crosshair");function f(d){(d.keyCode==18||!d.altKey)&&(Y(l,"CodeMirror-crosshair"),Wt(document,"keyup",f),Wt(document,"mouseover",f))}Le(document,"keyup",f),Le(document,"mouseover",f)}function _R(s){s.keyCode==16&&(this.doc.sel.shift=!1),Dt(this,s)}function CR(s){var l=this;if(!(s.target&&s.target!=l.display.input.getField())&&!(ws(l.display,s)||Dt(l,s)||s.ctrlKey&&!s.altKey||N&&s.metaKey)){var f=s.keyCode,d=s.charCode;if(S&&f==Uy){Uy=null,Pn(s);return}if(!(S&&(!s.which||s.which<10)&&SR(l,s))){var m=String.fromCharCode(d??f);m!="\b"&&(c5(l,s,m)||l.display.input.onKeyPress(s))}}}var d5=400,Vy=function(s,l,f){this.time=s,this.pos=l,this.button=f};Vy.prototype.compare=function(s,l,f){return this.time+d5>s&&Pe(l,this.pos)==0&&f==this.button};var ud,dd;function f5(s,l){var f=+new Date;return dd&&dd.compare(f,s,l)?(ud=dd=null,"triple"):ud&&ud.compare(f,s,l)?(dd=new Vy(f,s,l),ud=null,"double"):(ud=new Vy(f,s,l),dd=null,"single")}function RR(s){var l=this,f=l.display;if(!(Dt(l,s)||f.activeTouch&&f.input.supportsTouch())){if(f.input.ensurePolled(),f.shift=s.shiftKey,ws(f,s)){h||(f.scroller.draggable=!1,setTimeout(function(){return f.scroller.draggable=!0},100));return}if(!Hy(l,s)){var d=ba(l,s),m=fi(s),y=d?f5(d,m):"single";se(l).focus(),m==1&&l.state.selectingText&&l.state.selectingText(s),!(d&&p5(l,m,d,y,s))&&(m==1?d?m5(l,d,y,s):Iu(s)==f.scroller&&Pn(s):m==2?(d&&Vp(l.doc,d),setTimeout(function(){return f.input.focus()},20)):m==3&&(Q?l.display.input.onContextMenu(s):Cy(l)))}}}function p5(s,l,f,d,m){var y="Click";return d=="double"?y="Double"+y:d=="triple"&&(y="Triple"+y),y=(l==1?"Left":l==2?"Middle":"Right")+y,cd(s,gR(y,m),m,function(T){if(typeof T=="string"&&(T=ld[T]),!T)return!1;var D=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),D=T(s,f)!=$e}finally{s.state.suppressEdits=!1}return D})}function h5(s,l,f){var d=s.getOption("configureMouse"),m=d?d(s,l,f):{};if(m.unit==null){var y=F?f.shiftKey&&f.metaKey:f.altKey;m.unit=y?"rectangle":l=="single"?"char":l=="double"?"word":"line"}return(m.extend==null||s.doc.extend)&&(m.extend=s.doc.extend||f.shiftKey),m.addNew==null&&(m.addNew=N?f.metaKey:f.ctrlKey),m.moveOnDrag==null&&(m.moveOnDrag=!(N?f.altKey:f.ctrlKey)),m}function m5(s,l,f,d){u?setTimeout(ee(TC,s),0):s.curOp.focus=j(pe(s));var m=h5(s,f,d),y=s.doc.sel,T;s.options.dragDrop&&ny&&!s.isReadOnly()&&f=="single"&&(T=y.contains(l))>-1&&(Pe((T=y.ranges[T]).from(),l)<0||l.xRel>0)&&(Pe(T.to(),l)>0||l.xRel<0)?g5(s,d,l,m):v5(s,d,l,m)}function g5(s,l,f,d){var m=s.display,y=!1,T=Ln(s,function(M){h&&(m.scroller.draggable=!1),s.state.draggingText=!1,s.state.delayingBlurEvent&&(s.hasFocus()?s.state.delayingBlurEvent=!1:Cy(s)),Wt(m.wrapper.ownerDocument,"mouseup",T),Wt(m.wrapper.ownerDocument,"mousemove",D),Wt(m.scroller,"dragstart",L),Wt(m.scroller,"drop",T),y||(Pn(M),d.addNew||Vp(s.doc,f,null,null,d.extend),h&&!b||u&&p==9?setTimeout(function(){m.wrapper.ownerDocument.body.focus({preventScroll:!0}),m.input.focus()},20):m.input.focus())}),D=function(M){y=y||Math.abs(l.clientX-M.clientX)+Math.abs(l.clientY-M.clientY)>=10},L=function(){return y=!0};h&&(m.scroller.draggable=!0),s.state.draggingText=T,T.copy=!d.moveOnDrag,Le(m.wrapper.ownerDocument,"mouseup",T),Le(m.wrapper.ownerDocument,"mousemove",D),Le(m.scroller,"dragstart",L),Le(m.scroller,"drop",T),s.state.delayingBlurEvent=!0,setTimeout(function(){return m.input.focus()},20),m.scroller.dragDrop&&m.scroller.dragDrop()}function TR(s,l,f){if(f=="char")return new Et(l,l);if(f=="word")return s.findWordAt(l);if(f=="line")return new Et(te(l.line,0),rt(s.doc,te(l.line+1,0)));var d=f(s,l);return new Et(d.from,d.to)}function v5(s,l,f,d){u&&Cy(s);var m=s.display,y=s.doc;Pn(l);var T,D,L=y.sel,M=L.ranges;if(d.addNew&&!d.extend?(D=y.sel.contains(f),D>-1?T=M[D]:T=new Et(f,f)):(T=y.sel.primary(),D=y.sel.primIndex),d.unit=="rectangle")d.addNew||(T=new Et(f,f)),f=ba(s,l,!0,!0),D=-1;else{var $=TR(s,f,d.unit);d.extend?T=jy(T,$.anchor,$.head,d.extend):T=$}d.addNew?D==-1?(D=M.length,Wn(y,yi(s,M.concat([T]),D),{scroll:!1,origin:"*mouse"})):M.length>1&&M[D].empty()&&d.unit=="char"&&!d.extend?(Wn(y,yi(s,M.slice(0,D).concat(M.slice(D+1)),0),{scroll:!1,origin:"*mouse"}),L=y.sel):Fy(y,D,T,Rt):(D=0,Wn(y,new Mr([T],0),Rt),L=y.sel);var W=f;function J(Te){if(Pe(W,Te)!=0)if(W=Te,d.unit=="rectangle"){for(var Ae=[],He=s.options.tabSize,Ve=he(Be(y,f.line).text,f.ch,He),at=he(Be(y,Te.line).text,Te.ch,He),Nt=Math.min(Ve,at),On=Math.max(Ve,at),Kt=Math.min(f.line,Te.line),wr=Math.min(s.lastLine(),Math.max(f.line,Te.line));Kt<=wr;Kt++){var ur=Be(y,Kt).text,dn=ht(ur,Nt,He);Nt==On?Ae.push(new Et(te(Kt,dn),te(Kt,dn))):ur.length>dn&&Ae.push(new Et(te(Kt,dn),te(Kt,ht(ur,On,He))))}Ae.length||Ae.push(new Et(f,f)),Wn(y,yi(s,L.ranges.slice(0,D).concat(Ae),D),{origin:"*mouse",scroll:!1}),s.scrollIntoView(Te)}else{var dr=T,zn=TR(s,Te,d.unit),yn=dr.anchor,fn;Pe(zn.anchor,yn)>0?(fn=zn.head,yn=bl(dr.from(),zn.anchor)):(fn=zn.anchor,yn=ar(dr.to(),zn.head));var Qt=L.ranges.slice(0);Qt[D]=y5(s,new Et(rt(y,yn),fn)),Wn(y,yi(s,Qt,D),Rt)}}var q=m.wrapper.getBoundingClientRect(),re=0;function de(Te){var Ae=++re,He=ba(s,Te,!0,d.unit=="rectangle");if(He)if(Pe(He,W)!=0){s.curOp.focus=j(pe(s)),J(He);var Ve=jp(m,y);(He.line>=Ve.to||He.line<Ve.from)&&setTimeout(Ln(s,function(){re==Ae&&de(Te)}),150)}else{var at=Te.clientY<q.top?-20:Te.clientY>q.bottom?20:0;at&&setTimeout(Ln(s,function(){re==Ae&&(m.scroller.scrollTop+=at,de(Te))}),50)}}function Se(Te){s.state.selectingText=!1,re=1/0,Te&&(Pn(Te),m.input.focus()),Wt(m.wrapper.ownerDocument,"mousemove",Re),Wt(m.wrapper.ownerDocument,"mouseup",ke),y.history.lastSelOrigin=null}var Re=Ln(s,function(Te){Te.buttons===0||!fi(Te)?Se(Te):de(Te)}),ke=Ln(s,Se);s.state.selectingText=ke,Le(m.wrapper.ownerDocument,"mousemove",Re),Le(m.wrapper.ownerDocument,"mouseup",ke)}function y5(s,l){var f=l.anchor,d=l.head,m=Be(s.doc,f.line);if(Pe(f,d)==0&&f.sticky==d.sticky)return l;var y=Ne(m);if(!y)return l;var T=De(y,f.ch,f.sticky),D=y[T];if(D.from!=f.ch&&D.to!=f.ch)return l;var L=T+(D.from==f.ch==(D.level!=1)?0:1);if(L==0||L==y.length)return l;var M;if(d.line!=f.line)M=(d.line-f.line)*(s.doc.direction=="ltr"?1:-1)>0;else{var $=De(y,d.ch,d.sticky),W=$-T||(d.ch-f.ch)*(D.level==1?-1:1);$==L-1||$==L?M=W<0:M=W>0}var J=y[L+(M?-1:0)],q=M==(J.level==1),re=q?J.from:J.to,de=q?"after":"before";return f.ch==re&&f.sticky==de?l:new Et(new te(f.line,re,de),d)}function ER(s,l,f,d){var m,y;if(l.touches)m=l.touches[0].clientX,y=l.touches[0].clientY;else try{m=l.clientX,y=l.clientY}catch{return!1}if(m>=Math.floor(s.display.gutters.getBoundingClientRect().right))return!1;d&&Pn(l);var T=s.display,D=T.lineDiv.getBoundingClientRect();if(y>D.bottom||!En(s,f))return vn(l);y-=D.top-T.viewOffset;for(var L=0;L<s.display.gutterSpecs.length;++L){var M=T.gutters.childNodes[L];if(M&&M.getBoundingClientRect().right>=m){var $=H(s.doc,y),W=s.display.gutterSpecs[L];return Bt(s,f,s,$,W.className,l),vn(l)}}}function Hy(s,l){return ER(s,l,"gutterClick",!0)}function PR(s,l){ws(s.display,l)||w5(s,l)||Dt(s,l,"contextmenu")||Q||s.display.input.onContextMenu(l)}function w5(s,l){return En(s,"gutterContextMenu")?ER(s,l,"gutterContextMenu",!1):!1}function kR(s){s.display.wrapper.className=s.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+s.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Wu(s)}var Il={toString:function(){return"CodeMirror.Init"}},DR={},Xp={};function b5(s){var l=s.optionHandlers;function f(d,m,y,T){s.defaults[d]=m,y&&(l[d]=T?function(D,L,M){M!=Il&&y(D,L,M)}:y)}s.defineOption=f,s.Init=Il,f("value","",function(d,m){return d.setValue(m)},!0),f("mode",null,function(d,m){d.doc.modeOption=m,Ay(d)},!0),f("indentUnit",2,Ay,!0),f("indentWithTabs",!1),f("smartIndent",!0),f("tabSize",4,function(d){Ju(d),Wu(d),lr(d)},!0),f("lineSeparator",null,function(d,m){if(d.doc.lineSep=m,!!m){var y=[],T=d.doc.first;d.doc.iter(function(L){for(var M=0;;){var $=L.text.indexOf(m,M);if($==-1)break;M=$+m.length,y.push(te(T,$))}T++});for(var D=y.length-1;D>=0;D--)Ml(d.doc,m,y[D],te(y[D].line,y[D].ch+m.length))}}),f("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(d,m,y){d.state.specialChars=new RegExp(m.source+(m.test("	")?"":"|	"),"g"),y!=Il&&d.refresh()}),f("specialCharPlaceholder",YF,function(d){return d.refresh()},!0),f("electricChars",!0),f("inputStyle",E?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),f("spellcheck",!1,function(d,m){return d.getInputField().spellcheck=m},!0),f("autocorrect",!1,function(d,m){return d.getInputField().autocorrect=m},!0),f("autocapitalize",!1,function(d,m){return d.getInputField().autocapitalize=m},!0),f("rtlMoveVisually",!B),f("wholeLineUpdateBefore",!0),f("theme","default",function(d){kR(d),Zu(d)},!0),f("keyMap","default",function(d,m,y){var T=qp(m),D=y!=Il&&qp(y);D&&D.detach&&D.detach(d,T),T.attach&&T.attach(d,D||null)}),f("extraKeys",null),f("configureMouse",null),f("lineWrapping",!1,x5,!0),f("gutters",[],function(d,m){d.display.gutterSpecs=My(m,d.options.lineNumbers),Zu(d)},!0),f("fixedGutter",!0,function(d,m){d.display.gutters.style.left=m?by(d.display)+"px":"0",d.refresh()},!0),f("coverGutterNextToScrollbar",!1,function(d){return Pl(d)},!0),f("scrollbarStyle","native",function(d){MC(d),Pl(d),d.display.scrollbars.setScrollTop(d.doc.scrollTop),d.display.scrollbars.setScrollLeft(d.doc.scrollLeft)},!0),f("lineNumbers",!1,function(d,m){d.display.gutterSpecs=My(d.options.gutters,m),Zu(d)},!0),f("firstLineNumber",1,Zu,!0),f("lineNumberFormatter",function(d){return d},Zu,!0),f("showCursorWhenSelecting",!1,Ku,!0),f("resetSelectionOnContextMenu",!0),f("lineWiseCopyCut",!0),f("pasteLinesPerSelection",!0),f("selectionsMayTouch",!1),f("readOnly",!1,function(d,m){m=="nocursor"&&(Tl(d),d.display.input.blur()),d.display.input.readOnlyChanged(m)}),f("screenReaderLabel",null,function(d,m){m=m===""?null:m,d.display.input.screenReaderLabelChanged(m)}),f("disableInput",!1,function(d,m){m||d.display.input.reset()},!0),f("dragDrop",!0,S5),f("allowDropFileTypes",null),f("cursorBlinkRate",530),f("cursorScrollMargin",0),f("cursorHeight",1,Ku,!0),f("singleCursorHeightPerLine",!0,Ku,!0),f("workTime",100),f("workDelay",100),f("flattenSpans",!0,Ju,!0),f("addModeClass",!1,Ju,!0),f("pollInterval",100),f("undoDepth",200,function(d,m){return d.doc.history.undoDepth=m}),f("historyEventDelay",1250),f("viewportMargin",10,function(d){return d.refresh()},!0),f("maxHighlightLength",1e4,Ju,!0),f("moveInputWithCursor",!0,function(d,m){m||d.display.input.resetPosition()}),f("tabindex",null,function(d,m){return d.display.input.getField().tabIndex=m||""}),f("autofocus",null),f("direction","ltr",function(d,m){return d.doc.setDirection(m)},!0),f("phrases",null)}function S5(s,l,f){var d=f&&f!=Il;if(!l!=!d){var m=s.display.dragFunctions,y=l?Le:Wt;y(s.display.scroller,"dragstart",m.start),y(s.display.scroller,"dragenter",m.enter),y(s.display.scroller,"dragover",m.over),y(s.display.scroller,"dragleave",m.leave),y(s.display.scroller,"drop",m.drop)}}function x5(s){s.options.lineWrapping?(K(s.display.wrapper,"CodeMirror-wrap"),s.display.sizer.style.minWidth="",s.display.sizerWidth=null):(Y(s.display.wrapper,"CodeMirror-wrap"),uy(s)),Sy(s),lr(s),Wu(s),setTimeout(function(){return Pl(s)},100)}function zt(s,l){var f=this;if(!(this instanceof zt))return new zt(s,l);this.options=l=l?ue(l):{},ue(DR,l,!1);var d=l.value;typeof d=="string"?d=new cr(d,l.mode,null,l.lineSeparator,l.direction):l.mode&&(d.modeOption=l.mode),this.doc=d;var m=new zt.inputStyles[l.inputStyle](this),y=this.display=new N4(s,d,m,l);y.wrapper.CodeMirror=this,kR(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),MC(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ee,keySeq:null,specialChars:null},l.autofocus&&!E&&y.input.focus(),u&&p<11&&setTimeout(function(){return f.display.input.reset(!0)},20),_5(this),e5(),Ca(this),this.curOp.forceUpdate=!0,UC(this,d),l.autofocus&&!E||this.hasFocus()?setTimeout(function(){f.hasFocus()&&!f.state.focused&&Ry(f)},20):Tl(this);for(var T in Xp)Xp.hasOwnProperty(T)&&Xp[T](this,l[T],Il);NC(this),l.finishInit&&l.finishInit(this);for(var D=0;D<Wy.length;++D)Wy[D](this);Ra(this),h&&l.lineWrapping&&getComputedStyle(y.lineDiv).textRendering=="optimizelegibility"&&(y.lineDiv.style.textRendering="auto")}zt.defaults=DR,zt.optionHandlers=Xp;function _5(s){var l=s.display;Le(l.scroller,"mousedown",Ln(s,RR)),u&&p<11?Le(l.scroller,"dblclick",Ln(s,function(L){if(!Dt(s,L)){var M=ba(s,L);if(!(!M||Hy(s,L)||ws(s.display,L))){Pn(L);var $=s.findWordAt(M);Vp(s.doc,$.anchor,$.head)}}})):Le(l.scroller,"dblclick",function(L){return Dt(s,L)||Pn(L)}),Le(l.scroller,"contextmenu",function(L){return PR(s,L)}),Le(l.input.getField(),"contextmenu",function(L){l.scroller.contains(L.target)||PR(s,L)});var f,d={end:0};function m(){l.activeTouch&&(f=setTimeout(function(){return l.activeTouch=null},1e3),d=l.activeTouch,d.end=+new Date)}function y(L){if(L.touches.length!=1)return!1;var M=L.touches[0];return M.radiusX<=1&&M.radiusY<=1}function T(L,M){if(M.left==null)return!0;var $=M.left-L.left,W=M.top-L.top;return $*$+W*W>20*20}Le(l.scroller,"touchstart",function(L){if(!Dt(s,L)&&!y(L)&&!Hy(s,L)){l.input.ensurePolled(),clearTimeout(f);var M=+new Date;l.activeTouch={start:M,moved:!1,prev:M-d.end<=300?d:null},L.touches.length==1&&(l.activeTouch.left=L.touches[0].pageX,l.activeTouch.top=L.touches[0].pageY)}}),Le(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),Le(l.scroller,"touchend",function(L){var M=l.activeTouch;if(M&&!ws(l,L)&&M.left!=null&&!M.moved&&new Date-M.start<300){var $=s.coordsChar(l.activeTouch,"page"),W;!M.prev||T(M,M.prev)?W=new Et($,$):!M.prev.prev||T(M,M.prev.prev)?W=s.findWordAt($):W=new Et(te($.line,0),rt(s.doc,te($.line+1,0))),s.setSelection(W.anchor,W.head),s.focus(),Pn(L)}m()}),Le(l.scroller,"touchcancel",m),Le(l.scroller,"scroll",function(){l.scroller.clientHeight&&(qu(s,l.scroller.scrollTop),xa(s,l.scroller.scrollLeft,!0),Bt(s,"scroll",s))}),Le(l.scroller,"mousewheel",function(L){return FC(s,L)}),Le(l.scroller,"DOMMouseScroll",function(L){return FC(s,L)}),Le(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(L){Dt(s,L)||to(L)},over:function(L){Dt(s,L)||(J4(s,L),to(L))},start:function(L){return Z4(s,L)},drop:Ln(s,Q4),leave:function(L){Dt(s,L)||fR(s)}};var D=l.input.getField();Le(D,"keyup",function(L){return _R.call(s,L)}),Le(D,"keydown",Ln(s,xR)),Le(D,"keypress",Ln(s,CR)),Le(D,"focus",function(L){return Ry(s,L)}),Le(D,"blur",function(L){return Tl(s,L)})}var Wy=[];zt.defineInitHook=function(s){return Wy.push(s)};function fd(s,l,f,d){var m=s.doc,y;f==null&&(f="add"),f=="smart"&&(m.mode.indent?y=$u(s,l).state:f="prev");var T=s.options.tabSize,D=Be(m,l),L=he(D.text,null,T);D.stateAfter&&(D.stateAfter=null);var M=D.text.match(/^\s*/)[0],$;if(!d&&!/\S/.test(D.text))$=0,f="not";else if(f=="smart"&&($=m.mode.indent(y,D.text.slice(M.length),D.text),$==$e||$>150)){if(!d)return;f="prev"}f=="prev"?l>m.first?$=he(Be(m,l-1).text,null,T):$=0:f=="add"?$=L+s.options.indentUnit:f=="subtract"?$=L-s.options.indentUnit:typeof f=="number"&&($=L+f),$=Math.max(0,$);var W="",J=0;if(s.options.indentWithTabs)for(var q=Math.floor($/T);q;--q)J+=T,W+="	";if(J<$&&(W+=At($-J)),W!=M)return Ml(m,W,te(l,0),te(l,M.length),"+input"),D.stateAfter=null,!0;for(var re=0;re<m.sel.ranges.length;re++){var de=m.sel.ranges[re];if(de.head.line==l&&de.head.ch<M.length){var Se=te(l,M.length);Fy(m,re,new Et(Se,Se));break}}}var wi=null;function Qp(s){wi=s}function Ky(s,l,f,d,m){var y=s.doc;s.display.shift=!1,d||(d=y.sel);var T=+new Date-200,D=m=="paste"||s.state.pasteIncoming>T,L=Kr(l),M=null;if(D&&d.ranges.length>1)if(wi&&wi.text.join(`
`)==l){if(d.ranges.length%wi.text.length==0){M=[];for(var $=0;$<wi.text.length;$++)M.push(y.splitLines(wi.text[$]))}}else L.length==d.ranges.length&&s.options.pasteLinesPerSelection&&(M=jt(L,function(Re){return[Re]}));for(var W=s.curOp.updateInput,J=d.ranges.length-1;J>=0;J--){var q=d.ranges[J],re=q.from(),de=q.to();q.empty()&&(f&&f>0?re=te(re.line,re.ch-f):s.state.overwrite&&!D?de=te(de.line,Math.min(Be(y,de.line).text.length,de.ch+je(L).length)):D&&wi&&wi.lineWise&&wi.text.join(`
`)==L.join(`
`)&&(re=de=te(re.line,0)));var Se={from:re,to:de,text:M?M[J%M.length]:L,origin:m||(D?"paste":s.state.cutIncoming>T?"cut":"+input")};Ll(s.doc,Se),Dn(s,"inputRead",s,Se)}l&&!D&&MR(s,l),El(s),s.curOp.updateInput<2&&(s.curOp.updateInput=W),s.curOp.typing=!0,s.state.pasteIncoming=s.state.cutIncoming=-1}function LR(s,l){var f=s.clipboardData&&s.clipboardData.getData("Text");if(f)return s.preventDefault(),!l.isReadOnly()&&!l.options.disableInput&&l.hasFocus()&&yr(l,function(){return Ky(l,f,0,null,"paste")}),!0}function MR(s,l){if(!(!s.options.electricChars||!s.options.smartIndent))for(var f=s.doc.sel,d=f.ranges.length-1;d>=0;d--){var m=f.ranges[d];if(!(m.head.ch>100||d&&f.ranges[d-1].head.line==m.head.line)){var y=s.getModeAt(m.head),T=!1;if(y.electricChars){for(var D=0;D<y.electricChars.length;D++)if(l.indexOf(y.electricChars.charAt(D))>-1){T=fd(s,m.head.line,"smart");break}}else y.electricInput&&y.electricInput.test(Be(s.doc,m.head.line).text.slice(0,m.head.ch))&&(T=fd(s,m.head.line,"smart"));T&&Dn(s,"electricInput",s,m.head.line)}}}function OR(s){for(var l=[],f=[],d=0;d<s.doc.sel.ranges.length;d++){var m=s.doc.sel.ranges[d].head.line,y={anchor:te(m,0),head:te(m+1,0)};f.push(y),l.push(s.getRange(y.anchor,y.head))}return{text:l,ranges:f}}function Gy(s,l,f,d){s.setAttribute("autocorrect",f?"on":"off"),s.setAttribute("autocapitalize",d?"on":"off"),s.setAttribute("spellcheck",!!l)}function AR(){var s=O("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),l=O("div",[s],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return h?s.style.width="1000px":s.setAttribute("wrap","off"),_&&(s.style.border="1px solid black"),l}function C5(s){var l=s.optionHandlers,f=s.helpers={};s.prototype={constructor:s,focus:function(){se(this).focus(),this.display.input.focus()},setOption:function(d,m){var y=this.options,T=y[d];y[d]==m&&d!="mode"||(y[d]=m,l.hasOwnProperty(d)&&Ln(this,l[d])(this,m,T),Bt(this,"optionChange",this,d))},getOption:function(d){return this.options[d]},getDoc:function(){return this.doc},addKeyMap:function(d,m){this.state.keyMaps[m?"push":"unshift"](qp(d))},removeKeyMap:function(d){for(var m=this.state.keyMaps,y=0;y<m.length;++y)if(m[y]==d||m[y].name==d)return m.splice(y,1),!0},addOverlay:Jn(function(d,m){var y=d.token?d:s.getMode(this.options,d);if(y.startState)throw new Error("Overlays may not be stateful.");Ge(this.state.overlays,{mode:y,modeSpec:d,opaque:m&&m.opaque,priority:m&&m.priority||0},function(T){return T.priority}),this.state.modeGen++,lr(this)}),removeOverlay:Jn(function(d){for(var m=this.state.overlays,y=0;y<m.length;++y){var T=m[y].modeSpec;if(T==d||typeof d=="string"&&T.name==d){m.splice(y,1),this.state.modeGen++,lr(this);return}}}),indentLine:Jn(function(d,m,y){typeof m!="string"&&typeof m!="number"&&(m==null?m=this.options.smartIndent?"smart":"prev":m=m?"add":"subtract"),ce(this.doc,d)&&fd(this,d,m,y)}),indentSelection:Jn(function(d){for(var m=this.doc.sel.ranges,y=-1,T=0;T<m.length;T++){var D=m[T];if(D.empty())D.head.line>y&&(fd(this,D.head.line,d,!0),y=D.head.line,T==this.doc.sel.primIndex&&El(this));else{var L=D.from(),M=D.to(),$=Math.max(y,L.line);y=Math.min(this.lastLine(),M.line-(M.ch?0:1))+1;for(var W=$;W<y;++W)fd(this,W,d);var J=this.doc.sel.ranges;L.ch==0&&m.length==J.length&&J[T].from().ch>0&&Fy(this.doc,T,new Et(L,J[T].to()),We)}}}),getTokenAt:function(d,m){return H_(this,d,m)},getLineTokens:function(d,m){return H_(this,te(d),m,!0)},getTokenTypeAt:function(d){d=rt(this.doc,d);var m=z_(this,Be(this.doc,d.line)),y=0,T=(m.length-1)/2,D=d.ch,L;if(D==0)L=m[2];else for(;;){var M=y+T>>1;if((M?m[M*2-1]:0)>=D)T=M;else if(m[M*2+1]<D)y=M+1;else{L=m[M*2+2];break}}var $=L?L.indexOf("overlay "):-1;return $<0?L:$==0?null:L.slice(0,$-1)},getModeAt:function(d){var m=this.doc.mode;return m.innerMode?s.innerMode(m,this.getTokenAt(d).state).mode:m},getHelper:function(d,m){return this.getHelpers(d,m)[0]},getHelpers:function(d,m){var y=[];if(!f.hasOwnProperty(m))return y;var T=f[m],D=this.getModeAt(d);if(typeof D[m]=="string")T[D[m]]&&y.push(T[D[m]]);else if(D[m])for(var L=0;L<D[m].length;L++){var M=T[D[m][L]];M&&y.push(M)}else D.helperType&&T[D.helperType]?y.push(T[D.helperType]):T[D.name]&&y.push(T[D.name]);for(var $=0;$<T._global.length;$++){var W=T._global[$];W.pred(D,this)&&ge(y,W.val)==-1&&y.push(W.val)}return y},getStateAfter:function(d,m){var y=this.doc;return d=F_(y,d??y.first+y.size-1),$u(this,d+1,m).state},cursorCoords:function(d,m){var y,T=this.doc.sel.primary();return d==null?y=T.head:typeof d=="object"?y=rt(this.doc,d):y=d?T.from():T.to(),vi(this,y,m||"page")},charCoords:function(d,m){return Op(this,rt(this.doc,d),m||"page")},coordsChar:function(d,m){return d=wC(this,d,m||"page"),vy(this,d.left,d.top)},lineAtHeight:function(d,m){return d=wC(this,{top:d,left:0},m||"page").top,H(this.doc,d+this.display.viewOffset)},heightAtLine:function(d,m,y){var T=!1,D;if(typeof d=="number"){var L=this.doc.first+this.doc.size-1;d<this.doc.first?d=this.doc.first:d>L&&(d=L,T=!0),D=Be(this.doc,d)}else D=d;return Mp(this,D,{top:0,left:0},m||"page",y||T).top+(T?this.doc.height-ys(D):0)},defaultTextHeight:function(){return Cl(this.display)},defaultCharWidth:function(){return Rl(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(d,m,y,T,D){var L=this.display;d=vi(this,rt(this.doc,d));var M=d.bottom,$=d.left;if(m.style.position="absolute",m.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(m),L.sizer.appendChild(m),T=="over")M=d.top;else if(T=="above"||T=="near"){var W=Math.max(L.wrapper.clientHeight,this.doc.height),J=Math.max(L.sizer.clientWidth,L.lineSpace.clientWidth);(T=="above"||d.bottom+m.offsetHeight>W)&&d.top>m.offsetHeight?M=d.top-m.offsetHeight:d.bottom+m.offsetHeight<=W&&(M=d.bottom),$+m.offsetWidth>J&&($=J-m.offsetWidth)}m.style.top=M+"px",m.style.left=m.style.right="",D=="right"?($=L.sizer.clientWidth-m.offsetWidth,m.style.right="0px"):(D=="left"?$=0:D=="middle"&&($=(L.sizer.clientWidth-m.offsetWidth)/2),m.style.left=$+"px"),y&&S4(this,{left:$,top:M,right:$+m.offsetWidth,bottom:M+m.offsetHeight})},triggerOnKeyDown:Jn(xR),triggerOnKeyPress:Jn(CR),triggerOnKeyUp:_R,triggerOnMouseDown:Jn(RR),execCommand:function(d){if(ld.hasOwnProperty(d))return ld[d].call(null,this)},triggerElectric:Jn(function(d){MR(this,d)}),findPosH:function(d,m,y,T){var D=1;m<0&&(D=-1,m=-m);for(var L=rt(this.doc,d),M=0;M<m&&(L=qy(this.doc,L,D,y,T),!L.hitSide);++M);return L},moveH:Jn(function(d,m){var y=this;this.extendSelectionsBy(function(T){return y.display.shift||y.doc.extend||T.empty()?qy(y.doc,T.head,d,m,y.options.rtlMoveVisually):d<0?T.from():T.to()},st)}),deleteH:Jn(function(d,m){var y=this.doc.sel,T=this.doc;y.somethingSelected()?T.replaceSelection("",null,"+delete"):Nl(this,function(D){var L=qy(T,D.head,d,m,!1);return d<0?{from:L,to:D.head}:{from:D.head,to:L}})}),findPosV:function(d,m,y,T){var D=1,L=T;m<0&&(D=-1,m=-m);for(var M=rt(this.doc,d),$=0;$<m;++$){var W=vi(this,M,"div");if(L==null?L=W.left:W.left=L,M=NR(this,W,D,y),M.hitSide)break}return M},moveV:Jn(function(d,m){var y=this,T=this.doc,D=[],L=!this.display.shift&&!T.extend&&T.sel.somethingSelected();if(T.extendSelectionsBy(function($){if(L)return d<0?$.from():$.to();var W=vi(y,$.head,"div");$.goalColumn!=null&&(W.left=$.goalColumn),D.push(W.left);var J=NR(y,W,d,m);return m=="page"&&$==T.sel.primary()&&Ey(y,Op(y,J,"div").top-W.top),J},st),D.length)for(var M=0;M<T.sel.ranges.length;M++)T.sel.ranges[M].goalColumn=D[M]}),findWordAt:function(d){var m=this.doc,y=Be(m,d.line).text,T=d.ch,D=d.ch;if(y){var L=this.getHelper(d,"wordChars");(d.sticky=="before"||D==y.length)&&T?--T:++D;for(var M=y.charAt(T),$=me(M,L)?function(W){return me(W,L)}:/\s/.test(M)?function(W){return/\s/.test(W)}:function(W){return!/\s/.test(W)&&!me(W)};T>0&&$(y.charAt(T-1));)--T;for(;D<y.length&&$(y.charAt(D));)++D}return new Et(te(d.line,T),te(d.line,D))},toggleOverwrite:function(d){d!=null&&d==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?K(this.display.cursorDiv,"CodeMirror-overwrite"):Y(this.display.cursorDiv,"CodeMirror-overwrite"),Bt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==j(pe(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Jn(function(d,m){Gu(this,d,m)}),getScrollInfo:function(){var d=this.display.scroller;return{left:d.scrollLeft,top:d.scrollTop,height:d.scrollHeight-Bi(this)-this.display.barHeight,width:d.scrollWidth-Bi(this)-this.display.barWidth,clientHeight:py(this),clientWidth:ya(this)}},scrollIntoView:Jn(function(d,m){d==null?(d={from:this.doc.sel.primary().head,to:null},m==null&&(m=this.options.cursorScrollMargin)):typeof d=="number"?d={from:te(d,0),to:null}:d.from==null&&(d={from:d,to:null}),d.to||(d.to=d.from),d.margin=m||0,d.from.line!=null?x4(this,d):PC(this,d.from,d.to,d.margin)}),setSize:Jn(function(d,m){var y=this,T=function(L){return typeof L=="number"||/^\d+$/.test(String(L))?L+"px":L};d!=null&&(this.display.wrapper.style.width=T(d)),m!=null&&(this.display.wrapper.style.height=T(m)),this.options.lineWrapping&&gC(this);var D=this.display.viewFrom;this.doc.iter(D,this.display.viewTo,function(L){if(L.widgets){for(var M=0;M<L.widgets.length;M++)if(L.widgets[M].noHScroll){oo(y,D,"widget");break}}++D}),this.curOp.forceUpdate=!0,Bt(this,"refresh",this)}),operation:function(d){return yr(this,d)},startOperation:function(){return Ca(this)},endOperation:function(){return Ra(this)},refresh:Jn(function(){var d=this.display.cachedTextHeight;lr(this),this.curOp.forceUpdate=!0,Wu(this),Gu(this,this.doc.scrollLeft,this.doc.scrollTop),Dy(this.display),(d==null||Math.abs(d-Cl(this.display))>.5||this.options.lineWrapping)&&Sy(this),Bt(this,"refresh",this)}),swapDoc:Jn(function(d){var m=this.doc;return m.cm=null,this.state.selectingText&&this.state.selectingText(),UC(this,d),Wu(this),this.display.input.reset(),Gu(this,d.scrollLeft,d.scrollTop),this.curOp.forceScroll=!0,Dn(this,"swapDoc",this,m),m}),phrase:function(d){var m=this.options.phrases;return m&&Object.prototype.hasOwnProperty.call(m,d)?m[d]:d},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},$n(s),s.registerHelper=function(d,m,y){f.hasOwnProperty(d)||(f[d]=s[d]={_global:[]}),f[d][m]=y},s.registerGlobalHelper=function(d,m,y,T){s.registerHelper(d,m,T),f[d]._global.push({pred:y,val:T})}}function qy(s,l,f,d,m){var y=l,T=f,D=Be(s,l.line),L=m&&s.direction=="rtl"?-f:f;function M(){var ke=l.line+L;return ke<s.first||ke>=s.first+s.size?!1:(l=new te(ke,l.ch,l.sticky),D=Be(s,ke))}function $(ke){var Te;if(d=="codepoint"){var Ae=D.text.charCodeAt(l.ch+(f>0?0:-1));if(isNaN(Ae))Te=null;else{var He=f>0?Ae>=55296&&Ae<56320:Ae>=56320&&Ae<57343;Te=new te(l.line,Math.max(0,Math.min(D.text.length,l.ch+f*(He?2:1))),-f)}}else m?Te=s5(s.cm,D,l,f):Te=$y(D,l,f);if(Te==null)if(!ke&&M())l=zy(m,s.cm,D,l.line,L);else return!1;else l=Te;return!0}if(d=="char"||d=="codepoint")$();else if(d=="column")$(!0);else if(d=="word"||d=="group")for(var W=null,J=d=="group",q=s.cm&&s.cm.getHelper(l,"wordChars"),re=!0;!(f<0&&!$(!re));re=!1){var de=D.text.charAt(l.ch)||`
`,Se=me(de,q)?"w":J&&de==`
`?"n":!J||/\s/.test(de)?null:"p";if(J&&!re&&!Se&&(Se="s"),W&&W!=Se){f<0&&(f=1,$(),l.sticky="after");break}if(Se&&(W=Se),f>0&&!$(!re))break}var Re=Wp(s,l,y,T,!0);return Tt(y,Re)&&(Re.hitSide=!0),Re}function NR(s,l,f,d){var m=s.doc,y=l.left,T;if(d=="page"){var D=Math.min(s.display.wrapper.clientHeight,se(s).innerHeight||m(s).documentElement.clientHeight),L=Math.max(D-.5*Cl(s.display),3);T=(f>0?l.bottom:l.top)+f*L}else d=="line"&&(T=f>0?l.bottom+3:l.top-3);for(var M;M=vy(s,y,T),!!M.outside;){if(f<0?T<=0:T>=m.height){M.hitSide=!0;break}T+=f*5}return M}var Lt=function(s){this.cm=s,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ee,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Lt.prototype.init=function(s){var l=this,f=this,d=f.cm,m=f.div=s.lineDiv;m.contentEditable=!0,Gy(m,d.options.spellcheck,d.options.autocorrect,d.options.autocapitalize);function y(D){for(var L=D.target;L;L=L.parentNode){if(L==m)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(L.className))break}return!1}Le(m,"paste",function(D){!y(D)||Dt(d,D)||LR(D,d)||p<=11&&setTimeout(Ln(d,function(){return l.updateFromDOM()}),20)}),Le(m,"compositionstart",function(D){l.composing={data:D.data,done:!1}}),Le(m,"compositionupdate",function(D){l.composing||(l.composing={data:D.data,done:!1})}),Le(m,"compositionend",function(D){l.composing&&(D.data!=l.composing.data&&l.readFromDOMSoon(),l.composing.done=!0)}),Le(m,"touchstart",function(){return f.forceCompositionEnd()}),Le(m,"input",function(){l.composing||l.readFromDOMSoon()});function T(D){if(!(!y(D)||Dt(d,D))){if(d.somethingSelected())Qp({lineWise:!1,text:d.getSelections()}),D.type=="cut"&&d.replaceSelection("",null,"cut");else if(d.options.lineWiseCopyCut){var L=OR(d);Qp({lineWise:!0,text:L.text}),D.type=="cut"&&d.operation(function(){d.setSelections(L.ranges,0,We),d.replaceSelection("",null,"cut")})}else return;if(D.clipboardData){D.clipboardData.clearData();var M=wi.text.join(`
`);if(D.clipboardData.setData("Text",M),D.clipboardData.getData("Text")==M){D.preventDefault();return}}var $=AR(),W=$.firstChild;Gy(W),d.display.lineSpace.insertBefore($,d.display.lineSpace.firstChild),W.value=wi.text.join(`
`);var J=j(we(m));xe(W),setTimeout(function(){d.display.lineSpace.removeChild($),J.focus(),J==m&&f.showPrimarySelection()},50)}}Le(m,"copy",T),Le(m,"cut",T)},Lt.prototype.screenReaderLabelChanged=function(s){s?this.div.setAttribute("aria-label",s):this.div.removeAttribute("aria-label")},Lt.prototype.prepareSelection=function(){var s=RC(this.cm,!1);return s.focus=j(we(this.div))==this.div,s},Lt.prototype.showSelection=function(s,l){!s||!this.cm.display.view.length||((s.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(s))},Lt.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Lt.prototype.showPrimarySelection=function(){var s=this.getSelection(),l=this.cm,f=l.doc.sel.primary(),d=f.from(),m=f.to();if(l.display.viewTo==l.display.viewFrom||d.line>=l.display.viewTo||m.line<l.display.viewFrom){s.removeAllRanges();return}var y=Zp(l,s.anchorNode,s.anchorOffset),T=Zp(l,s.focusNode,s.focusOffset);if(!(y&&!y.bad&&T&&!T.bad&&Pe(bl(y,T),d)==0&&Pe(ar(y,T),m)==0)){var D=l.display.view,L=d.line>=l.display.viewFrom&&IR(l,d)||{node:D[0].measure.map[2],offset:0},M=m.line<l.display.viewTo&&IR(l,m);if(!M){var $=D[D.length-1].measure,W=$.maps?$.maps[$.maps.length-1]:$.map;M={node:W[W.length-1],offset:W[W.length-2]-W[W.length-3]}}if(!L||!M){s.removeAllRanges();return}var J=s.rangeCount&&s.getRangeAt(0),q;try{q=oe(L.node,L.offset,M.offset,M.node)}catch{}q&&(!i&&l.state.focused?(s.collapse(L.node,L.offset),q.collapsed||(s.removeAllRanges(),s.addRange(q))):(s.removeAllRanges(),s.addRange(q)),J&&s.anchorNode==null?s.addRange(J):i&&this.startGracePeriod()),this.rememberSelection()}},Lt.prototype.startGracePeriod=function(){var s=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){s.gracePeriod=!1,s.selectionChanged()&&s.cm.operation(function(){return s.cm.curOp.selectionChanged=!0})},20)},Lt.prototype.showMultipleSelections=function(s){V(this.cm.display.cursorDiv,s.cursors),V(this.cm.display.selectionDiv,s.selection)},Lt.prototype.rememberSelection=function(){var s=this.getSelection();this.lastAnchorNode=s.anchorNode,this.lastAnchorOffset=s.anchorOffset,this.lastFocusNode=s.focusNode,this.lastFocusOffset=s.focusOffset},Lt.prototype.selectionInEditor=function(){var s=this.getSelection();if(!s.rangeCount)return!1;var l=s.getRangeAt(0).commonAncestorContainer;return I(this.div,l)},Lt.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||j(we(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Lt.prototype.blur=function(){this.div.blur()},Lt.prototype.getField=function(){return this.div},Lt.prototype.supportsTouch=function(){return!0},Lt.prototype.receivedFocus=function(){var s=this,l=this;this.selectionInEditor()?setTimeout(function(){return s.pollSelection()},20):yr(this.cm,function(){return l.cm.curOp.selectionChanged=!0});function f(){l.cm.state.focused&&(l.pollSelection(),l.polling.set(l.cm.options.pollInterval,f))}this.polling.set(this.cm.options.pollInterval,f)},Lt.prototype.selectionChanged=function(){var s=this.getSelection();return s.anchorNode!=this.lastAnchorNode||s.anchorOffset!=this.lastAnchorOffset||s.focusNode!=this.lastFocusNode||s.focusOffset!=this.lastFocusOffset},Lt.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var s=this.getSelection(),l=this.cm;if(k&&v&&this.cm.display.gutterSpecs.length&&R5(s.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var f=Zp(l,s.anchorNode,s.anchorOffset),d=Zp(l,s.focusNode,s.focusOffset);f&&d&&yr(l,function(){Wn(l.doc,lo(f,d),We),(f.bad||d.bad)&&(l.curOp.selectionChanged=!0)})}}},Lt.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var s=this.cm,l=s.display,f=s.doc.sel.primary(),d=f.from(),m=f.to();if(d.ch==0&&d.line>s.firstLine()&&(d=te(d.line-1,Be(s.doc,d.line-1).length)),m.ch==Be(s.doc,m.line).text.length&&m.line<s.lastLine()&&(m=te(m.line+1,0)),d.line<l.viewFrom||m.line>l.viewTo-1)return!1;var y,T,D;d.line==l.viewFrom||(y=Sa(s,d.line))==0?(T=A(l.view[0].line),D=l.view[0].node):(T=A(l.view[y].line),D=l.view[y-1].node.nextSibling);var L=Sa(s,m.line),M,$;if(L==l.view.length-1?(M=l.viewTo-1,$=l.lineDiv.lastChild):(M=A(l.view[L+1].line)-1,$=l.view[L+1].node.previousSibling),!D)return!1;for(var W=s.doc.splitLines(T5(s,D,$,T,M)),J=gs(s.doc,te(T,0),te(M,Be(s.doc,M).text.length));W.length>1&&J.length>1;)if(je(W)==je(J))W.pop(),J.pop(),M--;else if(W[0]==J[0])W.shift(),J.shift(),T++;else break;for(var q=0,re=0,de=W[0],Se=J[0],Re=Math.min(de.length,Se.length);q<Re&&de.charCodeAt(q)==Se.charCodeAt(q);)++q;for(var ke=je(W),Te=je(J),Ae=Math.min(ke.length-(W.length==1?q:0),Te.length-(J.length==1?q:0));re<Ae&&ke.charCodeAt(ke.length-re-1)==Te.charCodeAt(Te.length-re-1);)++re;if(W.length==1&&J.length==1&&T==d.line)for(;q&&q>d.ch&&ke.charCodeAt(ke.length-re-1)==Te.charCodeAt(Te.length-re-1);)q--,re++;W[W.length-1]=ke.slice(0,ke.length-re).replace(/^\u200b+/,""),W[0]=W[0].slice(q).replace(/\u200b+$/,"");var He=te(T,q),Ve=te(M,J.length?je(J).length-re:0);if(W.length>1||W[0]||Pe(He,Ve))return Ml(s.doc,W,He,Ve,"+input"),!0},Lt.prototype.ensurePolled=function(){this.forceCompositionEnd()},Lt.prototype.reset=function(){this.forceCompositionEnd()},Lt.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Lt.prototype.readFromDOMSoon=function(){var s=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(s.readDOMTimeout=null,s.composing)if(s.composing.done)s.composing=null;else return;s.updateFromDOM()},80))},Lt.prototype.updateFromDOM=function(){var s=this;(this.cm.isReadOnly()||!this.pollContent())&&yr(this.cm,function(){return lr(s.cm)})},Lt.prototype.setUneditable=function(s){s.contentEditable="false"},Lt.prototype.onKeyPress=function(s){s.charCode==0||this.composing||(s.preventDefault(),this.cm.isReadOnly()||Ln(this.cm,Ky)(this.cm,String.fromCharCode(s.charCode==null?s.keyCode:s.charCode),0))},Lt.prototype.readOnlyChanged=function(s){this.div.contentEditable=String(s!="nocursor")},Lt.prototype.onContextMenu=function(){},Lt.prototype.resetPosition=function(){},Lt.prototype.needsContentAttribute=!0;function IR(s,l){var f=hy(s,l.line);if(!f||f.hidden)return null;var d=Be(s.doc,l.line),m=dC(f,d,l.line),y=Ne(d,s.doc.direction),T="left";if(y){var D=De(y,l.ch);T=D%2?"right":"left"}var L=hC(m.map,l.ch,T);return L.offset=L.collapse=="right"?L.end:L.start,L}function R5(s){for(var l=s;l;l=l.parentNode)if(/CodeMirror-gutter-wrapper/.test(l.className))return!0;return!1}function jl(s,l){return l&&(s.bad=!0),s}function T5(s,l,f,d,m){var y="",T=!1,D=s.doc.lineSeparator(),L=!1;function M(q){return function(re){return re.id==q}}function $(){T&&(y+=D,L&&(y+=D),T=L=!1)}function W(q){q&&($(),y+=q)}function J(q){if(q.nodeType==1){var re=q.getAttribute("cm-text");if(re){W(re);return}var de=q.getAttribute("cm-marker"),Se;if(de){var Re=s.findMarks(te(d,0),te(m+1,0),M(+de));Re.length&&(Se=Re[0].find(0))&&W(gs(s.doc,Se.from,Se.to).join(D));return}if(q.getAttribute("contenteditable")=="false")return;var ke=/^(pre|div|p|li|table|br)$/i.test(q.nodeName);if(!/^br$/i.test(q.nodeName)&&q.textContent.length==0)return;ke&&$();for(var Te=0;Te<q.childNodes.length;Te++)J(q.childNodes[Te]);/^(pre|p)$/i.test(q.nodeName)&&(L=!0),ke&&(T=!0)}else q.nodeType==3&&W(q.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;J(l),l!=f;)l=l.nextSibling,L=!1;return y}function Zp(s,l,f){var d;if(l==s.display.lineDiv){if(d=s.display.lineDiv.childNodes[f],!d)return jl(s.clipPos(te(s.display.viewTo-1)),!0);l=null,f=0}else for(d=l;;d=d.parentNode){if(!d||d==s.display.lineDiv)return null;if(d.parentNode&&d.parentNode==s.display.lineDiv)break}for(var m=0;m<s.display.view.length;m++){var y=s.display.view[m];if(y.node==d)return E5(y,l,f)}}function E5(s,l,f){var d=s.text.firstChild,m=!1;if(!l||!I(d,l))return jl(te(A(s.line),0),!0);if(l==d&&(m=!0,l=d.childNodes[f],f=0,!l)){var y=s.rest?je(s.rest):s.line;return jl(te(A(y),y.text.length),m)}var T=l.nodeType==3?l:null,D=l;for(!T&&l.childNodes.length==1&&l.firstChild.nodeType==3&&(T=l.firstChild,f&&(f=T.nodeValue.length));D.parentNode!=d;)D=D.parentNode;var L=s.measure,M=L.maps;function $(Se,Re,ke){for(var Te=-1;Te<(M?M.length:0);Te++)for(var Ae=Te<0?L.map:M[Te],He=0;He<Ae.length;He+=3){var Ve=Ae[He+2];if(Ve==Se||Ve==Re){var at=A(Te<0?s.line:s.rest[Te]),Nt=Ae[He]+ke;return(ke<0||Ve!=Se)&&(Nt=Ae[He+(ke?1:0)]),te(at,Nt)}}}var W=$(T,D,f);if(W)return jl(W,m);for(var J=D.nextSibling,q=T?T.nodeValue.length-f:0;J;J=J.nextSibling){if(W=$(J,J.firstChild,0),W)return jl(te(W.line,W.ch-q),m);q+=J.textContent.length}for(var re=D.previousSibling,de=f;re;re=re.previousSibling){if(W=$(re,re.firstChild,-1),W)return jl(te(W.line,W.ch+de),m);de+=re.textContent.length}}var sn=function(s){this.cm=s,this.prevInput="",this.pollingFast=!1,this.polling=new Ee,this.hasSelection=!1,this.composing=null,this.resetting=!1};sn.prototype.init=function(s){var l=this,f=this,d=this.cm;this.createField(s);var m=this.textarea;s.wrapper.insertBefore(this.wrapper,s.wrapper.firstChild),_&&(m.style.width="0px"),Le(m,"input",function(){u&&p>=9&&l.hasSelection&&(l.hasSelection=null),f.poll()}),Le(m,"paste",function(T){Dt(d,T)||LR(T,d)||(d.state.pasteIncoming=+new Date,f.fastPoll())});function y(T){if(!Dt(d,T)){if(d.somethingSelected())Qp({lineWise:!1,text:d.getSelections()});else if(d.options.lineWiseCopyCut){var D=OR(d);Qp({lineWise:!0,text:D.text}),T.type=="cut"?d.setSelections(D.ranges,null,We):(f.prevInput="",m.value=D.text.join(`
`),xe(m))}else return;T.type=="cut"&&(d.state.cutIncoming=+new Date)}}Le(m,"cut",y),Le(m,"copy",y),Le(s.scroller,"paste",function(T){if(!(ws(s,T)||Dt(d,T))){if(!m.dispatchEvent){d.state.pasteIncoming=+new Date,f.focus();return}var D=new Event("paste");D.clipboardData=T.clipboardData,m.dispatchEvent(D)}}),Le(s.lineSpace,"selectstart",function(T){ws(s,T)||Pn(T)}),Le(m,"compositionstart",function(){var T=d.getCursor("from");f.composing&&f.composing.range.clear(),f.composing={start:T,range:d.markText(T,d.getCursor("to"),{className:"CodeMirror-composing"})}}),Le(m,"compositionend",function(){f.composing&&(f.poll(),f.composing.range.clear(),f.composing=null)})},sn.prototype.createField=function(s){this.wrapper=AR(),this.textarea=this.wrapper.firstChild;var l=this.cm.options;Gy(this.textarea,l.spellcheck,l.autocorrect,l.autocapitalize)},sn.prototype.screenReaderLabelChanged=function(s){s?this.textarea.setAttribute("aria-label",s):this.textarea.removeAttribute("aria-label")},sn.prototype.prepareSelection=function(){var s=this.cm,l=s.display,f=s.doc,d=RC(s);if(s.options.moveInputWithCursor){var m=vi(s,f.sel.primary().head,"div"),y=l.wrapper.getBoundingClientRect(),T=l.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,m.top+T.top-y.top)),d.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,m.left+T.left-y.left))}return d},sn.prototype.showSelection=function(s){var l=this.cm,f=l.display;V(f.cursorDiv,s.cursors),V(f.selectionDiv,s.selection),s.teTop!=null&&(this.wrapper.style.top=s.teTop+"px",this.wrapper.style.left=s.teLeft+"px")},sn.prototype.reset=function(s){if(!(this.contextMenuPending||this.composing&&s)){var l=this.cm;if(this.resetting=!0,l.somethingSelected()){this.prevInput="";var f=l.getSelection();this.textarea.value=f,l.state.focused&&xe(this.textarea),u&&p>=9&&(this.hasSelection=f)}else s||(this.prevInput=this.textarea.value="",u&&p>=9&&(this.hasSelection=null));this.resetting=!1}},sn.prototype.getField=function(){return this.textarea},sn.prototype.supportsTouch=function(){return!1},sn.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!E||j(we(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},sn.prototype.blur=function(){this.textarea.blur()},sn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},sn.prototype.receivedFocus=function(){this.slowPoll()},sn.prototype.slowPoll=function(){var s=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){s.poll(),s.cm.state.focused&&s.slowPoll()})},sn.prototype.fastPoll=function(){var s=!1,l=this;l.pollingFast=!0;function f(){var d=l.poll();!d&&!s?(s=!0,l.polling.set(60,f)):(l.pollingFast=!1,l.slowPoll())}l.polling.set(20,f)},sn.prototype.poll=function(){var s=this,l=this.cm,f=this.textarea,d=this.prevInput;if(this.contextMenuPending||this.resetting||!l.state.focused||ro(f)&&!d&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var m=f.value;if(m==d&&!l.somethingSelected())return!1;if(u&&p>=9&&this.hasSelection===m||N&&/[\uf700-\uf7ff]/.test(m))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var y=m.charCodeAt(0);if(y==8203&&!d&&(d="​"),y==8666)return this.reset(),this.cm.execCommand("undo")}for(var T=0,D=Math.min(d.length,m.length);T<D&&d.charCodeAt(T)==m.charCodeAt(T);)++T;return yr(l,function(){Ky(l,m.slice(T),d.length-T,null,s.composing?"*compose":null),m.length>1e3||m.indexOf(`
`)>-1?f.value=s.prevInput="":s.prevInput=m,s.composing&&(s.composing.range.clear(),s.composing.range=l.markText(s.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},sn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},sn.prototype.onKeyPress=function(){u&&p>=9&&(this.hasSelection=null),this.fastPoll()},sn.prototype.onContextMenu=function(s){var l=this,f=l.cm,d=f.display,m=l.textarea;l.contextMenuPending&&l.contextMenuPending();var y=ba(f,s),T=d.scroller.scrollTop;if(!y||S)return;var D=f.options.resetSelectionOnContextMenu;D&&f.doc.sel.contains(y)==-1&&Ln(f,Wn)(f.doc,lo(y),We);var L=m.style.cssText,M=l.wrapper.style.cssText,$=l.wrapper.offsetParent.getBoundingClientRect();l.wrapper.style.cssText="position: static",m.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(s.clientY-$.top-5)+"px; left: "+(s.clientX-$.left-5)+`px;
      z-index: 1000; background: `+(u?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var W;h&&(W=m.ownerDocument.defaultView.scrollY),d.input.focus(),h&&m.ownerDocument.defaultView.scrollTo(null,W),d.input.reset(),f.somethingSelected()||(m.value=l.prevInput=" "),l.contextMenuPending=q,d.selForContextMenu=f.doc.sel,clearTimeout(d.detectingSelectAll);function J(){if(m.selectionStart!=null){var de=f.somethingSelected(),Se="​"+(de?m.value:"");m.value="⇚",m.value=Se,l.prevInput=de?"":"​",m.selectionStart=1,m.selectionEnd=Se.length,d.selForContextMenu=f.doc.sel}}function q(){if(l.contextMenuPending==q&&(l.contextMenuPending=!1,l.wrapper.style.cssText=M,m.style.cssText=L,u&&p<9&&d.scrollbars.setScrollTop(d.scroller.scrollTop=T),m.selectionStart!=null)){(!u||u&&p<9)&&J();var de=0,Se=function(){d.selForContextMenu==f.doc.sel&&m.selectionStart==0&&m.selectionEnd>0&&l.prevInput=="​"?Ln(f,tR)(f):de++<10?d.detectingSelectAll=setTimeout(Se,500):(d.selForContextMenu=null,d.input.reset())};d.detectingSelectAll=setTimeout(Se,200)}}if(u&&p>=9&&J(),Q){to(s);var re=function(){Wt(window,"mouseup",re),setTimeout(q,20)};Le(window,"mouseup",re)}else setTimeout(q,50)},sn.prototype.readOnlyChanged=function(s){s||this.reset(),this.textarea.disabled=s=="nocursor",this.textarea.readOnly=!!s},sn.prototype.setUneditable=function(){},sn.prototype.needsContentAttribute=!1;function P5(s,l){if(l=l?ue(l):{},l.value=s.value,!l.tabindex&&s.tabIndex&&(l.tabindex=s.tabIndex),!l.placeholder&&s.placeholder&&(l.placeholder=s.placeholder),l.autofocus==null){var f=j(we(s));l.autofocus=f==s||s.getAttribute("autofocus")!=null&&f==document.body}function d(){s.value=D.getValue()}var m;if(s.form&&(Le(s.form,"submit",d),!l.leaveSubmitMethodAlone)){var y=s.form;m=y.submit;try{var T=y.submit=function(){d(),y.submit=m,y.submit(),y.submit=T}}catch{}}l.finishInit=function(L){L.save=d,L.getTextArea=function(){return s},L.toTextArea=function(){L.toTextArea=isNaN,d(),s.parentNode.removeChild(L.getWrapperElement()),s.style.display="",s.form&&(Wt(s.form,"submit",d),!l.leaveSubmitMethodAlone&&typeof s.form.submit=="function"&&(s.form.submit=m))}},s.style.display="none";var D=zt(function(L){return s.parentNode.insertBefore(L,s.nextSibling)},l);return D}function k5(s){s.off=Wt,s.on=Le,s.wheelEventPixels=I4,s.Doc=cr,s.splitLines=Kr,s.countColumn=he,s.findColumn=ht,s.isWordChar=ve,s.Pass=$e,s.signal=Bt,s.Line=Sl,s.changeEnd=co,s.scrollbarModel=LC,s.Pos=te,s.cmpPos=Pe,s.modes=ml,s.mimeModes=hi,s.resolveMode=gl,s.getMode=vl,s.modeExtensions=io,s.extendMode=yl,s.copyState=ji,s.startState=wl,s.innerMode=Fu,s.commands=ld,s.keyMap=Ss,s.keyName=vR,s.isModifierKey=mR,s.lookupKey=Al,s.normalizeKeyMap=i5,s.StringStream=Xt,s.SharedTextMarker=sd,s.TextMarker=fo,s.LineWidget=id,s.e_preventDefault=Pn,s.e_stopPropagation=Ii,s.e_stop=to,s.addClass=K,s.contains=I,s.rmClass=Y,s.keyNames=po}b5(zt),C5(zt);var D5="iter insert remove copy getEditor constructor".split(" ");for(var Jp in cr.prototype)cr.prototype.hasOwnProperty(Jp)&&ge(D5,Jp)<0&&(zt.prototype[Jp]=function(s){return function(){return s.apply(this.doc,arguments)}}(cr.prototype[Jp]));return $n(cr),zt.inputStyles={textarea:sn,contenteditable:Lt},zt.defineMode=function(s){!zt.defaults.mode&&s!="null"&&(zt.defaults.mode=s),mi.apply(this,arguments)},zt.defineMIME=va,zt.defineMode("null",function(){return{token:function(s){return s.skipToEnd()}}}),zt.defineMIME("text/plain","null"),zt.defineExtension=function(s,l){zt.prototype[s]=l},zt.defineDocExtension=function(s,l){cr.prototype[s]=l},zt.fromTextArea=P5,k5(zt),zt.version="5.65.16",zt})}(Cw)),Cw.exports}var iz=al();const sz=PS(iz);(function(e,t){(function(n){n(al())})(function(n){n.defineMode("javascript",function(r,i){var o=r.indentUnit,a=i.statementIndent,c=i.jsonld,u=i.json||c,p=i.trackScope!==!1,h=i.typescript,g=i.wordCharacters||/[\w$\xa1-\uffff]/,v=function(){function A(kn){return{type:kn,style:"keyword"}}var H=A("keyword a"),ce=A("keyword b"),be=A("keyword c"),te=A("keyword d"),Pe=A("operator"),Tt={type:"atom",style:"atom"};return{if:A("if"),while:H,with:H,else:ce,do:ce,try:ce,finally:ce,return:te,break:te,continue:te,new:A("new"),delete:be,void:be,throw:be,debugger:A("debugger"),var:A("var"),const:A("var"),let:A("var"),function:A("function"),catch:A("catch"),for:A("for"),switch:A("switch"),case:A("case"),default:A("default"),in:Pe,typeof:Pe,instanceof:Pe,true:Tt,false:Tt,null:Tt,undefined:Tt,NaN:Tt,Infinity:Tt,this:A("this"),class:A("class"),super:A("atom"),yield:be,export:A("export"),import:A("import"),extends:be,await:be}}(),w=/[+\-*&%=<>!?|~^@]/,S=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function b(A){for(var H=!1,ce,be=!1;(ce=A.next())!=null;){if(!H){if(ce=="/"&&!be)return;ce=="["?be=!0:be&&ce=="]"&&(be=!1)}H=!H&&ce=="\\"}}var P,R;function _(A,H,ce){return P=A,R=ce,H}function k(A,H){var ce=A.next();if(ce=='"'||ce=="'")return H.tokenize=E(ce),H.tokenize(A,H);if(ce=="."&&A.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return _("number","number");if(ce=="."&&A.match(".."))return _("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ce))return _(ce);if(ce=="="&&A.eat(">"))return _("=>","operator");if(ce=="0"&&A.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return _("number","number");if(/\d/.test(ce))return A.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),_("number","number");if(ce=="/")return A.eat("*")?(H.tokenize=N,N(A,H)):A.eat("/")?(A.skipToEnd(),_("comment","comment")):Lr(A,H,1)?(b(A),A.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),_("regexp","string-2")):(A.eat("="),_("operator","operator",A.current()));if(ce=="`")return H.tokenize=F,F(A,H);if(ce=="#"&&A.peek()=="!")return A.skipToEnd(),_("meta","meta");if(ce=="#"&&A.eatWhile(g))return _("variable","property");if(ce=="<"&&A.match("!--")||ce=="-"&&A.match("->")&&!/\S/.test(A.string.slice(0,A.start)))return A.skipToEnd(),_("comment","comment");if(w.test(ce))return(ce!=">"||!H.lexical||H.lexical.type!=">")&&(A.eat("=")?(ce=="!"||ce=="=")&&A.eat("="):/[<>*+\-|&?]/.test(ce)&&(A.eat(ce),ce==">"&&A.eat(ce))),ce=="?"&&A.eat(".")?_("."):_("operator","operator",A.current());if(g.test(ce)){A.eatWhile(g);var be=A.current();if(H.lastType!="."){if(v.propertyIsEnumerable(be)){var te=v[be];return _(te.type,te.style,be)}if(be=="async"&&A.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return _("async","keyword",be)}return _("variable","variable",be)}}function E(A){return function(H,ce){var be=!1,te;if(c&&H.peek()=="@"&&H.match(S))return ce.tokenize=k,_("jsonld-keyword","meta");for(;(te=H.next())!=null&&!(te==A&&!be);)be=!be&&te=="\\";return be||(ce.tokenize=k),_("string","string")}}function N(A,H){for(var ce=!1,be;be=A.next();){if(be=="/"&&ce){H.tokenize=k;break}ce=be=="*"}return _("comment","comment")}function F(A,H){for(var ce=!1,be;(be=A.next())!=null;){if(!ce&&(be=="`"||be=="$"&&A.eat("{"))){H.tokenize=k;break}ce=!ce&&be=="\\"}return _("quasi","string-2",A.current())}var B="([{}])";function U(A,H){H.fatArrowAt&&(H.fatArrowAt=null);var ce=A.string.indexOf("=>",A.start);if(!(ce<0)){if(h){var be=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(A.string.slice(A.start,ce));be&&(ce=be.index)}for(var te=0,Pe=!1,Tt=ce-1;Tt>=0;--Tt){var kn=A.string.charAt(Tt),ar=B.indexOf(kn);if(ar>=0&&ar<3){if(!te){++Tt;break}if(--te==0){kn=="("&&(Pe=!0);break}}else if(ar>=3&&ar<6)++te;else if(g.test(kn))Pe=!0;else if(/["'\/`]/.test(kn))for(;;--Tt){if(Tt==0)return;var bl=A.string.charAt(Tt-1);if(bl==kn&&A.string.charAt(Tt-2)!="\\"){Tt--;break}}else if(Pe&&!te){++Tt;break}}Pe&&!te&&(H.fatArrowAt=Tt)}}var G={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function Q(A,H,ce,be,te,Pe){this.indented=A,this.column=H,this.type=ce,this.prev=te,this.info=Pe,be!=null&&(this.align=be)}function ie(A,H){if(!p)return!1;for(var ce=A.localVars;ce;ce=ce.next)if(ce.name==H)return!0;for(var be=A.context;be;be=be.prev)for(var ce=be.vars;ce;ce=ce.next)if(ce.name==H)return!0}function Y(A,H,ce,be,te){var Pe=A.cc;for(z.state=A,z.stream=te,z.marked=null,z.cc=Pe,z.style=H,A.lexical.hasOwnProperty("align")||(A.lexical.align=!0);;){var Tt=Pe.length?Pe.pop():u?ge:he;if(Tt(ce,be)){for(;Pe.length&&Pe[Pe.length-1].lex;)Pe.pop()();return z.marked?z.marked:ce=="variable"&&ie(A,be)?"variable-2":H}}}var z={state:null,column:null,marked:null,cc:null};function V(){for(var A=arguments.length-1;A>=0;A--)z.cc.push(arguments[A])}function O(){return V.apply(null,arguments),!0}function X(A,H){for(var ce=H;ce;ce=ce.next)if(ce.name==A)return!0;return!1}function oe(A){var H=z.state;if(z.marked="def",!!p){if(H.context){if(H.lexical.info=="var"&&H.context&&H.context.block){var ce=I(A,H.context);if(ce!=null){H.context=ce;return}}else if(!X(A,H.localVars)){H.localVars=new Z(A,H.localVars);return}}i.globalVars&&!X(A,H.globalVars)&&(H.globalVars=new Z(A,H.globalVars))}}function I(A,H){if(H)if(H.block){var ce=I(A,H.prev);return ce?ce==H.prev?H:new K(ce,H.vars,!0):null}else return X(A,H.vars)?H:new K(H.prev,new Z(A,H.vars),!1);else return null}function j(A){return A=="public"||A=="private"||A=="protected"||A=="abstract"||A=="readonly"}function K(A,H,ce){this.prev=A,this.vars=H,this.block=ce}function Z(A,H){this.name=A,this.next=H}var xe=new Z("this",new Z("arguments",null));function ae(){z.state.context=new K(z.state.context,z.state.localVars,!1),z.state.localVars=xe}function pe(){z.state.context=new K(z.state.context,z.state.localVars,!0),z.state.localVars=null}ae.lex=pe.lex=!0;function we(){z.state.localVars=z.state.context.vars,z.state.context=z.state.context.prev}we.lex=!0;function se(A,H){var ce=function(){var be=z.state,te=be.indented;if(be.lexical.type=="stat")te=be.lexical.indented;else for(var Pe=be.lexical;Pe&&Pe.type==")"&&Pe.align;Pe=Pe.prev)te=Pe.indented;be.lexical=new Q(te,z.stream.column(),A,null,be.lexical,H)};return ce.lex=!0,ce}function ee(){var A=z.state;A.lexical.prev&&(A.lexical.type==")"&&(A.indented=A.lexical.indented),A.lexical=A.lexical.prev)}ee.lex=!0;function ue(A){function H(ce){return ce==A?O():A==";"||ce=="}"||ce==")"||ce=="]"?V():O(H)}return H}function he(A,H){return A=="var"?O(se("vardef",H),Ii,ue(";"),ee):A=="keyword a"?O(se("form"),$e,he,ee):A=="keyword b"?O(se("form"),he,ee):A=="keyword d"?z.stream.match(/^\s*$/,!1)?O():O(se("stat"),Rt,ue(";"),ee):A=="debugger"?O(ue(";")):A=="{"?O(se("}"),pe,Ie,ee,we):A==";"?O():A=="if"?(z.state.lexical.info=="else"&&z.state.cc[z.state.cc.length-1]==ee&&z.state.cc.pop()(),O(se("form"),$e,he,ee,hl)):A=="function"?O(Kr):A=="for"?O(se("form"),pe,xp,he,we,ee):A=="class"||h&&H=="interface"?(z.marked="keyword",O(se("form",A=="class"?A:H),ml,ee)):A=="variable"?h&&H=="declare"?(z.marked="keyword",O(he)):h&&(H=="module"||H=="enum"||H=="type")&&z.stream.match(/^\s*\w/,!1)?(z.marked="keyword",H=="enum"?O(Be):H=="type"?O(_p,ue("operator"),Ne,ue(";")):O(se("form"),vn,ue("{"),se("}"),Ie,ee,ee)):h&&H=="namespace"?(z.marked="keyword",O(se("form"),ge,he,ee)):h&&H=="abstract"?(z.marked="keyword",O(he)):O(se("stat"),Me):A=="switch"?O(se("form"),$e,ue("{"),se("}","switch"),pe,Ie,ee,ee,we):A=="case"?O(ge,ue(":")):A=="default"?O(ue(":")):A=="catch"?O(se("form"),ae,Ee,he,ee,we):A=="export"?O(se("stat"),gl,ee):A=="import"?O(se("stat"),io,ee):A=="async"?O(he):H=="@"?O(ge,he):V(se("stat"),ge,ue(";"),ee)}function Ee(A){if(A=="(")return O(pi,ue(")"))}function ge(A,H){return We(A,H,!1)}function Oe(A,H){return We(A,H,!0)}function $e(A){return A!="("?V():O(se(")"),Rt,ue(")"),ee)}function We(A,H,ce){if(z.state.fatArrowAt==z.stream.start){var be=ce?jt:je;if(A=="(")return O(ae,se(")"),Ce(pi,")"),ee,ue("=>"),be,we);if(A=="variable")return V(ae,vn,ue("=>"),be,we)}var te=ce?ht:st;return G.hasOwnProperty(A)?O(te):A=="function"?O(Kr,te):A=="class"||h&&H=="interface"?(z.marked="keyword",O(se("form"),ry,ee)):A=="keyword c"||A=="async"?O(ce?Oe:ge):A=="("?O(se(")"),Rt,ue(")"),ee,te):A=="operator"||A=="spread"?O(ce?Oe:ge):A=="["?O(se("]"),Xt,ee,te):A=="{"?Ue(me,"}",null,te):A=="quasi"?V(xt,te):A=="new"?O(Ge(ce)):O()}function Rt(A){return A.match(/[;\}\)\],]/)?V():V(ge)}function st(A,H){return A==","?O(Rt):ht(A,H,!1)}function ht(A,H,ce){var be=ce==!1?st:ht,te=ce==!1?ge:Oe;if(A=="=>")return O(ae,ce?jt:je,we);if(A=="operator")return/\+\+|--/.test(H)||h&&H=="!"?O(be):h&&H=="<"&&z.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?O(se(">"),Ce(Ne,">"),ee,be):H=="?"?O(ge,ue(":"),te):O(te);if(A=="quasi")return V(xt,be);if(A!=";"){if(A=="(")return Ue(Oe,")","call",be);if(A==".")return O(ve,be);if(A=="[")return O(se("]"),Rt,ue("]"),ee,be);if(h&&H=="as")return z.marked="keyword",O(Ne,be);if(A=="regexp")return z.state.lastType=z.marked="operator",z.stream.backUp(z.stream.pos-z.stream.start-1),O(te)}}function xt(A,H){return A!="quasi"?V():H.slice(H.length-2)!="${"?O(xt):O(Rt,At)}function At(A){if(A=="}")return z.marked="string-2",z.state.tokenize=F,O(xt)}function je(A){return U(z.stream,z.state),V(A=="{"?he:ge)}function jt(A){return U(z.stream,z.state),V(A=="{"?he:Oe)}function Ge(A){return function(H){return H=="."?O(A?kt:ot):H=="variable"&&h?O(En,A?ht:st):V(A?Oe:ge)}}function ot(A,H){if(H=="target")return z.marked="keyword",O(st)}function kt(A,H){if(H=="target")return z.marked="keyword",O(ht)}function Me(A){return A==":"?O(ee,he):V(st,ue(";"),ee)}function ve(A){if(A=="variable")return z.marked="property",O()}function me(A,H){if(A=="async")return z.marked="property",O(me);if(A=="variable"||z.style=="keyword"){if(z.marked="property",H=="get"||H=="set")return O(ye);var ce;return h&&z.state.fatArrowAt==z.stream.start&&(ce=z.stream.match(/^\s*:\s*/,!1))&&(z.state.fatArrowAt=z.stream.pos+ce[0].length),O(qe)}else{if(A=="number"||A=="string")return z.marked=c?"property":z.style+" property",O(qe);if(A=="jsonld-keyword")return O(qe);if(h&&j(H))return z.marked="keyword",O(me);if(A=="[")return O(ge,bt,ue("]"),qe);if(A=="spread")return O(Oe,qe);if(H=="*")return z.marked="keyword",O(me);if(A==":")return V(qe)}}function ye(A){return A!="variable"?V(qe):(z.marked="property",O(Kr))}function qe(A){if(A==":")return O(Oe);if(A=="(")return V(Kr)}function Ce(A,H,ce){function be(te,Pe){if(ce?ce.indexOf(te)>-1:te==","){var Tt=z.state.lexical;return Tt.info=="call"&&(Tt.pos=(Tt.pos||0)+1),O(function(kn,ar){return kn==H||ar==H?V():V(A)},be)}return te==H||Pe==H?O():ce&&ce.indexOf(";")>-1?V(A):O(ue(H))}return function(te,Pe){return te==H||Pe==H?O():V(A,be)}}function Ue(A,H,ce){for(var be=3;be<arguments.length;be++)z.cc.push(arguments[be]);return O(se(H,ce),Ce(A,H),ee)}function Ie(A){return A=="}"?O():V(he,Ie)}function bt(A,H){if(h){if(A==":")return O(Ne);if(H=="?")return O(bt)}}function ne(A,H){if(h&&(A==":"||H=="in"))return O(Ne)}function De(A){if(h&&A==":")return z.stream.match(/^\s*\w+\s+is\b/,!1)?O(ge,Ke,Ne):O(Ne)}function Ke(A,H){if(H=="is")return z.marked="keyword",O()}function Ne(A,H){if(H=="keyof"||H=="typeof"||H=="infer"||H=="readonly")return z.marked="keyword",O(H=="typeof"?Oe:Ne);if(A=="variable"||H=="void")return z.marked="type",O(Zn);if(H=="|"||H=="&")return O(Ne);if(A=="string"||A=="number"||A=="atom")return O(Zn);if(A=="[")return O(se("]"),Ce(Ne,"]",","),ee,Zn);if(A=="{")return O(se("}"),Le,ee,Zn);if(A=="(")return O(Ce(Dt,")"),ut,Zn);if(A=="<")return O(Ce(Ne,">"),Ne);if(A=="quasi")return V(Wt,Zn)}function ut(A){if(A=="=>")return O(Ne)}function Le(A){return A.match(/[\}\)\]]/)?O():A==","||A==";"?O(Le):V(rn,Le)}function rn(A,H){if(A=="variable"||z.style=="keyword")return z.marked="property",O(rn);if(H=="?"||A=="number"||A=="string")return O(rn);if(A==":")return O(Ne);if(A=="[")return O(ue("variable"),ne,ue("]"),rn);if(A=="(")return V(ro,rn);if(!A.match(/[;\}\)\],]/))return O()}function Wt(A,H){return A!="quasi"?V():H.slice(H.length-2)!="${"?O(Wt):O(Ne,Bt)}function Bt(A){if(A=="}")return z.marked="string-2",z.state.tokenize=F,O(Wt)}function Dt(A,H){return A=="variable"&&z.stream.match(/^\s*[?:]/,!1)||H=="?"?O(Dt):A==":"?O(Ne):A=="spread"?O(Dt):V(Ne)}function Zn(A,H){if(H=="<")return O(se(">"),Ce(Ne,">"),ee,Zn);if(H=="|"||A=="."||H=="&")return O(Ne);if(A=="[")return O(Ne,ue("]"),Zn);if(H=="extends"||H=="implements")return z.marked="keyword",O(Ne);if(H=="?")return O(Ne,ue(":"),Ne)}function En(A,H){if(H=="<")return O(se(">"),Ce(Ne,">"),ee,Zn)}function $n(){return V(Ne,Pn)}function Pn(A,H){if(H=="=")return O(Ne)}function Ii(A,H){return H=="enum"?(z.marked="keyword",O(Be)):V(vn,bt,fi,ny)}function vn(A,H){if(h&&j(H))return z.marked="keyword",O(vn);if(A=="variable")return oe(H),O();if(A=="spread")return O(vn);if(A=="[")return Ue(Iu,"]");if(A=="{")return Ue(to,"}")}function to(A,H){return A=="variable"&&!z.stream.match(/^\s*:/,!1)?(oe(H),O(fi)):(A=="variable"&&(z.marked="property"),A=="spread"?O(vn):A=="}"?V():A=="["?O(ge,ue("]"),ue(":"),to):O(ue(":"),vn,fi))}function Iu(){return V(vn,fi)}function fi(A,H){if(H=="=")return O(Oe)}function ny(A){if(A==",")return O(Ii)}function hl(A,H){if(A=="keyword b"&&H=="else")return O(se("form","else"),he,ee)}function xp(A,H){if(H=="await")return O(xp);if(A=="(")return O(se(")"),ju,ee)}function ju(A){return A=="var"?O(Ii,no):A=="variable"?O(no):V(no)}function no(A,H){return A==")"?O():A==";"?O(no):H=="in"||H=="of"?(z.marked="keyword",O(ge,no)):V(ge,no)}function Kr(A,H){if(H=="*")return z.marked="keyword",O(Kr);if(A=="variable")return oe(H),O(Kr);if(A=="(")return O(ae,se(")"),Ce(pi,")"),ee,De,he,we);if(h&&H=="<")return O(se(">"),Ce($n,">"),ee,Kr)}function ro(A,H){if(H=="*")return z.marked="keyword",O(ro);if(A=="variable")return oe(H),O(ro);if(A=="(")return O(ae,se(")"),Ce(pi,")"),ee,De,we);if(h&&H=="<")return O(se(">"),Ce($n,">"),ee,ro)}function _p(A,H){if(A=="keyword"||A=="variable")return z.marked="type",O(_p);if(H=="<")return O(se(">"),Ce($n,">"),ee)}function pi(A,H){return H=="@"&&O(ge,pi),A=="spread"?O(pi):h&&j(H)?(z.marked="keyword",O(pi)):h&&A=="this"?O(bt,fi):V(vn,bt,fi)}function ry(A,H){return A=="variable"?ml(A,H):hi(A,H)}function ml(A,H){if(A=="variable")return oe(H),O(hi)}function hi(A,H){if(H=="<")return O(se(">"),Ce($n,">"),ee,hi);if(H=="extends"||H=="implements"||h&&A==",")return H=="implements"&&(z.marked="keyword"),O(h?Ne:ge,hi);if(A=="{")return O(se("}"),mi,ee)}function mi(A,H){if(A=="async"||A=="variable"&&(H=="static"||H=="get"||H=="set"||h&&j(H))&&z.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return z.marked="keyword",O(mi);if(A=="variable"||z.style=="keyword")return z.marked="property",O(va,mi);if(A=="number"||A=="string")return O(va,mi);if(A=="[")return O(ge,bt,ue("]"),va,mi);if(H=="*")return z.marked="keyword",O(mi);if(h&&A=="(")return V(ro,mi);if(A==";"||A==",")return O(mi);if(A=="}")return O();if(H=="@")return O(ge,mi)}function va(A,H){if(H=="!"||H=="?")return O(va);if(A==":")return O(Ne,fi);if(H=="=")return O(Oe);var ce=z.state.lexical.prev,be=ce&&ce.info=="interface";return V(be?ro:Kr)}function gl(A,H){return H=="*"?(z.marked="keyword",O(wl,ue(";"))):H=="default"?(z.marked="keyword",O(ge,ue(";"))):A=="{"?O(Ce(vl,"}"),wl,ue(";")):V(he)}function vl(A,H){if(H=="as")return z.marked="keyword",O(ue("variable"));if(A=="variable")return V(Oe,vl)}function io(A){return A=="string"?O():A=="("?V(ge):A=="."?V(st):V(yl,ji,wl)}function yl(A,H){return A=="{"?Ue(yl,"}"):(A=="variable"&&oe(H),H=="*"&&(z.marked="keyword"),O(Fu))}function ji(A){if(A==",")return O(yl,ji)}function Fu(A,H){if(H=="as")return z.marked="keyword",O(yl)}function wl(A,H){if(H=="from")return z.marked="keyword",O(ge)}function Xt(A){return A=="]"?O():V(Ce(Oe,"]"))}function Be(){return V(se("form"),vn,ue("{"),se("}"),Ce(gs,"}"),ee,ee)}function gs(){return V(vn,fi)}function Bu(A,H){return A.lastType=="operator"||A.lastType==","||w.test(H.charAt(0))||/[,.]/.test(H.charAt(0))}function Lr(A,H,ce){return H.tokenize==k&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(H.lastType)||H.lastType=="quasi"&&/\{\s*$/.test(A.string.slice(0,A.pos-(ce||0)))}return{startState:function(A){var H={tokenize:k,lastType:"sof",cc:[],lexical:new Q((A||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new K(null,null,!1),indented:A||0};return i.globalVars&&typeof i.globalVars=="object"&&(H.globalVars=i.globalVars),H},token:function(A,H){if(A.sol()&&(H.lexical.hasOwnProperty("align")||(H.lexical.align=!1),H.indented=A.indentation(),U(A,H)),H.tokenize!=N&&A.eatSpace())return null;var ce=H.tokenize(A,H);return P=="comment"?ce:(H.lastType=P=="operator"&&(R=="++"||R=="--")?"incdec":P,Y(H,ce,P,R,A))},indent:function(A,H){if(A.tokenize==N||A.tokenize==F)return n.Pass;if(A.tokenize!=k)return 0;var ce=H&&H.charAt(0),be=A.lexical,te;if(!/^\s*else\b/.test(H))for(var Pe=A.cc.length-1;Pe>=0;--Pe){var Tt=A.cc[Pe];if(Tt==ee)be=be.prev;else if(Tt!=hl&&Tt!=we)break}for(;(be.type=="stat"||be.type=="form")&&(ce=="}"||(te=A.cc[A.cc.length-1])&&(te==st||te==ht)&&!/^[,\.=+\-*:?[\(]/.test(H));)be=be.prev;a&&be.type==")"&&be.prev.type=="stat"&&(be=be.prev);var kn=be.type,ar=ce==kn;return kn=="vardef"?be.indented+(A.lastType=="operator"||A.lastType==","?be.info.length+1:0):kn=="form"&&ce=="{"?be.indented:kn=="form"?be.indented+o:kn=="stat"?be.indented+(Bu(A,H)?a||o:0):be.info=="switch"&&!ar&&i.doubleIndentSwitch!=!1?be.indented+(/^(?:case|default)\b/.test(H)?o:2*o):be.align?be.column+(ar?0:1):be.indented+(ar?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:c,jsonMode:u,expressionAllowed:Lr,skipExpression:function(A){Y(A,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();(function(e,t){(function(n){n(al())})(function(n){function r(I,j,K,Z,xe,ae){this.indented=I,this.column=j,this.type=K,this.info=Z,this.align=xe,this.prev=ae}function i(I,j,K,Z){var xe=I.indented;return I.context&&I.context.type=="statement"&&K!="statement"&&(xe=I.context.indented),I.context=new r(xe,j,K,Z,null,I.context)}function o(I){var j=I.context.type;return(j==")"||j=="]"||j=="}")&&(I.indented=I.context.indented),I.context=I.context.prev}function a(I,j,K){if(j.prevToken=="variable"||j.prevToken=="type"||/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(I.string.slice(0,K))||j.typeAtEndOfLine&&I.column()==I.indentation())return!0}function c(I){for(;;){if(!I||I.type=="top")return!0;if(I.type=="}"&&I.prev.info!="namespace")return!1;I=I.prev}}n.defineMode("clike",function(I,j){var K=I.indentUnit,Z=j.statementIndentUnit||K,xe=j.dontAlignCalls,ae=j.keywords||{},pe=j.types||{},we=j.builtin||{},se=j.blockKeywords||{},ee=j.defKeywords||{},ue=j.atoms||{},he=j.hooks||{},Ee=j.multiLineStrings,ge=j.indentStatements!==!1,Oe=j.indentSwitch!==!1,$e=j.namespaceSeparator,We=j.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,Rt=j.numberStart||/[\d\.]/,st=j.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,ht=j.isOperatorChar||/[+\-*&%=<>!?|\/]/,xt=j.isIdentifierChar||/[\w\$_\xa1-\uffff]/,At=j.isReservedIdentifier||!1,je,jt;function Ge(ve,me){var ye=ve.next();if(he[ye]){var qe=he[ye](ve,me);if(qe!==!1)return qe}if(ye=='"'||ye=="'")return me.tokenize=ot(ye),me.tokenize(ve,me);if(Rt.test(ye)){if(ve.backUp(1),ve.match(st))return"number";ve.next()}if(We.test(ye))return je=ye,null;if(ye=="/"){if(ve.eat("*"))return me.tokenize=kt,kt(ve,me);if(ve.eat("/"))return ve.skipToEnd(),"comment"}if(ht.test(ye)){for(;!ve.match(/^\/[\/*]/,!1)&&ve.eat(ht););return"operator"}if(ve.eatWhile(xt),$e)for(;ve.match($e);)ve.eatWhile(xt);var Ce=ve.current();return p(ae,Ce)?(p(se,Ce)&&(je="newstatement"),p(ee,Ce)&&(jt=!0),"keyword"):p(pe,Ce)?"type":p(we,Ce)||At&&At(Ce)?(p(se,Ce)&&(je="newstatement"),"builtin"):p(ue,Ce)?"atom":"variable"}function ot(ve){return function(me,ye){for(var qe=!1,Ce,Ue=!1;(Ce=me.next())!=null;){if(Ce==ve&&!qe){Ue=!0;break}qe=!qe&&Ce=="\\"}return(Ue||!(qe||Ee))&&(ye.tokenize=null),"string"}}function kt(ve,me){for(var ye=!1,qe;qe=ve.next();){if(qe=="/"&&ye){me.tokenize=null;break}ye=qe=="*"}return"comment"}function Me(ve,me){j.typeFirstDefinitions&&ve.eol()&&c(me.context)&&(me.typeAtEndOfLine=a(ve,me,ve.pos))}return{startState:function(ve){return{tokenize:null,context:new r((ve||0)-K,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(ve,me){var ye=me.context;if(ve.sol()&&(ye.align==null&&(ye.align=!1),me.indented=ve.indentation(),me.startOfLine=!0),ve.eatSpace())return Me(ve,me),null;je=jt=null;var qe=(me.tokenize||Ge)(ve,me);if(qe=="comment"||qe=="meta")return qe;if(ye.align==null&&(ye.align=!0),je==";"||je==":"||je==","&&ve.match(/^\s*(?:\/\/.*)?$/,!1))for(;me.context.type=="statement";)o(me);else if(je=="{")i(me,ve.column(),"}");else if(je=="[")i(me,ve.column(),"]");else if(je=="(")i(me,ve.column(),")");else if(je=="}"){for(;ye.type=="statement";)ye=o(me);for(ye.type=="}"&&(ye=o(me));ye.type=="statement";)ye=o(me)}else je==ye.type?o(me):ge&&((ye.type=="}"||ye.type=="top")&&je!=";"||ye.type=="statement"&&je=="newstatement")&&i(me,ve.column(),"statement",ve.current());if(qe=="variable"&&(me.prevToken=="def"||j.typeFirstDefinitions&&a(ve,me,ve.start)&&c(me.context)&&ve.match(/^\s*\(/,!1))&&(qe="def"),he.token){var Ce=he.token(ve,me,qe);Ce!==void 0&&(qe=Ce)}return qe=="def"&&j.styleDefs===!1&&(qe="variable"),me.startOfLine=!1,me.prevToken=jt?"def":qe||je,Me(ve,me),qe},indent:function(ve,me){if(ve.tokenize!=Ge&&ve.tokenize!=null||ve.typeAtEndOfLine&&c(ve.context))return n.Pass;var ye=ve.context,qe=me&&me.charAt(0),Ce=qe==ye.type;if(ye.type=="statement"&&qe=="}"&&(ye=ye.prev),j.dontIndentStatements)for(;ye.type=="statement"&&j.dontIndentStatements.test(ye.info);)ye=ye.prev;if(he.indent){var Ue=he.indent(ve,ye,me,K);if(typeof Ue=="number")return Ue}var Ie=ye.prev&&ye.prev.info=="switch";if(j.allmanIndentation&&/[{(]/.test(qe)){for(;ye.type!="top"&&ye.type!="}";)ye=ye.prev;return ye.indented}return ye.type=="statement"?ye.indented+(qe=="{"?0:Z):ye.align&&(!xe||ye.type!=")")?ye.column+(Ce?0:1):ye.type==")"&&!Ce?ye.indented+Z:ye.indented+(Ce?0:K)+(!Ce&&Ie&&!/^(?:case|default)\b/.test(me)?K:0)},electricInput:Oe?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:"//",fold:"brace"}});function u(I){for(var j={},K=I.split(" "),Z=0;Z<K.length;++Z)j[K[Z]]=!0;return j}function p(I,j){return typeof I=="function"?I(j):I.propertyIsEnumerable(j)}var h="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran",g="alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq",v="bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available",w="FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION  NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT",S=u("int long char short double float unsigned signed void bool"),b=u("SEL instancetype id Class Protocol BOOL");function P(I){return p(S,I)||/.+_t$/.test(I)}function R(I){return P(I)||p(b,I)}var _="case do else for if switch while struct enum union",k="struct enum union";function E(I,j){if(!j.startOfLine)return!1;for(var K,Z=null;K=I.peek();){if(K=="\\"&&I.match(/^.$/)){Z=E;break}else if(K=="/"&&I.match(/^\/[\/\*]/,!1))break;I.next()}return j.tokenize=Z,"meta"}function N(I,j){return j.prevToken=="type"?"type":!1}function F(I){return!I||I.length<2||I[0]!="_"?!1:I[1]=="_"||I[1]!==I[1].toLowerCase()}function B(I){return I.eatWhile(/[\w\.']/),"number"}function U(I,j){if(I.backUp(1),I.match(/^(?:R|u8R|uR|UR|LR)/)){var K=I.match(/^"([^\s\\()]{0,16})\(/);return K?(j.cpp11RawStringDelim=K[1],j.tokenize=ie,ie(I,j)):!1}return I.match(/^(?:u8|u|U|L)/)?I.match(/^["']/,!1)?"string":!1:(I.next(),!1)}function G(I){var j=/(\w+)::~?(\w+)$/.exec(I);return j&&j[1]==j[2]}function Q(I,j){for(var K;(K=I.next())!=null;)if(K=='"'&&!I.eat('"')){j.tokenize=null;break}return"string"}function ie(I,j){var K=j.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),Z=I.match(new RegExp(".*?\\)"+K+'"'));return Z?j.tokenize=null:I.skipToEnd(),"string"}function Y(I,j){typeof I=="string"&&(I=[I]);var K=[];function Z(ae){if(ae)for(var pe in ae)ae.hasOwnProperty(pe)&&K.push(pe)}Z(j.keywords),Z(j.types),Z(j.builtin),Z(j.atoms),K.length&&(j.helperType=I[0],n.registerHelper("hintWords",I[0],K));for(var xe=0;xe<I.length;++xe)n.defineMIME(I[xe],j)}Y(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:u(h),types:P,blockKeywords:u(_),defKeywords:u(k),typeFirstDefinitions:!0,atoms:u("NULL true false"),isReservedIdentifier:F,hooks:{"#":E,"*":N},modeProps:{fold:["brace","include"]}}),Y(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:u(h+" "+g),types:P,blockKeywords:u(_+" class try catch"),defKeywords:u(k+" class namespace"),typeFirstDefinitions:!0,atoms:u("true false NULL nullptr"),dontIndentStatements:/^template$/,isIdentifierChar:/[\w\$_~\xa1-\uffff]/,isReservedIdentifier:F,hooks:{"#":E,"*":N,u:U,U,L:U,R:U,0:B,1:B,2:B,3:B,4:B,5:B,6:B,7:B,8:B,9:B,token:function(I,j,K){if(K=="variable"&&I.peek()=="("&&(j.prevToken==";"||j.prevToken==null||j.prevToken=="}")&&G(I.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),Y("text/x-java",{name:"clike",keywords:u("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),types:u("var byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:u("catch class do else finally for if switch try while"),defKeywords:u("class interface enum @interface"),typeFirstDefinitions:!0,atoms:u("true false null"),number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(I){return I.match("interface",!1)?!1:(I.eatWhile(/[\w\$_]/),"meta")},'"':function(I,j){return I.match(/""$/)?(j.tokenize=z,j.tokenize(I,j)):!1}},modeProps:{fold:["brace","import"]}}),Y("text/x-csharp",{name:"clike",keywords:u("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in init interface internal is lock namespace new operator out override params private protected public readonly record ref required return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:u("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:u("catch class do else finally for foreach if struct switch try while"),defKeywords:u("class interface namespace record struct var"),typeFirstDefinitions:!0,atoms:u("true false null"),hooks:{"@":function(I,j){return I.eat('"')?(j.tokenize=Q,Q(I,j)):(I.eatWhile(/[\w\$_]/),"meta")}}});function z(I,j){for(var K=!1;!I.eol();){if(!K&&I.match('"""')){j.tokenize=null;break}K=I.next()=="\\"&&!K}return"string"}function V(I){return function(j,K){for(var Z;Z=j.next();)if(Z=="*"&&j.eat("/"))if(I==1){K.tokenize=null;break}else return K.tokenize=V(I-1),K.tokenize(j,K);else if(Z=="/"&&j.eat("*"))return K.tokenize=V(I+1),K.tokenize(j,K);return"comment"}}Y("text/x-scala",{name:"clike",keywords:u("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"),types:u("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:u("catch class enum do else finally for forSome if match switch try while"),defKeywords:u("class enum def object package trait type val var"),atoms:u("true false null"),indentStatements:!1,indentSwitch:!1,isOperatorChar:/[+\-*&%=<>!?|\/#:@]/,hooks:{"@":function(I){return I.eatWhile(/[\w\$_]/),"meta"},'"':function(I,j){return I.match('""')?(j.tokenize=z,j.tokenize(I,j)):!1},"'":function(I){return I.match(/^(\\[^'\s]+|[^\\'])'/)?"string-2":(I.eatWhile(/[\w\$_\xa1-\uffff]/),"atom")},"=":function(I,j){var K=j.context;return K.type=="}"&&K.align&&I.eat(">")?(j.context=new r(K.indented,K.column,K.type,K.info,null,K.prev),"operator"):!1},"/":function(I,j){return I.eat("*")?(j.tokenize=V(1),j.tokenize(I,j)):!1}},modeProps:{closeBrackets:{pairs:'()[]{}""',triples:'"'}}});function O(I){return function(j,K){for(var Z=!1,xe,ae=!1;!j.eol();){if(!I&&!Z&&j.match('"')){ae=!0;break}if(I&&j.match('"""')){ae=!0;break}xe=j.next(),!Z&&xe=="$"&&j.match("{")&&j.skipTo("}"),Z=!Z&&xe=="\\"&&!I}return(ae||!I)&&(K.tokenize=null),"string"}}Y("text/x-kotlin",{name:"clike",keywords:u("package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam value"),types:u("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,blockKeywords:u("catch class do else finally for if where try while enum"),defKeywords:u("class val var object interface fun"),atoms:u("true false null this"),hooks:{"@":function(I){return I.eatWhile(/[\w\$_]/),"meta"},"*":function(I,j){return j.prevToken=="."?"variable":"operator"},'"':function(I,j){return j.tokenize=O(I.match('""')),j.tokenize(I,j)},"/":function(I,j){return I.eat("*")?(j.tokenize=V(1),j.tokenize(I,j)):!1},indent:function(I,j,K,Z){var xe=K&&K.charAt(0);if((I.prevToken=="}"||I.prevToken==")")&&K=="")return I.indented;if(I.prevToken=="operator"&&K!="}"&&I.context.type!="}"||I.prevToken=="variable"&&xe=="."||(I.prevToken=="}"||I.prevToken==")")&&xe==".")return Z*2+j.indented;if(j.align&&j.type=="}")return j.indented+(I.context.type==(K||"").charAt(0)?0:Z)}},modeProps:{closeBrackets:{triples:'"'}}}),Y(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:u("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:u("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:u("for while do if else struct"),builtin:u("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:u("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":E},modeProps:{fold:["brace","include"]}}),Y("text/x-nesc",{name:"clike",keywords:u(h+" as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:P,blockKeywords:u(_),atoms:u("null true false"),hooks:{"#":E},modeProps:{fold:["brace","include"]}}),Y("text/x-objectivec",{name:"clike",keywords:u(h+" "+v),types:R,builtin:u(w),blockKeywords:u(_+" @synthesize @try @catch @finally @autoreleasepool @synchronized"),defKeywords:u(k+" @interface @implementation @protocol @class"),dontIndentStatements:/^@.*$/,typeFirstDefinitions:!0,atoms:u("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:F,hooks:{"#":E,"*":N},modeProps:{fold:["brace","include"]}}),Y("text/x-objectivec++",{name:"clike",keywords:u(h+" "+v+" "+g),types:R,builtin:u(w),blockKeywords:u(_+" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),defKeywords:u(k+" @interface @implementation @protocol @class class namespace"),dontIndentStatements:/^@.*$|^template$/,typeFirstDefinitions:!0,atoms:u("YES NO NULL Nil nil true false nullptr"),isReservedIdentifier:F,hooks:{"#":E,"*":N,u:U,U,L:U,R:U,0:B,1:B,2:B,3:B,4:B,5:B,6:B,7:B,8:B,9:B,token:function(I,j,K){if(K=="variable"&&I.peek()=="("&&(j.prevToken==";"||j.prevToken==null||j.prevToken=="}")&&G(I.current()))return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),Y("text/x-squirrel",{name:"clike",keywords:u("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:P,blockKeywords:u("case catch class else for foreach if switch try while"),defKeywords:u("function local class"),typeFirstDefinitions:!0,atoms:u("true false null"),hooks:{"#":E},modeProps:{fold:["brace","include"]}});var X=null;function oe(I){return function(j,K){for(var Z=!1,xe,ae=!1;!j.eol();){if(!Z&&j.match('"')&&(I=="single"||j.match('""'))){ae=!0;break}if(!Z&&j.match("``")){X=oe(I),ae=!0;break}xe=j.next(),Z=I=="single"&&!Z&&xe=="\\"}return ae&&(K.tokenize=null),"string"}}Y("text/x-ceylon",{name:"clike",keywords:u("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(I){var j=I.charAt(0);return j===j.toUpperCase()&&j!==j.toLowerCase()},blockKeywords:u("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:u("class dynamic function interface module object package value"),builtin:u("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:u("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(I){return I.eatWhile(/[\w\$_]/),"meta"},'"':function(I,j){return j.tokenize=oe(I.match('""')?"triple":"single"),j.tokenize(I,j)},"`":function(I,j){return!X||!I.match("`")?!1:(j.tokenize=X,X=null,j.tokenize(I,j))},"'":function(I){return I.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(I,j,K){if((K=="variable"||K=="type")&&j.prevToken==".")return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})})})();var tE={exports:{}},nE;function oz(){return nE||(nE=1,function(e,t){(function(n){n(al())})(function(n){var r=n.Pos;function i(_,k){return _.line-k.line||_.ch-k.ch}var o="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",a=o+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",c=new RegExp("<(/?)(["+o+"]["+a+"]*)","g");function u(_,k,E,N){this.line=k,this.ch=E,this.cm=_,this.text=_.getLine(k),this.min=N?Math.max(N.from,_.firstLine()):_.firstLine(),this.max=N?Math.min(N.to-1,_.lastLine()):_.lastLine()}function p(_,k){var E=_.cm.getTokenTypeAt(r(_.line,k));return E&&/\btag\b/.test(E)}function h(_){if(!(_.line>=_.max))return _.ch=0,_.text=_.cm.getLine(++_.line),!0}function g(_){if(!(_.line<=_.min))return _.text=_.cm.getLine(--_.line),_.ch=_.text.length,!0}function v(_){for(;;){var k=_.text.indexOf(">",_.ch);if(k==-1){if(h(_))continue;return}if(!p(_,k+1)){_.ch=k+1;continue}var E=_.text.lastIndexOf("/",k),N=E>-1&&!/\S/.test(_.text.slice(E+1,k));return _.ch=k+1,N?"selfClose":"regular"}}function w(_){for(;;){var k=_.ch?_.text.lastIndexOf("<",_.ch-1):-1;if(k==-1){if(g(_))continue;return}if(!p(_,k+1)){_.ch=k;continue}c.lastIndex=k,_.ch=k;var E=c.exec(_.text);if(E&&E.index==k)return E}}function S(_){for(;;){c.lastIndex=_.ch;var k=c.exec(_.text);if(!k){if(h(_))continue;return}if(!p(_,k.index+1)){_.ch=k.index+1;continue}return _.ch=k.index+k[0].length,k}}function b(_){for(;;){var k=_.ch?_.text.lastIndexOf(">",_.ch-1):-1;if(k==-1){if(g(_))continue;return}if(!p(_,k+1)){_.ch=k;continue}var E=_.text.lastIndexOf("/",k),N=E>-1&&!/\S/.test(_.text.slice(E+1,k));return _.ch=k+1,N?"selfClose":"regular"}}function P(_,k){for(var E=[];;){var N=S(_),F,B=_.line,U=_.ch-(N?N[0].length:0);if(!N||!(F=v(_)))return;if(F!="selfClose")if(N[1]){for(var G=E.length-1;G>=0;--G)if(E[G]==N[2]){E.length=G;break}if(G<0&&(!k||k==N[2]))return{tag:N[2],from:r(B,U),to:r(_.line,_.ch)}}else E.push(N[2])}}function R(_,k){for(var E=[];;){var N=b(_);if(!N)return;if(N=="selfClose"){w(_);continue}var F=_.line,B=_.ch,U=w(_);if(!U)return;if(U[1])E.push(U[2]);else{for(var G=E.length-1;G>=0;--G)if(E[G]==U[2]){E.length=G;break}if(G<0&&(!k||k==U[2]))return{tag:U[2],from:r(_.line,_.ch),to:r(F,B)}}}}n.registerHelper("fold","xml",function(_,k){for(var E=new u(_,k.line,0);;){var N=S(E);if(!N||E.line!=k.line)return;var F=v(E);if(!F)return;if(!N[1]&&F!="selfClose"){var B=r(E.line,E.ch),U=P(E,N[2]);return U&&i(U.from,B)>0?{from:B,to:U.from}:null}}}),n.findMatchingTag=function(_,k,E){var N=new u(_,k.line,k.ch,E);if(!(N.text.indexOf(">")==-1&&N.text.indexOf("<")==-1)){var F=v(N),B=F&&r(N.line,N.ch),U=F&&w(N);if(!(!F||!U||i(N,k)>0)){var G={from:r(N.line,N.ch),to:B,tag:U[2]};return F=="selfClose"?{open:G,close:null,at:"open"}:U[1]?{open:R(N,U[2]),close:G,at:"close"}:(N=new u(_,B.line,B.ch,E),{open:G,close:P(N,U[2]),at:"open"})}}},n.findEnclosingTag=function(_,k,E,N){for(var F=new u(_,k.line,k.ch,E);;){var B=R(F,N);if(!B)break;var U=new u(_,k.line,k.ch,E),G=P(U,B.tag);if(G)return{open:B,close:G}}},n.scanForClosingTag=function(_,k,E,N){var F=new u(_,k.line,k.ch,N?{from:0,to:N}:null);return P(F,E)}})}()),tE.exports}(function(e,t){(function(n){n(al(),oz())})(function(n){n.defineOption("autoCloseTags",!1,function(h,g,v){if(v!=n.Init&&v&&h.removeKeyMap("autoCloseTags"),!!g){var w={name:"autoCloseTags"};(typeof g!="object"||g.whenClosing!==!1)&&(w["'/'"]=function(S){return c(S)}),(typeof g!="object"||g.whenOpening!==!1)&&(w["'>'"]=function(S){return o(S)}),h.addKeyMap(w)}});var r=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],i=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];function o(h){if(h.getOption("disableInput"))return n.Pass;for(var g=h.listSelections(),v=[],w=h.getOption("autoCloseTags"),S=0;S<g.length;S++){if(!g[S].empty())return n.Pass;var b=g[S].head,P=h.getTokenAt(b),R=n.innerMode(h.getMode(),P.state),_=R.state,k=R.mode.xmlCurrentTag&&R.mode.xmlCurrentTag(_),E=k&&k.name;if(!E)return n.Pass;var N=R.mode.configuration=="html",F=typeof w=="object"&&w.dontCloseTags||N&&r,B=typeof w=="object"&&w.indentTags||N&&i;P.end>b.ch&&(E=E.slice(0,E.length-P.end+b.ch));var U=E.toLowerCase();if(!E||P.type=="string"&&(P.end!=b.ch||!/[\"\']/.test(P.string.charAt(P.string.length-1))||P.string.length==1)||P.type=="tag"&&k.close||P.string.indexOf("/")==b.ch-P.start-1||F&&u(F,U)>-1||p(h,R.mode.xmlCurrentContext&&R.mode.xmlCurrentContext(_)||[],E,b,!0))return n.Pass;var G=typeof w=="object"&&w.emptyTags;if(G&&u(G,E)>-1){v[S]={text:"/>",newPos:n.Pos(b.line,b.ch+2)};continue}var Q=B&&u(B,U)>-1;v[S]={indent:Q,text:">"+(Q?`

`:"")+"</"+E+">",newPos:Q?n.Pos(b.line+1,0):n.Pos(b.line,b.ch+1)}}for(var ie=typeof w=="object"&&w.dontIndentOnAutoClose,S=g.length-1;S>=0;S--){var Y=v[S];h.replaceRange(Y.text,g[S].head,g[S].anchor,"+insert");var z=h.listSelections().slice(0);z[S]={head:Y.newPos,anchor:Y.newPos},h.setSelections(z),!ie&&Y.indent&&(h.indentLine(Y.newPos.line,null,!0),h.indentLine(Y.newPos.line+1,null,!0))}}function a(h,g){for(var v=h.listSelections(),w=[],S=g?"/":"</",b=h.getOption("autoCloseTags"),P=typeof b=="object"&&b.dontIndentOnSlash,R=0;R<v.length;R++){if(!v[R].empty())return n.Pass;var _=v[R].head,k=h.getTokenAt(_),E=n.innerMode(h.getMode(),k.state),N=E.state;if(g&&(k.type=="string"||k.string.charAt(0)!="<"||k.start!=_.ch-1))return n.Pass;var F,B=E.mode.name!="xml"&&h.getMode().name=="htmlmixed";if(B&&E.mode.name=="javascript")F=S+"script";else if(B&&E.mode.name=="css")F=S+"style";else{var U=E.mode.xmlCurrentContext&&E.mode.xmlCurrentContext(N),G=U.length?U[U.length-1]:"";if(!U||U.length&&p(h,U,G,_))return n.Pass;F=S+G}h.getLine(_.line).charAt(k.end)!=">"&&(F+=">"),w[R]=F}if(h.replaceSelections(w),v=h.listSelections(),!P)for(var R=0;R<v.length;R++)(R==v.length-1||v[R].head.line<v[R+1].head.line)&&h.indentLine(v[R].head.line)}function c(h){return h.getOption("disableInput")?n.Pass:a(h,!0)}n.commands.closeTag=function(h){return a(h)};function u(h,g){if(h.indexOf)return h.indexOf(g);for(var v=0,w=h.length;v<w;++v)if(h[v]==g)return v;return-1}function p(h,g,v,w,S){if(!n.scanForClosingTag)return!1;var b=Math.min(h.lastLine()+1,w.line+500),P=n.scanForClosingTag(h,w,null,b);if(!P||P.tag!=v)return!1;for(var R=S?1:0,_=g.length-1;_>=0&&g[_]==v;_--)++R;w=P.to;for(var _=1;_<R;_++){var k=n.scanForClosingTag(h,w,null,b);if(!k||k.tag!=v)return!1;w=k.to}return!0}})})();(function(e,t){(function(n){n(al())})(function(n){var r={pairs:`()[]{}''""`,closeBefore:`)]}'":;>`,triples:"",explode:"[]{}"},i=n.Pos;n.defineOption("autoCloseBrackets",!1,function(R,_,k){k&&k!=n.Init&&(R.removeKeyMap(a),R.state.closeBrackets=null),_&&(c(o(_,"pairs")),R.state.closeBrackets=_,R.addKeyMap(a))});function o(R,_){return _=="pairs"&&typeof R=="string"?R:typeof R=="object"&&R[_]!=null?R[_]:r[_]}var a={Backspace:h,Enter:g};function c(R){for(var _=0;_<R.length;_++){var k=R.charAt(_),E="'"+k+"'";a[E]||(a[E]=u(k))}}c(r.pairs+"`");function u(R){return function(_){return S(_,R)}}function p(R){var _=R.state.closeBrackets;if(!_||_.override)return _;var k=R.getModeAt(R.getCursor());return k.closeBrackets||_}function h(R){var _=p(R);if(!_||R.getOption("disableInput"))return n.Pass;for(var k=o(_,"pairs"),E=R.listSelections(),N=0;N<E.length;N++){if(!E[N].empty())return n.Pass;var F=b(R,E[N].head);if(!F||k.indexOf(F)%2!=0)return n.Pass}for(var N=E.length-1;N>=0;N--){var B=E[N].head;R.replaceRange("",i(B.line,B.ch-1),i(B.line,B.ch+1),"+delete")}}function g(R){var _=p(R),k=_&&o(_,"explode");if(!k||R.getOption("disableInput"))return n.Pass;for(var E=R.listSelections(),N=0;N<E.length;N++){if(!E[N].empty())return n.Pass;var F=b(R,E[N].head);if(!F||k.indexOf(F)%2!=0)return n.Pass}R.operation(function(){var B=R.lineSeparator()||`
`;R.replaceSelection(B+B,null),v(R,-1),E=R.listSelections();for(var U=0;U<E.length;U++){var G=E[U].head.line;R.indentLine(G,null,!0),R.indentLine(G+1,null,!0)}})}function v(R,_){for(var k=[],E=R.listSelections(),N=0,F=0;F<E.length;F++){var B=E[F];B.head==R.getCursor()&&(N=F);var U=B.head.ch||_>0?{line:B.head.line,ch:B.head.ch+_}:{line:B.head.line-1};k.push({anchor:U,head:U})}R.setSelections(k,N)}function w(R){var _=n.cmpPos(R.anchor,R.head)>0;return{anchor:new i(R.anchor.line,R.anchor.ch+(_?-1:1)),head:new i(R.head.line,R.head.ch+(_?1:-1))}}function S(R,_){var k=p(R);if(!k||R.getOption("disableInput"))return n.Pass;var E=o(k,"pairs"),N=E.indexOf(_);if(N==-1)return n.Pass;for(var F=o(k,"closeBefore"),B=o(k,"triples"),U=E.charAt(N+1)==_,G=R.listSelections(),Q=N%2==0,ie,Y=0;Y<G.length;Y++){var z=G[Y],V=z.head,O,X=R.getRange(V,i(V.line,V.ch+1));if(Q&&!z.empty())O="surround";else if((U||!Q)&&X==_)U&&P(R,V)?O="both":B.indexOf(_)>=0&&R.getRange(V,i(V.line,V.ch+3))==_+_+_?O="skipThree":O="skip";else if(U&&V.ch>1&&B.indexOf(_)>=0&&R.getRange(i(V.line,V.ch-2),V)==_+_){if(V.ch>2&&/\bstring/.test(R.getTokenTypeAt(i(V.line,V.ch-2))))return n.Pass;O="addFour"}else if(U){var oe=V.ch==0?" ":R.getRange(i(V.line,V.ch-1),V);if(!n.isWordChar(X)&&oe!=_&&!n.isWordChar(oe))O="both";else return n.Pass}else if(Q&&(X.length===0||/\s/.test(X)||F.indexOf(X)>-1))O="both";else return n.Pass;if(!ie)ie=O;else if(ie!=O)return n.Pass}var I=N%2?E.charAt(N-1):_,j=N%2?_:E.charAt(N+1);R.operation(function(){if(ie=="skip")v(R,1);else if(ie=="skipThree")v(R,3);else if(ie=="surround"){for(var K=R.getSelections(),Z=0;Z<K.length;Z++)K[Z]=I+K[Z]+j;R.replaceSelections(K,"around"),K=R.listSelections().slice();for(var Z=0;Z<K.length;Z++)K[Z]=w(K[Z]);R.setSelections(K)}else ie=="both"?(R.replaceSelection(I+j,null),R.triggerElectric(I+j),v(R,-1)):ie=="addFour"&&(R.replaceSelection(I+I+I+I,"before"),v(R,1))})}function b(R,_){var k=R.getRange(i(_.line,_.ch-1),i(_.line,_.ch+1));return k.length==2?k:null}function P(R,_){var k=R.getTokenAt(i(_.line,_.ch+1));return/\bstring/.test(k.type)&&k.start==_.ch&&(_.ch==0||!/\bstring/.test(R.getTokenTypeAt(_)))}})})();(function(e,t){(function(n){n(al())})(function(n){n.defineOption("autoRefresh",!1,function(o,a){o.state.autoRefresh&&(i(o,o.state.autoRefresh),o.state.autoRefresh=null),a&&o.display.wrapper.offsetHeight==0&&r(o,o.state.autoRefresh={delay:a.delay||250})});function r(o,a){function c(){o.display.wrapper.offsetHeight?(i(o,a),o.display.lastWrapHeight!=o.display.wrapper.clientHeight&&o.refresh()):a.timeout=setTimeout(c,a.delay)}a.timeout=setTimeout(c,a.delay),a.hurry=function(){clearTimeout(a.timeout),a.timeout=setTimeout(c,50)},n.on(window,"mouseup",a.hurry),n.on(window,"keyup",a.hurry)}function i(o,a){clearTimeout(a.timeout),n.off(window,"mouseup",a.hurry),n.off(window,"keyup",a.hurry)}})})();const as=Object.create(null);as.open="0";as.close="1";as.ping="2";as.pong="3";as.message="4";as.upgrade="5";as.noop="6";const dm=Object.create(null);Object.keys(as).forEach(e=>{dm[as[e]]=e});const Sb={type:"error",data:"parser error"},dO=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",fO=typeof ArrayBuffer=="function",pO=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,kx=({type:e,data:t},n,r)=>dO&&t instanceof Blob?n?r(t):rE(t,r):fO&&(t instanceof ArrayBuffer||pO(t))?n?r(t):rE(new Blob([t]),r):r(as[e]+(t||"")),rE=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function iE(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Rw;function az(e,t){if(dO&&e.data instanceof Blob)return e.data.arrayBuffer().then(iE).then(t);if(fO&&(e.data instanceof ArrayBuffer||pO(e.data)))return t(iE(e.data));kx(e,!1,n=>{Rw||(Rw=new TextEncoder),t(Rw.encode(n))})}const sE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<sE.length;e++)jd[sE.charCodeAt(e)]=e;const lz=e=>{let t=e.length*.75,n=e.length,r,i=0,o,a,c,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const p=new ArrayBuffer(t),h=new Uint8Array(p);for(r=0;r<n;r+=4)o=jd[e.charCodeAt(r)],a=jd[e.charCodeAt(r+1)],c=jd[e.charCodeAt(r+2)],u=jd[e.charCodeAt(r+3)],h[i++]=o<<2|a>>4,h[i++]=(a&15)<<4|c>>2,h[i++]=(c&3)<<6|u&63;return p},cz=typeof ArrayBuffer=="function",Dx=(e,t)=>{if(typeof e!="string")return{type:"message",data:hO(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:uz(e.substring(1),t)}:dm[n]?e.length>1?{type:dm[n],data:e.substring(1)}:{type:dm[n]}:Sb},uz=(e,t)=>{if(cz){const n=lz(e);return hO(n,t)}else return{base64:!0,data:e}},hO=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},mO="",dz=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((o,a)=>{kx(o,!1,c=>{r[a]=c,++i===n&&t(r.join(mO))})})},fz=(e,t)=>{const n=e.split(mO),r=[];for(let i=0;i<n.length;i++){const o=Dx(n[i],t);if(r.push(o),o.type==="error")break}return r};function pz(){return new TransformStream({transform(e,t){az(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let Tw;function vh(e){return e.reduce((t,n)=>t+n.length,0)}function yh(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function hz(e,t){Tw||(Tw=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(a,c){for(n.push(a);;){if(r===0){if(vh(n)<1)break;const u=yh(n,1);o=(u[0]&128)===128,i=u[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(vh(n)<2)break;const u=yh(n,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(vh(n)<8)break;const u=yh(n,8),p=new DataView(u.buffer,u.byteOffset,u.length),h=p.getUint32(0);if(h>Math.pow(2,21)-1){c.enqueue(Sb);break}i=h*Math.pow(2,32)+p.getUint32(4),r=3}else{if(vh(n)<i)break;const u=yh(n,i);c.enqueue(Dx(o?u:Tw.decode(u),t)),r=0}if(i===0||i>e){c.enqueue(Sb);break}}}})}const gO=4;function _n(e){if(e)return mz(e)}function mz(e){for(var t in _n.prototype)e[t]=_n.prototype[t];return e}_n.prototype.on=_n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};_n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};_n.prototype.off=_n.prototype.removeListener=_n.prototype.removeAllListeners=_n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};_n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};_n.prototype.emitReserved=_n.prototype.emit;_n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};_n.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Jr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function vO(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const gz=Jr.setTimeout,vz=Jr.clearTimeout;function Gg(e,t){t.useNativeTimers?(e.setTimeoutFn=gz.bind(Jr),e.clearTimeoutFn=vz.bind(Jr)):(e.setTimeoutFn=Jr.setTimeout.bind(Jr),e.clearTimeoutFn=Jr.clearTimeout.bind(Jr))}const yz=1.33;function wz(e){return typeof e=="string"?bz(e):Math.ceil((e.byteLength||e.size)*yz)}function bz(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function Sz(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function xz(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class _z extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}let Lx=class extends _n{constructor(t){super(),this.writable=!1,Gg(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new _z(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Dx(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Sz(t);return n.length?"?"+n:""}};const yO="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),xb=64,Cz={};let oE=0,wh=0,aE;function lE(e){let t="";do t=yO[e%xb]+t,e=Math.floor(e/xb);while(e>0);return t}function wO(){const e=lE(+new Date);return e!==aE?(oE=0,aE=e):e+"."+lE(oE++)}for(;wh<xb;wh++)Cz[yO[wh]]=wh;let bO=!1;try{bO=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Rz=bO;function SO(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Rz))return new XMLHttpRequest}catch{}if(!t)try{return new Jr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Tz(){}const Ez=function(){return new SO({xdomain:!1}).responseType!=null}();class Pz extends Lx{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}const n=t&&t.forceBase64;this.supportsBinary=Ez&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};fz(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,dz(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=wO()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new is(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class is extends _n{constructor(t,n){super(),Gg(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=vO(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new SO(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=is.requestsCount++,is.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=Tz,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete is.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}is.requestsCount=0;is.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",cE);else if(typeof addEventListener=="function"){const e="onpagehide"in Jr?"pagehide":"unload";addEventListener(e,cE,!1)}}function cE(){for(let e in is.requests)is.requests.hasOwnProperty(e)&&is.requests[e].abort()}const Mx=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),bh=Jr.WebSocket||Jr.MozWebSocket,uE=!0,kz="arraybuffer",dE=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Dz extends Lx{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=dE?{}:vO(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=uE&&!dE?n?new bh(t,n):new bh(t):new bh(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;kx(r,this.supportsBinary,o=>{const a={};try{uE&&this.ws.send(o)}catch{}i&&Mx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=wO()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!bh}}class Lz extends Lx{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=hz(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=pz();i.readable.pipeTo(t.writable),this.writer=i.writable.getWriter();const o=()=>{r.read().then(({done:c,value:u})=>{c||(this.onPacket(u),o())}).catch(c=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this.writer.write(r).then(()=>{i&&Mx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Mz={websocket:Dz,webtransport:Lz,polling:Pz},Oz=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Az=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function _b(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=Oz.exec(e||""),o={},a=14;for(;a--;)o[Az[a]]=i[a]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Nz(o,o.path),o.queryKey=Iz(o,o.query),o}function Nz(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Iz(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}let xO=class gc extends _n{constructor(t,n={}){super(),this.binaryType=kz,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=_b(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=_b(n.host).host),Gg(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=xz(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=gO,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Mz[t](r)}open(){let t;if(this.opts.rememberUpgrade&&gc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;gc.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;gc.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=n.name,this.emitReserved("upgradeError",v)}}))};function o(){r||(r=!0,h(),n.close(),n=null)}const a=g=>{const v=new Error("probe error: "+g);v.transport=n.name,o(),this.emitReserved("upgradeError",v)};function c(){a("transport closed")}function u(){a("socket closed")}function p(g){n&&g.name!==n.name&&o()}const h=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",c),this.off("close",u),this.off("upgrading",p)};n.once("open",i),n.once("error",a),n.once("close",c),this.once("close",u),this.once("upgrading",p),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",gc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=wz(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:t,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){gc.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const i=t.length;for(;r<i;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};xO.protocol=gO;function jz(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=_b(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const Fz=typeof ArrayBuffer=="function",Bz=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,_O=Object.prototype.toString,$z=typeof Blob=="function"||typeof Blob<"u"&&_O.call(Blob)==="[object BlobConstructor]",zz=typeof File=="function"||typeof File<"u"&&_O.call(File)==="[object FileConstructor]";function Ox(e){return Fz&&(e instanceof ArrayBuffer||Bz(e))||$z&&e instanceof Blob||zz&&e instanceof File}function fm(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(fm(e[n]))return!0;return!1}if(Ox(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return fm(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&fm(e[n]))return!0;return!1}function Uz(e){const t=[],n=e.data,r=e;return r.data=Cb(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Cb(e,t){if(!e)return e;if(Ox(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Cb(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Cb(e[r],t));return n}return e}function Vz(e,t){return e.data=Rb(e.data,t),delete e.attachments,e}function Rb(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Rb(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Rb(e[n],t));return e}const Hz=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Wz=5;var yt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(yt||(yt={}));class Kz{constructor(t){this.replacer=t}encode(t){return(t.type===yt.EVENT||t.type===yt.ACK)&&fm(t)?this.encodeAsBinary({type:t.type===yt.EVENT?yt.BINARY_EVENT:yt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===yt.BINARY_EVENT||t.type===yt.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Uz(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function fE(e){return Object.prototype.toString.call(e)==="[object Object]"}class Ax extends _n{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===yt.BINARY_EVENT;r||n.type===yt.BINARY_ACK?(n.type=r?yt.EVENT:yt.ACK,this.reconstructor=new Gz(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Ox(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(yt[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===yt.BINARY_EVENT||r.type===yt.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(o,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(Ax.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case yt.CONNECT:return fE(n);case yt.DISCONNECT:return n===void 0;case yt.CONNECT_ERROR:return typeof n=="string"||fE(n);case yt.EVENT:case yt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Hz.indexOf(n[0])===-1);case yt.ACK:case yt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Gz{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Vz(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const qz=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Ax,Encoder:Kz,get PacketType(){return yt},protocol:Wz},Symbol.toStringTag,{value:"Module"}));function _i(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Yz=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class CO extends _n{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[_i(t,"open",this.onopen.bind(this)),_i(t,"packet",this.onpacket.bind(this)),_i(t,"error",this.onerror.bind(this)),_i(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(Yz.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:yt.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const a=this.ids++,c=n.pop();this._registerAckCallback(a,c),r.id=a}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i);this.acks[t]=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,[null,...a])}}emitWithAck(t,...n){const r=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,o)=>{n.push((a,c)=>r?a?o(a):i(c):i(a)),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:yt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case yt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case yt.EVENT:case yt.BINARY_EVENT:this.onevent(t);break;case yt.ACK:case yt.BINARY_ACK:this.onack(t);break;case yt.DISCONNECT:this.ondisconnect();break;case yt.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:yt.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(n.apply(this,t.data),delete this.acks[t.id])}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:yt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Cu(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Cu.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Cu.prototype.reset=function(){this.attempts=0};Cu.prototype.setMin=function(e){this.ms=e};Cu.prototype.setMax=function(e){this.max=e};Cu.prototype.setJitter=function(e){this.jitter=e};class Tb extends _n{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Gg(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Cu({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||qz;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new xO(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=_i(n,"open",function(){r.onopen(),t&&t()}),o=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},a=_i(n,"error",o);if(this._timeout!==!1){const c=this._timeout,u=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},c);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(_i(t,"ping",this.onping.bind(this)),_i(t,"data",this.ondata.bind(this)),_i(t,"error",this.onerror.bind(this)),_i(t,"close",this.onclose.bind(this)),_i(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Mx(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new CO(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Sd={};function pm(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=jz(e,t.path||"/socket.io"),r=n.source,i=n.id,o=n.path,a=Sd[i]&&o in Sd[i].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let u;return c?u=new Tb(r,t):(Sd[i]||(Sd[i]=new Tb(r,t)),u=Sd[i]),n.query&&!t.query&&(t.query=n.queryKey),u.socket(n.path,t)}Object.assign(pm,{Manager:Tb,Socket:CO,io:pm,connect:pm});let Ws="";console.log("Environment:","production");Ws="http://localhost:3002",console.log("Using production API route:",Ws);const Xz=async e=>pm(`${Ws}/`,{withCredentials:!0,query:e});let Qz={data:""},Zz=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Qz,Jz=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,e8=/\/\*[^]*?\*\/|  +/g,pE=/\n+/g,Mo=(e,t)=>{let n="",r="",i="";for(let o in e){let a=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+a+";":r+=o[1]=="f"?Mo(a,o):o+"{"+Mo(a,o[1]=="k"?"":t)+"}":typeof a=="object"?r+=Mo(a,t?t.replace(/([^,])+/g,c=>o.replace(/(^:.*)|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,c):c?c+" "+u:u)):o):a!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Mo.p?Mo.p(o,a):o+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},_s={},RO=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+RO(e[n]);return t}return e},t8=(e,t,n,r,i)=>{let o=RO(e),a=_s[o]||(_s[o]=(u=>{let p=0,h=11;for(;p<u.length;)h=101*h+u.charCodeAt(p++)>>>0;return"go"+h})(o));if(!_s[a]){let u=o!==e?e:(p=>{let h,g,v=[{}];for(;h=Jz.exec(p.replace(e8,""));)h[4]?v.shift():h[3]?(g=h[3].replace(pE," ").trim(),v.unshift(v[0][g]=v[0][g]||{})):v[0][h[1]]=h[2].replace(pE," ").trim();return v[0]})(e);_s[a]=Mo(i?{["@keyframes "+a]:u}:u,n?"":"."+a)}let c=n&&_s.g?_s.g:null;return n&&(_s.g=_s[a]),((u,p,h,g)=>{g?p.data=p.data.replace(g,u):p.data.indexOf(u)===-1&&(p.data=h?u+p.data:p.data+u)})(_s[a],t,r,c),a},n8=(e,t,n)=>e.reduce((r,i,o)=>{let a=t[o];if(a&&a.call){let c=a(n),u=c&&c.props&&c.props.className||/^go/.test(c)&&c;a=u?"."+u:c&&typeof c=="object"?c.props?"":Mo(c,""):c===!1?"":c}return r+i+(a??"")},"");function qg(e){let t=this||{},n=e.call?e(t.p):e;return t8(n.unshift?n.raw?n8(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,Zz(t.target),t.g,t.o,t.k)}let TO,Eb,Pb;qg.bind({g:1});let Ks=qg.bind({k:1});function r8(e,t,n,r){Mo.p=t,TO=e,Eb=n,Pb=r}function da(e,t){let n=this||{};return function(){let r=arguments;function i(o,a){let c=Object.assign({},o),u=c.className||i.className;n.p=Object.assign({theme:Eb&&Eb()},c),n.o=/ *go\d+/.test(u),c.className=qg.apply(n,r)+(u?" "+u:""),t&&(c.ref=a);let p=e;return e[0]&&(p=c.as||e,delete c.as),Pb&&p[0]&&Pb(c),TO(p,c)}return t?t(i):i}}var i8=e=>typeof e=="function",ng=(e,t)=>i8(e)?e(t):e,s8=(()=>{let e=0;return()=>(++e).toString()})(),EO=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),o8=20,hm=new Map,a8=1e3,hE=e=>{if(hm.has(e))return;let t=setTimeout(()=>{hm.delete(e),ll({type:4,toastId:e})},a8);hm.set(e,t)},l8=e=>{let t=hm.get(e);t&&clearTimeout(t)},kb=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,o8)};case 1:return t.toast.id&&l8(t.toast.id),{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return e.toasts.find(o=>o.id===n.id)?kb(e,{type:1,toast:n}):kb(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?hE(r):e.toasts.forEach(o=>{hE(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},mm=[],gm={toasts:[],pausedAt:void 0},ll=e=>{gm=kb(gm,e),mm.forEach(t=>{t(gm)})},c8={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},u8=(e={})=>{let[t,n]=x.useState(gm);x.useEffect(()=>(mm.push(n),()=>{let i=mm.indexOf(n);i>-1&&mm.splice(i,1)}),[t]);let r=t.toasts.map(i=>{var o,a;return{...e,...e[i.type],...i,duration:i.duration||((o=e[i.type])==null?void 0:o.duration)||(e==null?void 0:e.duration)||c8[i.type],style:{...e.style,...(a=e[i.type])==null?void 0:a.style,...i.style}}});return{...t,toasts:r}},d8=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||s8()}),Kf=e=>(t,n)=>{let r=d8(t,e,n);return ll({type:2,toast:r}),r.id},jr=(e,t)=>Kf("blank")(e,t);jr.error=Kf("error");jr.success=Kf("success");jr.loading=Kf("loading");jr.custom=Kf("custom");jr.dismiss=e=>{ll({type:3,toastId:e})};jr.remove=e=>ll({type:4,toastId:e});jr.promise=(e,t,n)=>{let r=jr.loading(t.loading,{...n,...n==null?void 0:n.loading});return e.then(i=>(jr.success(ng(t.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{jr.error(ng(t.error,i),{id:r,...n,...n==null?void 0:n.error})}),e};var f8=(e,t)=>{ll({type:1,toast:{id:e,height:t}})},p8=()=>{ll({type:5,time:Date.now()})},h8=e=>{let{toasts:t,pausedAt:n}=u8(e);x.useEffect(()=>{if(n)return;let o=Date.now(),a=t.map(c=>{if(c.duration===1/0)return;let u=(c.duration||0)+c.pauseDuration-(o-c.createdAt);if(u<0){c.visible&&jr.dismiss(c.id);return}return setTimeout(()=>jr.dismiss(c.id),u)});return()=>{a.forEach(c=>c&&clearTimeout(c))}},[t,n]);let r=x.useCallback(()=>{n&&ll({type:6,time:Date.now()})},[n]),i=x.useCallback((o,a)=>{let{reverseOrder:c=!1,gutter:u=8,defaultPosition:p}=a||{},h=t.filter(w=>(w.position||p)===(o.position||p)&&w.height),g=h.findIndex(w=>w.id===o.id),v=h.filter((w,S)=>S<g&&w.visible).length;return h.filter(w=>w.visible).slice(...c?[v+1]:[0,v]).reduce((w,S)=>w+(S.height||0)+u,0)},[t]);return{toasts:t,handlers:{updateHeight:f8,startPause:p8,endPause:r,calculateOffset:i}}},m8=Ks`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,g8=Ks`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,v8=Ks`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,y8=da("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${m8} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${g8} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${v8} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,w8=Ks`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,b8=da("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${w8} 1s linear infinite;
`,S8=Ks`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,x8=Ks`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_8=da("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${S8} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${x8} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,C8=da("div")`
  position: absolute;
`,R8=da("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,T8=Ks`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,E8=da("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${T8} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,P8=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?x.createElement(E8,null,t):t:n==="blank"?null:x.createElement(R8,null,x.createElement(b8,{...r}),n!=="loading"&&x.createElement(C8,null,n==="error"?x.createElement(y8,{...r}):x.createElement(_8,{...r})))},k8=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,D8=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,L8="0%{opacity:0;} 100%{opacity:1;}",M8="0%{opacity:1;} 100%{opacity:0;}",O8=da("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,A8=da("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,N8=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=EO()?[L8,M8]:[k8(n),D8(n)];return{animation:t?`${Ks(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ks(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},I8=x.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?N8(e.position||t||"top-center",e.visible):{opacity:0},o=x.createElement(P8,{toast:e}),a=x.createElement(A8,{...e.ariaProps},ng(e.message,e));return x.createElement(O8,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:o,message:a}):x.createElement(x.Fragment,null,o,a))});r8(x.createElement);var j8=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let o=x.useCallback(a=>{if(a){let c=()=>{let u=a.getBoundingClientRect().height;r(e,u)};c(),new MutationObserver(c).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return x.createElement("div",{ref:o,className:t,style:n},i)},F8=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:EO()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},B8=qg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Sh=16,PO=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:a})=>{let{toasts:c,handlers:u}=h8(n);return x.createElement("div",{style:{position:"fixed",zIndex:9999,top:Sh,left:Sh,right:Sh,bottom:Sh,pointerEvents:"none",...o},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(p=>{let h=p.position||t,g=u.calculateOffset(p,{reverseOrder:e,gutter:r,defaultPosition:t}),v=F8(h,g);return x.createElement(j8,{id:p.id,key:p.id,onHeightUpdate:u.updateHeight,className:p.visible?B8:"",style:v},p.type==="custom"?ng(p.message,p):i?i(p):x.createElement(I8,{toast:p,position:h}))}))},In=jr,kO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mE=bn.createContext&&bn.createContext(kO),$8=["attr","size","title"];function z8(e,t){if(e==null)return{};var n=U8(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function U8(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rg.apply(this,arguments)}function gE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ig(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(n),!0).forEach(function(r){V8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V8(e,t,n){return t=H8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H8(e){var t=W8(e,"string");return typeof t=="symbol"?t:String(t)}function W8(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DO(e){return e&&e.map((t,n)=>bn.createElement(t.tag,ig({key:n},t.attr),DO(t.child)))}function Ru(e){return t=>bn.createElement(K8,rg({attr:ig({},e.attr)},t),DO(e.child))}function K8(e){var t=n=>{var{attr:r,size:i,title:o}=e,a=z8(e,$8),c=i||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),bn.createElement("svg",rg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:u,style:ig(ig({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&bn.createElement("title",null,o),e.children)};return mE!==void 0?bn.createElement(mE.Consumer,null,n=>t(n)):t(kO)}function G8(e){return Ru({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8Z"},child:[]},{tag:"path",attr:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8Z"},child:[]}]})(e)}function q8(e){return Ru({tag:"svg",attr:{t:"1569683742680",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2-8.5 2.1-13.8 10.7-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-0.9 3.7-0.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 0.7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-0.8 4.2-2.6 5-5 1.4-4.2-0.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"},child:[]}]})(e)}function Y8(e){return Ru({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 01.75-.75H9a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75H7.5a.75.75 0 01-.75-.75V5.25zm7.5 0A.75.75 0 0115 4.5h1.5a.75.75 0 01.75.75v13.5a.75.75 0 01-.75.75H15a.75.75 0 01-.75-.75V5.25z",clipRule:"evenodd"},child:[]}]})(e)}function X8(e){return Ru({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z",clipRule:"evenodd"},child:[]}]})(e)}function Q8(e){return Ru({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M384 336H192c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16l140.1 0L400 115.9V320c0 8.8-7.2 16-16 16zM192 384H384c35.3 0 64-28.7 64-64V115.9c0-12.7-5.1-24.9-14.1-33.9L366.1 14.1c-9-9-21.2-14.1-33.9-14.1H192c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64zM64 128c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H256c35.3 0 64-28.7 64-64V416H272v32c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192c0-8.8 7.2-16 16-16H96V128H64z"},child:[]}]})(e)}function Z8(e){return Ru({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M3 1C2.44771 1 2 1.44772 2 2V13C2 13.5523 2.44772 14 3 14H10.5C10.7761 14 11 13.7761 11 13.5C11 13.2239 10.7761 13 10.5 13H3V2L10.5 2C10.7761 2 11 1.77614 11 1.5C11 1.22386 10.7761 1 10.5 1H3ZM12.6036 4.89645C12.4083 4.70118 12.0917 4.70118 11.8964 4.89645C11.7012 5.09171 11.7012 5.40829 11.8964 5.60355L13.2929 7H6.5C6.22386 7 6 7.22386 6 7.5C6 7.77614 6.22386 8 6.5 8H13.2929L11.8964 9.39645C11.7012 9.59171 11.7012 9.90829 11.8964 10.1036C12.0917 10.2988 12.4083 10.2988 12.6036 10.1036L14.8536 7.85355C15.0488 7.65829 15.0488 7.34171 14.8536 7.14645L12.6036 4.89645Z",fill:"currentColor"},child:[]}]})(e)}var Er="top",ai="bottom",li="right",Pr="left",Nx="auto",Gf=[Er,ai,li,Pr],au="start",Ef="end",J8="clippingParents",LO="viewport",xd="popper",e9="reference",vE=Gf.reduce(function(e,t){return e.concat([t+"-"+au,t+"-"+Ef])},[]),MO=[].concat(Gf,[Nx]).reduce(function(e,t){return e.concat([t,t+"-"+au,t+"-"+Ef])},[]),t9="beforeRead",n9="read",r9="afterRead",i9="beforeMain",s9="main",o9="afterMain",a9="beforeWrite",l9="write",c9="afterWrite",u9=[t9,n9,r9,i9,s9,o9,a9,l9,c9];function ls(e){return e?(e.nodeName||"").toLowerCase():null}function Ur(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ja(e){var t=Ur(e).Element;return e instanceof t||e instanceof Element}function ni(e){var t=Ur(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Ix(e){if(typeof ShadowRoot>"u")return!1;var t=Ur(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function d9(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!ni(o)||!ls(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var c=i[a];c===!1?o.removeAttribute(a):o.setAttribute(a,c===!0?"":c)}))})}function f9(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=a.reduce(function(u,p){return u[p]="",u},{});!ni(i)||!ls(i)||(Object.assign(i.style,c),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}}const OO={name:"applyStyles",enabled:!0,phase:"write",fn:d9,effect:f9,requires:["computeStyles"]};function ss(e){return e.split("-")[0]}var Ha=Math.max,sg=Math.min,lu=Math.round;function Db(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function AO(){return!/^((?!chrome|android).)*safari/i.test(Db())}function cu(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&ni(e)&&(i=e.offsetWidth>0&&lu(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&lu(r.height)/e.offsetHeight||1);var a=Ja(e)?Ur(e):window,c=a.visualViewport,u=!AO()&&n,p=(r.left+(u&&c?c.offsetLeft:0))/i,h=(r.top+(u&&c?c.offsetTop:0))/o,g=r.width/i,v=r.height/o;return{width:g,height:v,top:h,right:p+g,bottom:h+v,left:p,x:p,y:h}}function jx(e){var t=cu(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function NO(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Ix(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Gs(e){return Ur(e).getComputedStyle(e)}function p9(e){return["table","td","th"].indexOf(ls(e))>=0}function fa(e){return((Ja(e)?e.ownerDocument:e.document)||window.document).documentElement}function Yg(e){return ls(e)==="html"?e:e.assignedSlot||e.parentNode||(Ix(e)?e.host:null)||fa(e)}function yE(e){return!ni(e)||Gs(e).position==="fixed"?null:e.offsetParent}function h9(e){var t=/firefox/i.test(Db()),n=/Trident/i.test(Db());if(n&&ni(e)){var r=Gs(e);if(r.position==="fixed")return null}var i=Yg(e);for(Ix(i)&&(i=i.host);ni(i)&&["html","body"].indexOf(ls(i))<0;){var o=Gs(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function qf(e){for(var t=Ur(e),n=yE(e);n&&p9(n)&&Gs(n).position==="static";)n=yE(n);return n&&(ls(n)==="html"||ls(n)==="body"&&Gs(n).position==="static")?t:n||h9(e)||t}function Fx(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Jd(e,t,n){return Ha(e,sg(t,n))}function m9(e,t,n){var r=Jd(e,t,n);return r>n?n:r}function IO(){return{top:0,right:0,bottom:0,left:0}}function jO(e){return Object.assign({},IO(),e)}function FO(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var g9=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,jO(typeof t!="number"?t:FO(t,Gf))};function v9(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,c=ss(n.placement),u=Fx(c),p=[Pr,li].indexOf(c)>=0,h=p?"height":"width";if(!(!o||!a)){var g=g9(i.padding,n),v=jx(o),w=u==="y"?Er:Pr,S=u==="y"?ai:li,b=n.rects.reference[h]+n.rects.reference[u]-a[u]-n.rects.popper[h],P=a[u]-n.rects.reference[u],R=qf(o),_=R?u==="y"?R.clientHeight||0:R.clientWidth||0:0,k=b/2-P/2,E=g[w],N=_-v[h]-g[S],F=_/2-v[h]/2+k,B=Jd(E,F,N),U=u;n.modifiersData[r]=(t={},t[U]=B,t.centerOffset=B-F,t)}}function y9(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||NO(t.elements.popper,i)&&(t.elements.arrow=i))}const w9={name:"arrow",enabled:!0,phase:"main",fn:v9,effect:y9,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function uu(e){return e.split("-")[1]}var b9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function S9(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:lu(n*i)/i||0,y:lu(r*i)/i||0}}function wE(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,c=e.position,u=e.gpuAcceleration,p=e.adaptive,h=e.roundOffsets,g=e.isFixed,v=a.x,w=v===void 0?0:v,S=a.y,b=S===void 0?0:S,P=typeof h=="function"?h({x:w,y:b}):{x:w,y:b};w=P.x,b=P.y;var R=a.hasOwnProperty("x"),_=a.hasOwnProperty("y"),k=Pr,E=Er,N=window;if(p){var F=qf(n),B="clientHeight",U="clientWidth";if(F===Ur(n)&&(F=fa(n),Gs(F).position!=="static"&&c==="absolute"&&(B="scrollHeight",U="scrollWidth")),F=F,i===Er||(i===Pr||i===li)&&o===Ef){E=ai;var G=g&&F===N&&N.visualViewport?N.visualViewport.height:F[B];b-=G-r.height,b*=u?1:-1}if(i===Pr||(i===Er||i===ai)&&o===Ef){k=li;var Q=g&&F===N&&N.visualViewport?N.visualViewport.width:F[U];w-=Q-r.width,w*=u?1:-1}}var ie=Object.assign({position:c},p&&b9),Y=h===!0?S9({x:w,y:b},Ur(n)):{x:w,y:b};if(w=Y.x,b=Y.y,u){var z;return Object.assign({},ie,(z={},z[E]=_?"0":"",z[k]=R?"0":"",z.transform=(N.devicePixelRatio||1)<=1?"translate("+w+"px, "+b+"px)":"translate3d("+w+"px, "+b+"px, 0)",z))}return Object.assign({},ie,(t={},t[E]=_?b+"px":"",t[k]=R?w+"px":"",t.transform="",t))}function x9(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,c=n.roundOffsets,u=c===void 0?!0:c,p={placement:ss(t.placement),variation:uu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,wE(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,wE(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const _9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:x9,data:{}};var xh={passive:!0};function C9(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,c=a===void 0?!0:a,u=Ur(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&p.forEach(function(h){h.addEventListener("scroll",n.update,xh)}),c&&u.addEventListener("resize",n.update,xh),function(){o&&p.forEach(function(h){h.removeEventListener("scroll",n.update,xh)}),c&&u.removeEventListener("resize",n.update,xh)}}const R9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:C9,data:{}};var T9={left:"right",right:"left",bottom:"top",top:"bottom"};function vm(e){return e.replace(/left|right|bottom|top/g,function(t){return T9[t]})}var E9={start:"end",end:"start"};function bE(e){return e.replace(/start|end/g,function(t){return E9[t]})}function Bx(e){var t=Ur(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function $x(e){return cu(fa(e)).left+Bx(e).scrollLeft}function P9(e,t){var n=Ur(e),r=fa(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,c=0,u=0;if(i){o=i.width,a=i.height;var p=AO();(p||!p&&t==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:c+$x(e),y:u}}function k9(e){var t,n=fa(e),r=Bx(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Ha(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Ha(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+$x(e),u=-r.scrollTop;return Gs(i||n).direction==="rtl"&&(c+=Ha(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:c,y:u}}function zx(e){var t=Gs(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function BO(e){return["html","body","#document"].indexOf(ls(e))>=0?e.ownerDocument.body:ni(e)&&zx(e)?e:BO(Yg(e))}function ef(e,t){var n;t===void 0&&(t=[]);var r=BO(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Ur(r),a=i?[o].concat(o.visualViewport||[],zx(r)?r:[]):r,c=t.concat(a);return i?c:c.concat(ef(Yg(a)))}function Lb(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function D9(e,t){var n=cu(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function SE(e,t,n){return t===LO?Lb(P9(e,n)):Ja(t)?D9(t,n):Lb(k9(fa(e)))}function L9(e){var t=ef(Yg(e)),n=["absolute","fixed"].indexOf(Gs(e).position)>=0,r=n&&ni(e)?qf(e):e;return Ja(r)?t.filter(function(i){return Ja(i)&&NO(i,r)&&ls(i)!=="body"}):[]}function M9(e,t,n,r){var i=t==="clippingParents"?L9(e):[].concat(t),o=[].concat(i,[n]),a=o[0],c=o.reduce(function(u,p){var h=SE(e,p,r);return u.top=Ha(h.top,u.top),u.right=sg(h.right,u.right),u.bottom=sg(h.bottom,u.bottom),u.left=Ha(h.left,u.left),u},SE(e,a,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function $O(e){var t=e.reference,n=e.element,r=e.placement,i=r?ss(r):null,o=r?uu(r):null,a=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,u;switch(i){case Er:u={x:a,y:t.y-n.height};break;case ai:u={x:a,y:t.y+t.height};break;case li:u={x:t.x+t.width,y:c};break;case Pr:u={x:t.x-n.width,y:c};break;default:u={x:t.x,y:t.y}}var p=i?Fx(i):null;if(p!=null){var h=p==="y"?"height":"width";switch(o){case au:u[p]=u[p]-(t[h]/2-n[h]/2);break;case Ef:u[p]=u[p]+(t[h]/2-n[h]/2);break}}return u}function Pf(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,a=o===void 0?e.strategy:o,c=n.boundary,u=c===void 0?J8:c,p=n.rootBoundary,h=p===void 0?LO:p,g=n.elementContext,v=g===void 0?xd:g,w=n.altBoundary,S=w===void 0?!1:w,b=n.padding,P=b===void 0?0:b,R=jO(typeof P!="number"?P:FO(P,Gf)),_=v===xd?e9:xd,k=e.rects.popper,E=e.elements[S?_:v],N=M9(Ja(E)?E:E.contextElement||fa(e.elements.popper),u,h,a),F=cu(e.elements.reference),B=$O({reference:F,element:k,strategy:"absolute",placement:i}),U=Lb(Object.assign({},k,B)),G=v===xd?U:F,Q={top:N.top-G.top+R.top,bottom:G.bottom-N.bottom+R.bottom,left:N.left-G.left+R.left,right:G.right-N.right+R.right},ie=e.modifiersData.offset;if(v===xd&&ie){var Y=ie[i];Object.keys(Q).forEach(function(z){var V=[li,ai].indexOf(z)>=0?1:-1,O=[Er,ai].indexOf(z)>=0?"y":"x";Q[z]+=Y[O]*V})}return Q}function O9(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,c=n.flipVariations,u=n.allowedAutoPlacements,p=u===void 0?MO:u,h=uu(r),g=h?c?vE:vE.filter(function(S){return uu(S)===h}):Gf,v=g.filter(function(S){return p.indexOf(S)>=0});v.length===0&&(v=g);var w=v.reduce(function(S,b){return S[b]=Pf(e,{placement:b,boundary:i,rootBoundary:o,padding:a})[ss(b)],S},{});return Object.keys(w).sort(function(S,b){return w[S]-w[b]})}function A9(e){if(ss(e)===Nx)return[];var t=vm(e);return[bE(e),t,bE(t)]}function N9(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,c=a===void 0?!0:a,u=n.fallbackPlacements,p=n.padding,h=n.boundary,g=n.rootBoundary,v=n.altBoundary,w=n.flipVariations,S=w===void 0?!0:w,b=n.allowedAutoPlacements,P=t.options.placement,R=ss(P),_=R===P,k=u||(_||!S?[vm(P)]:A9(P)),E=[P].concat(k).reduce(function(pe,we){return pe.concat(ss(we)===Nx?O9(t,{placement:we,boundary:h,rootBoundary:g,padding:p,flipVariations:S,allowedAutoPlacements:b}):we)},[]),N=t.rects.reference,F=t.rects.popper,B=new Map,U=!0,G=E[0],Q=0;Q<E.length;Q++){var ie=E[Q],Y=ss(ie),z=uu(ie)===au,V=[Er,ai].indexOf(Y)>=0,O=V?"width":"height",X=Pf(t,{placement:ie,boundary:h,rootBoundary:g,altBoundary:v,padding:p}),oe=V?z?li:Pr:z?ai:Er;N[O]>F[O]&&(oe=vm(oe));var I=vm(oe),j=[];if(o&&j.push(X[Y]<=0),c&&j.push(X[oe]<=0,X[I]<=0),j.every(function(pe){return pe})){G=ie,U=!1;break}B.set(ie,j)}if(U)for(var K=S?3:1,Z=function(we){var se=E.find(function(ee){var ue=B.get(ee);if(ue)return ue.slice(0,we).every(function(he){return he})});if(se)return G=se,"break"},xe=K;xe>0;xe--){var ae=Z(xe);if(ae==="break")break}t.placement!==G&&(t.modifiersData[r]._skip=!0,t.placement=G,t.reset=!0)}}const I9={name:"flip",enabled:!0,phase:"main",fn:N9,requiresIfExists:["offset"],data:{_skip:!1}};function xE(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function _E(e){return[Er,li,ai,Pr].some(function(t){return e[t]>=0})}function j9(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Pf(t,{elementContext:"reference"}),c=Pf(t,{altBoundary:!0}),u=xE(a,r),p=xE(c,i,o),h=_E(u),g=_E(p);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:p,isReferenceHidden:h,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":g})}const F9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:j9};function B9(e,t,n){var r=ss(e),i=[Pr,Er].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=o[0],c=o[1];return a=a||0,c=(c||0)*i,[Pr,li].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}function $9(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,a=MO.reduce(function(h,g){return h[g]=B9(g,t.rects,o),h},{}),c=a[t.placement],u=c.x,p=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=p),t.modifiersData[r]=a}const z9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$9};function U9(e){var t=e.state,n=e.name;t.modifiersData[n]=$O({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const V9={name:"popperOffsets",enabled:!0,phase:"read",fn:U9,data:{}};function H9(e){return e==="x"?"y":"x"}function W9(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,c=a===void 0?!1:a,u=n.boundary,p=n.rootBoundary,h=n.altBoundary,g=n.padding,v=n.tether,w=v===void 0?!0:v,S=n.tetherOffset,b=S===void 0?0:S,P=Pf(t,{boundary:u,rootBoundary:p,padding:g,altBoundary:h}),R=ss(t.placement),_=uu(t.placement),k=!_,E=Fx(R),N=H9(E),F=t.modifiersData.popperOffsets,B=t.rects.reference,U=t.rects.popper,G=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,Q=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),ie=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Y={x:0,y:0};if(F){if(o){var z,V=E==="y"?Er:Pr,O=E==="y"?ai:li,X=E==="y"?"height":"width",oe=F[E],I=oe+P[V],j=oe-P[O],K=w?-U[X]/2:0,Z=_===au?B[X]:U[X],xe=_===au?-U[X]:-B[X],ae=t.elements.arrow,pe=w&&ae?jx(ae):{width:0,height:0},we=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:IO(),se=we[V],ee=we[O],ue=Jd(0,B[X],pe[X]),he=k?B[X]/2-K-ue-se-Q.mainAxis:Z-ue-se-Q.mainAxis,Ee=k?-B[X]/2+K+ue+ee+Q.mainAxis:xe+ue+ee+Q.mainAxis,ge=t.elements.arrow&&qf(t.elements.arrow),Oe=ge?E==="y"?ge.clientTop||0:ge.clientLeft||0:0,$e=(z=ie==null?void 0:ie[E])!=null?z:0,We=oe+he-$e-Oe,Rt=oe+Ee-$e,st=Jd(w?sg(I,We):I,oe,w?Ha(j,Rt):j);F[E]=st,Y[E]=st-oe}if(c){var ht,xt=E==="x"?Er:Pr,At=E==="x"?ai:li,je=F[N],jt=N==="y"?"height":"width",Ge=je+P[xt],ot=je-P[At],kt=[Er,Pr].indexOf(R)!==-1,Me=(ht=ie==null?void 0:ie[N])!=null?ht:0,ve=kt?Ge:je-B[jt]-U[jt]-Me+Q.altAxis,me=kt?je+B[jt]+U[jt]-Me-Q.altAxis:ot,ye=w&&kt?m9(ve,je,me):Jd(w?ve:Ge,je,w?me:ot);F[N]=ye,Y[N]=ye-je}t.modifiersData[r]=Y}}const K9={name:"preventOverflow",enabled:!0,phase:"main",fn:W9,requiresIfExists:["offset"]};function G9(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function q9(e){return e===Ur(e)||!ni(e)?Bx(e):G9(e)}function Y9(e){var t=e.getBoundingClientRect(),n=lu(t.width)/e.offsetWidth||1,r=lu(t.height)/e.offsetHeight||1;return n!==1||r!==1}function X9(e,t,n){n===void 0&&(n=!1);var r=ni(t),i=ni(t)&&Y9(t),o=fa(t),a=cu(e,i,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((ls(t)!=="body"||zx(o))&&(c=q9(t)),ni(t)?(u=cu(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=$x(o))),{x:a.left+c.scrollLeft-u.x,y:a.top+c.scrollTop-u.y,width:a.width,height:a.height}}function Q9(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(c){if(!n.has(c)){var u=t.get(c);u&&i(u)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function Z9(e){var t=Q9(e);return u9.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function J9(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function eU(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var CE={placement:"bottom",modifiers:[],strategy:"absolute"};function RE(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function tU(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?CE:i;return function(c,u,p){p===void 0&&(p=o);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},CE,o),modifiersData:{},elements:{reference:c,popper:u},attributes:{},styles:{}},g=[],v=!1,w={state:h,setOptions:function(R){var _=typeof R=="function"?R(h.options):R;b(),h.options=Object.assign({},o,h.options,_),h.scrollParents={reference:Ja(c)?ef(c):c.contextElement?ef(c.contextElement):[],popper:ef(u)};var k=Z9(eU([].concat(r,h.options.modifiers)));return h.orderedModifiers=k.filter(function(E){return E.enabled}),S(),w.update()},forceUpdate:function(){if(!v){var R=h.elements,_=R.reference,k=R.popper;if(RE(_,k)){h.rects={reference:X9(_,qf(k),h.options.strategy==="fixed"),popper:jx(k)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(Q){return h.modifiersData[Q.name]=Object.assign({},Q.data)});for(var E=0;E<h.orderedModifiers.length;E++){if(h.reset===!0){h.reset=!1,E=-1;continue}var N=h.orderedModifiers[E],F=N.fn,B=N.options,U=B===void 0?{}:B,G=N.name;typeof F=="function"&&(h=F({state:h,options:U,name:G,instance:w})||h)}}}},update:J9(function(){return new Promise(function(P){w.forceUpdate(),P(h)})}),destroy:function(){b(),v=!0}};if(!RE(c,u))return w;w.setOptions(p).then(function(P){!v&&p.onFirstUpdate&&p.onFirstUpdate(P)});function S(){h.orderedModifiers.forEach(function(P){var R=P.name,_=P.options,k=_===void 0?{}:_,E=P.effect;if(typeof E=="function"){var N=E({state:h,name:R,instance:w,options:k}),F=function(){};g.push(N||F)}})}function b(){g.forEach(function(P){return P()}),g=[]}return w}}var nU=[R9,V9,_9,OO,z9,I9,K9,w9,F9],rU=tU({defaultModifiers:nU}),iU="tippy-box",zO="tippy-content",sU="tippy-backdrop",UO="tippy-arrow",VO="tippy-svg-arrow",Oa={passive:!0,capture:!0},HO=function(){return document.body};function Ew(e,t,n){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(n)?n[t]:n)}return e}function Ux(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function WO(e,t){return typeof e=="function"?e.apply(void 0,t):e}function TE(e,t){if(t===0)return e;var n;return function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}}function oU(e){return e.split(/\s+/).filter(Boolean)}function vc(e){return[].concat(e)}function EE(e,t){e.indexOf(t)===-1&&e.push(t)}function aU(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function lU(e){return e.split("-")[0]}function og(e){return[].slice.call(e)}function PE(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function tf(){return document.createElement("div")}function Xg(e){return["Element","Fragment"].some(function(t){return Ux(e,t)})}function cU(e){return Ux(e,"NodeList")}function uU(e){return Ux(e,"MouseEvent")}function dU(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function fU(e){return Xg(e)?[e]:cU(e)?og(e):Array.isArray(e)?e:og(document.querySelectorAll(e))}function Pw(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function kE(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function pU(e){var t,n=vc(e),r=n[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function hU(e,t){var n=t.clientX,r=t.clientY;return e.every(function(i){var o=i.popperRect,a=i.popperState,c=i.props,u=c.interactiveBorder,p=lU(a.placement),h=a.modifiersData.offset;if(!h)return!0;var g=p==="bottom"?h.top.y:0,v=p==="top"?h.bottom.y:0,w=p==="right"?h.left.x:0,S=p==="left"?h.right.x:0,b=o.top-r+g>u,P=r-o.bottom-v>u,R=o.left-n+w>u,_=n-o.right-S>u;return b||P||R||_})}function kw(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[r](i,n)})}function DE(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Ji={isTouch:!1},LE=0;function mU(){Ji.isTouch||(Ji.isTouch=!0,window.performance&&document.addEventListener("mousemove",KO))}function KO(){var e=performance.now();e-LE<20&&(Ji.isTouch=!1,document.removeEventListener("mousemove",KO)),LE=e}function gU(){var e=document.activeElement;if(dU(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function vU(){document.addEventListener("touchstart",mU,Oa),window.addEventListener("blur",gU)}var yU=typeof window<"u"&&typeof document<"u",wU=yU?!!window.msCrypto:!1,bU={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},SU={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ri=Object.assign({appendTo:HO,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},bU,SU),xU=Object.keys(Ri),_U=function(t){var n=Object.keys(t);n.forEach(function(r){Ri[r]=t[r]})};function GO(e){var t=e.plugins||[],n=t.reduce(function(r,i){var o=i.name,a=i.defaultValue;if(o){var c;r[o]=e[o]!==void 0?e[o]:(c=Ri[o])!=null?c:a}return r},{});return Object.assign({},e,n)}function CU(e,t){var n=t?Object.keys(GO(Object.assign({},Ri,{plugins:t}))):xU,r=n.reduce(function(i,o){var a=(e.getAttribute("data-tippy-"+o)||"").trim();if(!a)return i;if(o==="content")i[o]=a;else try{i[o]=JSON.parse(a)}catch{i[o]=a}return i},{});return r}function ME(e,t){var n=Object.assign({},t,{content:WO(t.content,[e])},t.ignoreAttributes?{}:CU(e,t.plugins));return n.aria=Object.assign({},Ri.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var RU=function(){return"innerHTML"};function Mb(e,t){e[RU()]=t}function OE(e){var t=tf();return e===!0?t.className=UO:(t.className=VO,Xg(e)?t.appendChild(e):Mb(t,e)),t}function AE(e,t){Xg(t.content)?(Mb(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Mb(e,t.content):e.textContent=t.content)}function Ob(e){var t=e.firstElementChild,n=og(t.children);return{box:t,content:n.find(function(r){return r.classList.contains(zO)}),arrow:n.find(function(r){return r.classList.contains(UO)||r.classList.contains(VO)}),backdrop:n.find(function(r){return r.classList.contains(sU)})}}function qO(e){var t=tf(),n=tf();n.className=iU,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=tf();r.className=zO,r.setAttribute("data-state","hidden"),AE(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props);function i(o,a){var c=Ob(t),u=c.box,p=c.content,h=c.arrow;a.theme?u.setAttribute("data-theme",a.theme):u.removeAttribute("data-theme"),typeof a.animation=="string"?u.setAttribute("data-animation",a.animation):u.removeAttribute("data-animation"),a.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?u.setAttribute("role",a.role):u.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&AE(p,e.props),a.arrow?h?o.arrow!==a.arrow&&(u.removeChild(h),u.appendChild(OE(a.arrow))):u.appendChild(OE(a.arrow)):h&&u.removeChild(h)}return{popper:t,onUpdate:i}}qO.$$tippy=!0;var TU=1,_h=[],Dw=[];function EU(e,t){var n=ME(e,Object.assign({},Ri,GO(PE(t)))),r,i,o,a=!1,c=!1,u=!1,p=!1,h,g,v,w=[],S=TE(We,n.interactiveDebounce),b,P=TU++,R=null,_=aU(n.plugins),k={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},E={id:P,reference:e,popper:tf(),popperInstance:R,props:n,state:k,plugins:_,clearDelayTimeouts:ve,setProps:me,setContent:ye,show:qe,hide:Ce,hideWithInteractivity:Ue,enable:kt,disable:Me,unmount:Ie,destroy:bt};if(!n.render)return E;var N=n.render(E),F=N.popper,B=N.onUpdate;F.setAttribute("data-tippy-root",""),F.id="tippy-"+E.id,E.popper=F,e._tippy=E,F._tippy=E;var U=_.map(function(ne){return ne.fn(E)}),G=e.hasAttribute("aria-expanded");return ge(),K(),oe(),I("onCreate",[E]),n.showOnCreate&&Ge(),F.addEventListener("mouseenter",function(){E.props.interactive&&E.state.isVisible&&E.clearDelayTimeouts()}),F.addEventListener("mouseleave",function(){E.props.interactive&&E.props.trigger.indexOf("mouseenter")>=0&&V().addEventListener("mousemove",S)}),E;function Q(){var ne=E.props.touch;return Array.isArray(ne)?ne:[ne,0]}function ie(){return Q()[0]==="hold"}function Y(){var ne;return!!((ne=E.props.render)!=null&&ne.$$tippy)}function z(){return b||e}function V(){var ne=z().parentNode;return ne?pU(ne):document}function O(){return Ob(F)}function X(ne){return E.state.isMounted&&!E.state.isVisible||Ji.isTouch||h&&h.type==="focus"?0:Ew(E.props.delay,ne?0:1,Ri.delay)}function oe(ne){ne===void 0&&(ne=!1),F.style.pointerEvents=E.props.interactive&&!ne?"":"none",F.style.zIndex=""+E.props.zIndex}function I(ne,De,Ke){if(Ke===void 0&&(Ke=!0),U.forEach(function(ut){ut[ne]&&ut[ne].apply(ut,De)}),Ke){var Ne;(Ne=E.props)[ne].apply(Ne,De)}}function j(){var ne=E.props.aria;if(ne.content){var De="aria-"+ne.content,Ke=F.id,Ne=vc(E.props.triggerTarget||e);Ne.forEach(function(ut){var Le=ut.getAttribute(De);if(E.state.isVisible)ut.setAttribute(De,Le?Le+" "+Ke:Ke);else{var rn=Le&&Le.replace(Ke,"").trim();rn?ut.setAttribute(De,rn):ut.removeAttribute(De)}})}}function K(){if(!(G||!E.props.aria.expanded)){var ne=vc(E.props.triggerTarget||e);ne.forEach(function(De){E.props.interactive?De.setAttribute("aria-expanded",E.state.isVisible&&De===z()?"true":"false"):De.removeAttribute("aria-expanded")})}}function Z(){V().removeEventListener("mousemove",S),_h=_h.filter(function(ne){return ne!==S})}function xe(ne){if(!(Ji.isTouch&&(u||ne.type==="mousedown"))){var De=ne.composedPath&&ne.composedPath()[0]||ne.target;if(!(E.props.interactive&&DE(F,De))){if(vc(E.props.triggerTarget||e).some(function(Ke){return DE(Ke,De)})){if(Ji.isTouch||E.state.isVisible&&E.props.trigger.indexOf("click")>=0)return}else I("onClickOutside",[E,ne]);E.props.hideOnClick===!0&&(E.clearDelayTimeouts(),E.hide(),c=!0,setTimeout(function(){c=!1}),E.state.isMounted||se())}}}function ae(){u=!0}function pe(){u=!1}function we(){var ne=V();ne.addEventListener("mousedown",xe,!0),ne.addEventListener("touchend",xe,Oa),ne.addEventListener("touchstart",pe,Oa),ne.addEventListener("touchmove",ae,Oa)}function se(){var ne=V();ne.removeEventListener("mousedown",xe,!0),ne.removeEventListener("touchend",xe,Oa),ne.removeEventListener("touchstart",pe,Oa),ne.removeEventListener("touchmove",ae,Oa)}function ee(ne,De){he(ne,function(){!E.state.isVisible&&F.parentNode&&F.parentNode.contains(F)&&De()})}function ue(ne,De){he(ne,De)}function he(ne,De){var Ke=O().box;function Ne(ut){ut.target===Ke&&(kw(Ke,"remove",Ne),De())}if(ne===0)return De();kw(Ke,"remove",g),kw(Ke,"add",Ne),g=Ne}function Ee(ne,De,Ke){Ke===void 0&&(Ke=!1);var Ne=vc(E.props.triggerTarget||e);Ne.forEach(function(ut){ut.addEventListener(ne,De,Ke),w.push({node:ut,eventType:ne,handler:De,options:Ke})})}function ge(){ie()&&(Ee("touchstart",$e,{passive:!0}),Ee("touchend",Rt,{passive:!0})),oU(E.props.trigger).forEach(function(ne){if(ne!=="manual")switch(Ee(ne,$e),ne){case"mouseenter":Ee("mouseleave",Rt);break;case"focus":Ee(wU?"focusout":"blur",st);break;case"focusin":Ee("focusout",st);break}})}function Oe(){w.forEach(function(ne){var De=ne.node,Ke=ne.eventType,Ne=ne.handler,ut=ne.options;De.removeEventListener(Ke,Ne,ut)}),w=[]}function $e(ne){var De,Ke=!1;if(!(!E.state.isEnabled||ht(ne)||c)){var Ne=((De=h)==null?void 0:De.type)==="focus";h=ne,b=ne.currentTarget,K(),!E.state.isVisible&&uU(ne)&&_h.forEach(function(ut){return ut(ne)}),ne.type==="click"&&(E.props.trigger.indexOf("mouseenter")<0||a)&&E.props.hideOnClick!==!1&&E.state.isVisible?Ke=!0:Ge(ne),ne.type==="click"&&(a=!Ke),Ke&&!Ne&&ot(ne)}}function We(ne){var De=ne.target,Ke=z().contains(De)||F.contains(De);if(!(ne.type==="mousemove"&&Ke)){var Ne=jt().concat(F).map(function(ut){var Le,rn=ut._tippy,Wt=(Le=rn.popperInstance)==null?void 0:Le.state;return Wt?{popperRect:ut.getBoundingClientRect(),popperState:Wt,props:n}:null}).filter(Boolean);hU(Ne,ne)&&(Z(),ot(ne))}}function Rt(ne){var De=ht(ne)||E.props.trigger.indexOf("click")>=0&&a;if(!De){if(E.props.interactive){E.hideWithInteractivity(ne);return}ot(ne)}}function st(ne){E.props.trigger.indexOf("focusin")<0&&ne.target!==z()||E.props.interactive&&ne.relatedTarget&&F.contains(ne.relatedTarget)||ot(ne)}function ht(ne){return Ji.isTouch?ie()!==ne.type.indexOf("touch")>=0:!1}function xt(){At();var ne=E.props,De=ne.popperOptions,Ke=ne.placement,Ne=ne.offset,ut=ne.getReferenceClientRect,Le=ne.moveTransition,rn=Y()?Ob(F).arrow:null,Wt=ut?{getBoundingClientRect:ut,contextElement:ut.contextElement||z()}:e,Bt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(En){var $n=En.state;if(Y()){var Pn=O(),Ii=Pn.box;["placement","reference-hidden","escaped"].forEach(function(vn){vn==="placement"?Ii.setAttribute("data-placement",$n.placement):$n.attributes.popper["data-popper-"+vn]?Ii.setAttribute("data-"+vn,""):Ii.removeAttribute("data-"+vn)}),$n.attributes.popper={}}}},Dt=[{name:"offset",options:{offset:Ne}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Le}},Bt];Y()&&rn&&Dt.push({name:"arrow",options:{element:rn,padding:3}}),Dt.push.apply(Dt,(De==null?void 0:De.modifiers)||[]),E.popperInstance=rU(Wt,F,Object.assign({},De,{placement:Ke,onFirstUpdate:v,modifiers:Dt}))}function At(){E.popperInstance&&(E.popperInstance.destroy(),E.popperInstance=null)}function je(){var ne=E.props.appendTo,De,Ke=z();E.props.interactive&&ne===HO||ne==="parent"?De=Ke.parentNode:De=WO(ne,[Ke]),De.contains(F)||De.appendChild(F),E.state.isMounted=!0,xt()}function jt(){return og(F.querySelectorAll("[data-tippy-root]"))}function Ge(ne){E.clearDelayTimeouts(),ne&&I("onTrigger",[E,ne]),we();var De=X(!0),Ke=Q(),Ne=Ke[0],ut=Ke[1];Ji.isTouch&&Ne==="hold"&&ut&&(De=ut),De?r=setTimeout(function(){E.show()},De):E.show()}function ot(ne){if(E.clearDelayTimeouts(),I("onUntrigger",[E,ne]),!E.state.isVisible){se();return}if(!(E.props.trigger.indexOf("mouseenter")>=0&&E.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ne.type)>=0&&a)){var De=X(!1);De?i=setTimeout(function(){E.state.isVisible&&E.hide()},De):o=requestAnimationFrame(function(){E.hide()})}}function kt(){E.state.isEnabled=!0}function Me(){E.hide(),E.state.isEnabled=!1}function ve(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function me(ne){if(!E.state.isDestroyed){I("onBeforeUpdate",[E,ne]),Oe();var De=E.props,Ke=ME(e,Object.assign({},De,PE(ne),{ignoreAttributes:!0}));E.props=Ke,ge(),De.interactiveDebounce!==Ke.interactiveDebounce&&(Z(),S=TE(We,Ke.interactiveDebounce)),De.triggerTarget&&!Ke.triggerTarget?vc(De.triggerTarget).forEach(function(Ne){Ne.removeAttribute("aria-expanded")}):Ke.triggerTarget&&e.removeAttribute("aria-expanded"),K(),oe(),B&&B(De,Ke),E.popperInstance&&(xt(),jt().forEach(function(Ne){requestAnimationFrame(Ne._tippy.popperInstance.forceUpdate)})),I("onAfterUpdate",[E,ne])}}function ye(ne){E.setProps({content:ne})}function qe(){var ne=E.state.isVisible,De=E.state.isDestroyed,Ke=!E.state.isEnabled,Ne=Ji.isTouch&&!E.props.touch,ut=Ew(E.props.duration,0,Ri.duration);if(!(ne||De||Ke||Ne)&&!z().hasAttribute("disabled")&&(I("onShow",[E],!1),E.props.onShow(E)!==!1)){if(E.state.isVisible=!0,Y()&&(F.style.visibility="visible"),oe(),we(),E.state.isMounted||(F.style.transition="none"),Y()){var Le=O(),rn=Le.box,Wt=Le.content;Pw([rn,Wt],0)}v=function(){var Dt;if(!(!E.state.isVisible||p)){if(p=!0,F.offsetHeight,F.style.transition=E.props.moveTransition,Y()&&E.props.animation){var Zn=O(),En=Zn.box,$n=Zn.content;Pw([En,$n],ut),kE([En,$n],"visible")}j(),K(),EE(Dw,E),(Dt=E.popperInstance)==null||Dt.forceUpdate(),I("onMount",[E]),E.props.animation&&Y()&&ue(ut,function(){E.state.isShown=!0,I("onShown",[E])})}},je()}}function Ce(){var ne=!E.state.isVisible,De=E.state.isDestroyed,Ke=!E.state.isEnabled,Ne=Ew(E.props.duration,1,Ri.duration);if(!(ne||De||Ke)&&(I("onHide",[E],!1),E.props.onHide(E)!==!1)){if(E.state.isVisible=!1,E.state.isShown=!1,p=!1,a=!1,Y()&&(F.style.visibility="hidden"),Z(),se(),oe(!0),Y()){var ut=O(),Le=ut.box,rn=ut.content;E.props.animation&&(Pw([Le,rn],Ne),kE([Le,rn],"hidden"))}j(),K(),E.props.animation?Y()&&ee(Ne,E.unmount):E.unmount()}}function Ue(ne){V().addEventListener("mousemove",S),EE(_h,S),S(ne)}function Ie(){E.state.isVisible&&E.hide(),E.state.isMounted&&(At(),jt().forEach(function(ne){ne._tippy.unmount()}),F.parentNode&&F.parentNode.removeChild(F),Dw=Dw.filter(function(ne){return ne!==E}),E.state.isMounted=!1,I("onHidden",[E]))}function bt(){E.state.isDestroyed||(E.clearDelayTimeouts(),E.unmount(),Oe(),delete e._tippy,E.state.isDestroyed=!0,I("onDestroy",[E]))}}function Yf(e,t){t===void 0&&(t={});var n=Ri.plugins.concat(t.plugins||[]);vU();var r=Object.assign({},t,{plugins:n}),i=fU(e),o=i.reduce(function(a,c){var u=c&&EU(c,r);return u&&a.push(u),a},[]);return Xg(e)?o[0]:o}Yf.defaultProps=Ri;Yf.setDefaultProps=_U;Yf.currentInput=Ji;Object.assign({},OO,{effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Yf.setDefaultProps({render:qO});function YO(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var XO=typeof window<"u"&&typeof document<"u";function Ab(e,t){e&&(typeof e=="function"&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function NE(){return XO&&document.createElement("div")}function PU(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}function QO(e,t){if(e===t)return!0;if(typeof e=="object"&&e!=null&&typeof t=="object"&&t!=null){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(t.hasOwnProperty(n)){if(!QO(e[n],t[n]))return!1}else return!1;return!0}else return!1}function kU(e){var t=[];return e.forEach(function(n){t.find(function(r){return QO(n,r)})||t.push(n)}),t}function DU(e,t){var n,r;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:kU([].concat(((n=e.popperOptions)==null?void 0:n.modifiers)||[],((r=t.popperOptions)==null?void 0:r.modifiers)||[]))})})}var Lw=XO?x.useLayoutEffect:x.useEffect;function LU(e){var t=x.useRef();return t.current||(t.current=typeof e=="function"?e():e),t.current}function IE(e,t,n){n.split(/\s+/).forEach(function(r){r&&e.classList[t](r)})}var MU={name:"className",defaultValue:"",fn:function(t){var n=t.popper.firstElementChild,r=function(){var c;return!!((c=t.props.render)!=null&&c.$$tippy)};function i(){t.props.className&&!r()||IE(n,"add",t.props.className)}function o(){r()&&IE(n,"remove",t.props.className)}return{onCreate:i,onBeforeUpdate:o,onAfterUpdate:i}}};function OU(e){function t(n){var r=n.children,i=n.content,o=n.visible,a=n.singleton,c=n.render,u=n.reference,p=n.disabled,h=p===void 0?!1:p,g=n.ignoreAttributes,v=g===void 0?!0:g;n.__source,n.__self;var w=YO(n,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"]),S=o!==void 0,b=a!==void 0,P=x.useState(!1),R=P[0],_=P[1],k=x.useState({}),E=k[0],N=k[1],F=x.useState(),B=F[0],U=F[1],G=LU(function(){return{container:NE(),renders:1}}),Q=Object.assign({ignoreAttributes:v},w,{content:G.container});S&&(Q.trigger="manual",Q.hideOnClick=!1),b&&(h=!0);var ie=Q,Y=Q.plugins||[];c&&(ie=Object.assign({},Q,{plugins:b&&a.data!=null?[].concat(Y,[{fn:function(){return{onTrigger:function(X,oe){var I=a.data.children.find(function(j){var K=j.instance;return K.reference===oe.currentTarget});X.state.$$activeSingletonInstance=I.instance,U(I.content)}}}}]):Y,render:function(){return{popper:G.container}}}));var z=[u].concat(r?[r.type]:[]);return Lw(function(){var V=u;u&&u.hasOwnProperty("current")&&(V=u.current);var O=e(V||G.ref||NE(),Object.assign({},ie,{plugins:[MU].concat(Q.plugins||[])}));return G.instance=O,h&&O.disable(),o&&O.show(),b&&a.hook({instance:O,content:i,props:ie,setSingletonContent:U}),_(!0),function(){O.destroy(),a==null||a.cleanup(O)}},z),Lw(function(){var V;if(G.renders===1){G.renders++;return}var O=G.instance;O.setProps(DU(O.props,ie)),(V=O.popperInstance)==null||V.forceUpdate(),h?O.disable():O.enable(),S&&(o?O.show():O.hide()),b&&a.hook({instance:O,content:i,props:ie,setSingletonContent:U})}),Lw(function(){var V;if(c){var O=G.instance;O.setProps({popperOptions:Object.assign({},O.props.popperOptions,{modifiers:[].concat((((V=O.props.popperOptions)==null?void 0:V.modifiers)||[]).filter(function(X){var oe=X.name;return oe!=="$$tippyReact"}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(oe){var I,j=oe.state,K=(I=j.modifiersData)==null?void 0:I.hide;(E.placement!==j.placement||E.referenceHidden!==(K==null?void 0:K.isReferenceHidden)||E.escaped!==(K==null?void 0:K.hasPopperEscaped))&&N({placement:j.placement,referenceHidden:K==null?void 0:K.isReferenceHidden,escaped:K==null?void 0:K.hasPopperEscaped}),j.attributes.popper={}}}])})})}},[E.placement,E.referenceHidden,E.escaped].concat(z)),bn.createElement(bn.Fragment,null,r?x.cloneElement(r,{ref:function(O){G.ref=O,Ab(r.ref,O)}}):null,R&&la.createPortal(c?c(PU(E),B,G.instance):i,G.container))}return t}var AU=function(e,t){return x.forwardRef(function(r,i){var o=r.children,a=YO(r,["children"]);return bn.createElement(e,Object.assign({},t,a),o?x.cloneElement(o,{ref:function(u){Ab(i,u),Ab(o.ref,u)}}):null)})},NU=AU(OU(Yf));const IU=NU;function zl(e){return C.jsx(IU,{...e,delay:[500,100],animation:e.animation||"fade",theme:e.theme||"material"})}var Vx={},Nb={exports:{}},Mw,jE;function jU(){if(jE)return Mw;jE=1;var e=1e3,t=e*60,n=t*60,r=n*24,i=r*7,o=r*365.25;Mw=function(h,g){g=g||{};var v=typeof h;if(v==="string"&&h.length>0)return a(h);if(v==="number"&&isFinite(h))return g.long?u(h):c(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function a(h){if(h=String(h),!(h.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(g){var v=parseFloat(g[1]),w=(g[2]||"ms").toLowerCase();switch(w){case"years":case"year":case"yrs":case"yr":case"y":return v*o;case"weeks":case"week":case"w":return v*i;case"days":case"day":case"d":return v*r;case"hours":case"hour":case"hrs":case"hr":case"h":return v*n;case"minutes":case"minute":case"mins":case"min":case"m":return v*t;case"seconds":case"second":case"secs":case"sec":case"s":return v*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return v;default:return}}}}function c(h){var g=Math.abs(h);return g>=r?Math.round(h/r)+"d":g>=n?Math.round(h/n)+"h":g>=t?Math.round(h/t)+"m":g>=e?Math.round(h/e)+"s":h+"ms"}function u(h){var g=Math.abs(h);return g>=r?p(h,g,r,"day"):g>=n?p(h,g,n,"hour"):g>=t?p(h,g,t,"minute"):g>=e?p(h,g,e,"second"):h+" ms"}function p(h,g,v,w){var S=g>=v*1.5;return Math.round(h/v)+" "+w+(S?"s":"")}return Mw}function FU(e){n.debug=n,n.default=n,n.coerce=u,n.disable=o,n.enable=i,n.enabled=a,n.humanize=jU(),n.destroy=p,Object.keys(e).forEach(h=>{n[h]=e[h]}),n.names=[],n.skips=[],n.formatters={};function t(h){let g=0;for(let v=0;v<h.length;v++)g=(g<<5)-g+h.charCodeAt(v),g|=0;return n.colors[Math.abs(g)%n.colors.length]}n.selectColor=t;function n(h){let g,v=null,w,S;function b(...P){if(!b.enabled)return;const R=b,_=Number(new Date),k=_-(g||_);R.diff=k,R.prev=g,R.curr=_,g=_,P[0]=n.coerce(P[0]),typeof P[0]!="string"&&P.unshift("%O");let E=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,(F,B)=>{if(F==="%%")return"%";E++;const U=n.formatters[B];if(typeof U=="function"){const G=P[E];F=U.call(R,G),P.splice(E,1),E--}return F}),n.formatArgs.call(R,P),(R.log||n.log).apply(R,P)}return b.namespace=h,b.useColors=n.useColors(),b.color=n.selectColor(h),b.extend=r,b.destroy=n.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(w!==n.namespaces&&(w=n.namespaces,S=n.enabled(h)),S),set:P=>{v=P}}),typeof n.init=="function"&&n.init(b),b}function r(h,g){const v=n(this.namespace+(typeof g>"u"?":":g)+h);return v.log=this.log,v}function i(h){n.save(h),n.namespaces=h,n.names=[],n.skips=[];let g;const v=(typeof h=="string"?h:"").split(/[\s,]+/),w=v.length;for(g=0;g<w;g++)v[g]&&(h=v[g].replace(/\*/g,".*?"),h[0]==="-"?n.skips.push(new RegExp("^"+h.slice(1)+"$")):n.names.push(new RegExp("^"+h+"$")))}function o(){const h=[...n.names.map(c),...n.skips.map(c).map(g=>"-"+g)].join(",");return n.enable(""),h}function a(h){if(h[h.length-1]==="*")return!0;let g,v;for(g=0,v=n.skips.length;g<v;g++)if(n.skips[g].test(h))return!1;for(g=0,v=n.names.length;g<v;g++)if(n.names[g].test(h))return!0;return!1}function c(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function u(h){return h instanceof Error?h.stack||h.message:h}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var BU=FU;(function(e,t){var n={};t.formatArgs=i,t.save=o,t.load=a,t.useColors=r,t.storage=c(),t.destroy=(()=>{let p=!1;return()=>{p||(p=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(p){if(p[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+p[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;p.splice(1,0,h,"color: inherit");let g=0,v=0;p[0].replace(/%[a-zA-Z%]/g,w=>{w!=="%%"&&(g++,w==="%c"&&(v=g))}),p.splice(v,0,h)}t.log=console.debug||console.log||(()=>{});function o(p){try{p?t.storage.setItem("debug",p):t.storage.removeItem("debug")}catch{}}function a(){let p;try{p=t.storage.getItem("debug")}catch{}return!p&&typeof process<"u"&&"env"in process&&(p=n.DEBUG),p}function c(){try{return localStorage}catch{}}e.exports=BU(t);const{formatters:u}=e.exports;u.j=function(p){try{return JSON.stringify(p)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}})(Nb,Nb.exports);var Qg=Nb.exports,el={},Ib={exports:{}};(function(e,t){(function(n,r){var i="1.0.37",o="",a="?",c="function",u="undefined",p="object",h="string",g="major",v="model",w="name",S="type",b="vendor",P="version",R="architecture",_="console",k="mobile",E="tablet",N="smarttv",F="wearable",B="embedded",U=500,G="Amazon",Q="Apple",ie="ASUS",Y="BlackBerry",z="Browser",V="Chrome",O="Edge",X="Firefox",oe="Google",I="Huawei",j="LG",K="Microsoft",Z="Motorola",xe="Opera",ae="Samsung",pe="Sharp",we="Sony",se="Xiaomi",ee="Zebra",ue="Facebook",he="Chromium OS",Ee="Mac OS",ge=function(Me,ve){var me={};for(var ye in Me)ve[ye]&&ve[ye].length%2===0?me[ye]=ve[ye].concat(Me[ye]):me[ye]=Me[ye];return me},Oe=function(Me){for(var ve={},me=0;me<Me.length;me++)ve[Me[me].toUpperCase()]=Me[me];return ve},$e=function(Me,ve){return typeof Me===h?We(ve).indexOf(We(Me))!==-1:!1},We=function(Me){return Me.toLowerCase()},Rt=function(Me){return typeof Me===h?Me.replace(/[^\d\.]/g,o).split(".")[0]:r},st=function(Me,ve){if(typeof Me===h)return Me=Me.replace(/^\s\s*/,o),typeof ve===u?Me:Me.substring(0,U)},ht=function(Me,ve){for(var me=0,ye,qe,Ce,Ue,Ie,bt;me<ve.length&&!Ie;){var ne=ve[me],De=ve[me+1];for(ye=qe=0;ye<ne.length&&!Ie&&ne[ye];)if(Ie=ne[ye++].exec(Me),Ie)for(Ce=0;Ce<De.length;Ce++)bt=Ie[++qe],Ue=De[Ce],typeof Ue===p&&Ue.length>0?Ue.length===2?typeof Ue[1]==c?this[Ue[0]]=Ue[1].call(this,bt):this[Ue[0]]=Ue[1]:Ue.length===3?typeof Ue[1]===c&&!(Ue[1].exec&&Ue[1].test)?this[Ue[0]]=bt?Ue[1].call(this,bt,Ue[2]):r:this[Ue[0]]=bt?bt.replace(Ue[1],Ue[2]):r:Ue.length===4&&(this[Ue[0]]=bt?Ue[3].call(this,bt.replace(Ue[1],Ue[2])):r):this[Ue]=bt||r;me+=2}},xt=function(Me,ve){for(var me in ve)if(typeof ve[me]===p&&ve[me].length>0){for(var ye=0;ye<ve[me].length;ye++)if($e(ve[me][ye],Me))return me===a?r:me}else if($e(ve[me],Me))return me===a?r:me;return Me},At={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},je={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},jt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[P,[w,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[P,[w,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[w,P],[/opios[\/ ]+([\w\.]+)/i],[P,[w,xe+" Mini"]],[/\bopr\/([\w\.]+)/i],[P,[w,xe]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[P,[w,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[w,P],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[P,[w,"UC"+z]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[P,[w,"WeChat"]],[/konqueror\/([\w\.]+)/i],[P,[w,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[P,[w,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[P,[w,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[P,[w,"Smart Lenovo "+z]],[/(avast|avg)\/([\w\.]+)/i],[[w,/(.+)/,"$1 Secure "+z],P],[/\bfocus\/([\w\.]+)/i],[P,[w,X+" Focus"]],[/\bopt\/([\w\.]+)/i],[P,[w,xe+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[P,[w,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[P,[w,"Dolphin"]],[/coast\/([\w\.]+)/i],[P,[w,xe+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[P,[w,"MIUI "+z]],[/fxios\/([-\w\.]+)/i],[P,[w,X]],[/\bqihu|(qi?ho?o?|360)browser/i],[[w,"360 "+z]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[w,/(.+)/,"$1 "+z],P],[/samsungbrowser\/([\w\.]+)/i],[P,[w,ae+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[w,/_/g," "],P],[/metasr[\/ ]?([\d\.]+)/i],[P,[w,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[w,"Sogou Mobile"],P],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[w,P],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[w],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[w,ue],P],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[w,P],[/\bgsa\/([\w\.]+) .*safari\//i],[P,[w,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[P,[w,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[P,[w,V+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[w,V+" WebView"],P],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[P,[w,"Android "+z]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[w,P],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[P,[w,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[P,w],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[w,[P,xt,At]],[/(webkit|khtml)\/([\w\.]+)/i],[w,P],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[w,"Netscape"],P],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[P,[w,X+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[w,P],[/(cobalt)\/([\w\.]+)/i],[w,[P,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[R,"amd64"]],[/(ia32(?=;))/i],[[R,We]],[/((?:i[346]|x)86)[;\)]/i],[[R,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[R,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[R,"armhf"]],[/windows (ce|mobile); ppc;/i],[[R,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[R,/ower/,o,We]],[/(sun4\w)[;\)]/i],[[R,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[R,We]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[v,[b,ae],[S,E]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[v,[b,ae],[S,k]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[v,[b,Q],[S,k]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[v,[b,Q],[S,E]],[/(macintosh);/i],[v,[b,Q]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[v,[b,pe],[S,k]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[v,[b,I],[S,E]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[v,[b,I],[S,k]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[v,/_/g," "],[b,se],[S,k]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[v,/_/g," "],[b,se],[S,E]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[v,[b,"OPPO"],[S,k]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[v,[b,"Vivo"],[S,k]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[v,[b,"Realme"],[S,k]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[v,[b,Z],[S,k]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[v,[b,Z],[S,E]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[v,[b,j],[S,E]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[v,[b,j],[S,k]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[v,[b,"Lenovo"],[S,E]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[v,/_/g," "],[b,"Nokia"],[S,k]],[/(pixel c)\b/i],[v,[b,oe],[S,E]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[v,[b,oe],[S,k]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[v,[b,we],[S,k]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[v,"Xperia Tablet"],[b,we],[S,E]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[v,[b,"OnePlus"],[S,k]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[v,[b,G],[S,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[v,/(.+)/g,"Fire Phone $1"],[b,G],[S,k]],[/(playbook);[-\w\),; ]+(rim)/i],[v,b,[S,E]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[v,[b,Y],[S,k]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[v,[b,ie],[S,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[v,[b,ie],[S,k]],[/(nexus 9)/i],[v,[b,"HTC"],[S,E]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[b,[v,/_/g," "],[S,k]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[v,[b,"Acer"],[S,E]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[v,[b,"Meizu"],[S,k]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[v,[b,"Ulefone"],[S,k]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[b,v,[S,k]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[b,v,[S,E]],[/(surface duo)/i],[v,[b,K],[S,E]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[v,[b,"Fairphone"],[S,k]],[/(u304aa)/i],[v,[b,"AT&T"],[S,k]],[/\bsie-(\w*)/i],[v,[b,"Siemens"],[S,k]],[/\b(rct\w+) b/i],[v,[b,"RCA"],[S,E]],[/\b(venue[\d ]{2,7}) b/i],[v,[b,"Dell"],[S,E]],[/\b(q(?:mv|ta)\w+) b/i],[v,[b,"Verizon"],[S,E]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[v,[b,"Barnes & Noble"],[S,E]],[/\b(tm\d{3}\w+) b/i],[v,[b,"NuVision"],[S,E]],[/\b(k88) b/i],[v,[b,"ZTE"],[S,E]],[/\b(nx\d{3}j) b/i],[v,[b,"ZTE"],[S,k]],[/\b(gen\d{3}) b.+49h/i],[v,[b,"Swiss"],[S,k]],[/\b(zur\d{3}) b/i],[v,[b,"Swiss"],[S,E]],[/\b((zeki)?tb.*\b) b/i],[v,[b,"Zeki"],[S,E]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[b,"Dragon Touch"],v,[S,E]],[/\b(ns-?\w{0,9}) b/i],[v,[b,"Insignia"],[S,E]],[/\b((nxa|next)-?\w{0,9}) b/i],[v,[b,"NextBook"],[S,E]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[b,"Voice"],v,[S,k]],[/\b(lvtel\-)?(v1[12]) b/i],[[b,"LvTel"],v,[S,k]],[/\b(ph-1) /i],[v,[b,"Essential"],[S,k]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[v,[b,"Envizen"],[S,E]],[/\b(trio[-\w\. ]+) b/i],[v,[b,"MachSpeed"],[S,E]],[/\btu_(1491) b/i],[v,[b,"Rotor"],[S,E]],[/(shield[\w ]+) b/i],[v,[b,"Nvidia"],[S,E]],[/(sprint) (\w+)/i],[b,v,[S,k]],[/(kin\.[onetw]{3})/i],[[v,/\./g," "],[b,K],[S,k]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[v,[b,ee],[S,E]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[v,[b,ee],[S,k]],[/smart-tv.+(samsung)/i],[b,[S,N]],[/hbbtv.+maple;(\d+)/i],[[v,/^/,"SmartTV"],[b,ae],[S,N]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[b,j],[S,N]],[/(apple) ?tv/i],[b,[v,Q+" TV"],[S,N]],[/crkey/i],[[v,V+"cast"],[b,oe],[S,N]],[/droid.+aft(\w+)( bui|\))/i],[v,[b,G],[S,N]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[v,[b,pe],[S,N]],[/(bravia[\w ]+)( bui|\))/i],[v,[b,we],[S,N]],[/(mitv-\w{5}) bui/i],[v,[b,se],[S,N]],[/Hbbtv.*(technisat) (.*);/i],[b,v,[S,N]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[b,st],[v,st],[S,N]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[S,N]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[b,v,[S,_]],[/droid.+; (shield) bui/i],[v,[b,"Nvidia"],[S,_]],[/(playstation [345portablevi]+)/i],[v,[b,we],[S,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[v,[b,K],[S,_]],[/((pebble))app/i],[b,v,[S,F]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[v,[b,Q],[S,F]],[/droid.+; (glass) \d/i],[v,[b,oe],[S,F]],[/droid.+; (wt63?0{2,3})\)/i],[v,[b,ee],[S,F]],[/(quest( 2| pro)?)/i],[v,[b,ue],[S,F]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[b,[S,B]],[/(aeobc)\b/i],[v,[b,G],[S,B]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[v,[S,k]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[v,[S,E]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[S,E]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[S,k]],[/(android[-\w\. ]{0,9});.+buil/i],[v,[b,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[P,[w,O+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[P,[w,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[w,P],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[P,w]],os:[[/microsoft (windows) (vista|xp)/i],[w,P],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[w,[P,xt,je]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[P,xt,je],[w,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[P,/_/g,"."],[w,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[w,Ee],[P,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[P,w],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[w,P],[/\(bb(10);/i],[P,[w,Y]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[P,[w,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[P,[w,X+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[P,[w,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[P,[w,"watchOS"]],[/crkey\/([\d\.]+)/i],[P,[w,V+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[w,he],P],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[w,P],[/(sunos) ?([\w\.\d]*)/i],[[w,"Solaris"],P],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[w,P]]},Ge=function(Me,ve){if(typeof Me===p&&(ve=Me,Me=r),!(this instanceof Ge))return new Ge(Me,ve).getResult();var me=typeof n!==u&&n.navigator?n.navigator:r,ye=Me||(me&&me.userAgent?me.userAgent:o),qe=me&&me.userAgentData?me.userAgentData:r,Ce=ve?ge(jt,ve):jt,Ue=me&&me.userAgent==ye;return this.getBrowser=function(){var Ie={};return Ie[w]=r,Ie[P]=r,ht.call(Ie,ye,Ce.browser),Ie[g]=Rt(Ie[P]),Ue&&me&&me.brave&&typeof me.brave.isBrave==c&&(Ie[w]="Brave"),Ie},this.getCPU=function(){var Ie={};return Ie[R]=r,ht.call(Ie,ye,Ce.cpu),Ie},this.getDevice=function(){var Ie={};return Ie[b]=r,Ie[v]=r,Ie[S]=r,ht.call(Ie,ye,Ce.device),Ue&&!Ie[S]&&qe&&qe.mobile&&(Ie[S]=k),Ue&&Ie[v]=="Macintosh"&&me&&typeof me.standalone!==u&&me.maxTouchPoints&&me.maxTouchPoints>2&&(Ie[v]="iPad",Ie[S]=E),Ie},this.getEngine=function(){var Ie={};return Ie[w]=r,Ie[P]=r,ht.call(Ie,ye,Ce.engine),Ie},this.getOS=function(){var Ie={};return Ie[w]=r,Ie[P]=r,ht.call(Ie,ye,Ce.os),Ue&&!Ie[w]&&qe&&qe.platform!="Unknown"&&(Ie[w]=qe.platform.replace(/chrome os/i,he).replace(/macos/i,Ee)),Ie},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ye},this.setUA=function(Ie){return ye=typeof Ie===h&&Ie.length>U?st(Ie,U):Ie,this},this.setUA(ye),this};Ge.VERSION=i,Ge.BROWSER=Oe([w,P,g]),Ge.CPU=Oe([R]),Ge.DEVICE=Oe([v,b,S,_,k,N,E,F,B]),Ge.ENGINE=Ge.OS=Oe([w,P]),e.exports&&(t=e.exports=Ge),t.UAParser=Ge;var ot=typeof n!==u&&(n.jQuery||n.Zepto);if(ot&&!ot.ua){var kt=new Ge;ot.ua=kt.getResult(),ot.ua.get=function(){return kt.getUA()},ot.ua.set=function(Me){kt.setUA(Me);var ve=kt.getResult();for(var me in ve)ot.ua[me]=ve[me]}}})(typeof window=="object"?window:le)})(Ib,Ib.exports);var $U=Ib.exports,nn={},zU=le&&le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nn,"__esModule",{value:!0});nn.Logger=void 0;const Ul=zU(Qg),Vl="mediasoup-client";let UU=class{constructor(t){t?(this._debug=(0,Ul.default)(`${Vl}:${t}`),this._warn=(0,Ul.default)(`${Vl}:WARN:${t}`),this._error=(0,Ul.default)(`${Vl}:ERROR:${t}`)):(this._debug=(0,Ul.default)(Vl),this._warn=(0,Ul.default)(`${Vl}:WARN`),this._error=(0,Ul.default)(`${Vl}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};nn.Logger=UU;var us={},Hx={exports:{}},Uc=typeof Reflect=="object"?Reflect:null,FE=Uc&&typeof Uc.apply=="function"?Uc.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},ym;Uc&&typeof Uc.ownKeys=="function"?ym=Uc.ownKeys:Object.getOwnPropertySymbols?ym=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ym=function(t){return Object.getOwnPropertyNames(t)};function VU(e){console&&console.warn&&console.warn(e)}var ZO=Number.isNaN||function(t){return t!==t};function It(){It.init.call(this)}Hx.exports=It;Hx.exports.once=GU;It.EventEmitter=It;It.prototype._events=void 0;It.prototype._eventsCount=0;It.prototype._maxListeners=void 0;var BE=10;function Zg(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(It,"defaultMaxListeners",{enumerable:!0,get:function(){return BE},set:function(e){if(typeof e!="number"||e<0||ZO(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");BE=e}});It.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};It.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||ZO(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function JO(e){return e._maxListeners===void 0?It.defaultMaxListeners:e._maxListeners}It.prototype.getMaxListeners=function(){return JO(this)};It.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var c=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw c.context=a,c}var u=o[t];if(u===void 0)return!1;if(typeof u=="function")FE(u,this,n);else for(var p=u.length,h=iA(u,p),r=0;r<p;++r)FE(h[r],this,n);return!0};function eA(e,t,n,r){var i,o,a;if(Zg(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),a===void 0)a=o[t]=n,++e._eventsCount;else if(typeof a=="function"?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),i=JO(e),i>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,VU(c)}return e}It.prototype.addListener=function(t,n){return eA(this,t,n,!1)};It.prototype.on=It.prototype.addListener;It.prototype.prependListener=function(t,n){return eA(this,t,n,!0)};function HU(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function tA(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=HU.bind(r);return i.listener=n,r.wrapFn=i,i}It.prototype.once=function(t,n){return Zg(n),this.on(t,tA(this,t,n)),this};It.prototype.prependOnceListener=function(t,n){return Zg(n),this.prependListener(t,tA(this,t,n)),this};It.prototype.removeListener=function(t,n){var r,i,o,a,c;if(Zg(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){c=r[a].listener,o=a;break}if(o<0)return this;o===0?r.shift():WU(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,c||n)}return this};It.prototype.off=It.prototype.removeListener;It.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function nA(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?KU(i):iA(i,i.length)}It.prototype.listeners=function(t){return nA(this,t,!0)};It.prototype.rawListeners=function(t){return nA(this,t,!1)};It.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):rA.call(e,t)};It.prototype.listenerCount=rA;function rA(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}It.prototype.eventNames=function(){return this._eventsCount>0?ym(this._events):[]};function iA(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function WU(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function KU(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function GU(e,t){return new Promise(function(n,r){function i(a){e.removeListener(t,o),r(a)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}sA(e,t,o,{once:!0}),t!=="error"&&qU(e,i,{once:!0})})}function qU(e,t,n){typeof e.on=="function"&&sA(e,"error",t,n)}function sA(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var YU=Hx.exports;Object.defineProperty(us,"__esModule",{value:!0});us.EnhancedEventEmitter=void 0;const XU=YU,QU=nn,ZU=new QU.Logger("EnhancedEventEmitter");class JU extends XU.EventEmitter{constructor(){super(),this.setMaxListeners(1/0)}emit(t,...n){return super.emit(t,...n)}safeEmit(t,...n){const r=super.listenerCount(t);try{return super.emit(t,...n)}catch(i){return ZU.error("safeEmit() | event listener threw an error [eventName:%s]:%o",t,i),!!r}}on(t,n){return super.on(t,n),this}off(t,n){return super.off(t,n),this}addListener(t,n){return super.on(t,n),this}prependListener(t,n){return super.prependListener(t,n),this}once(t,n){return super.once(t,n),this}prependOnceListener(t,n){return super.prependOnceListener(t,n),this}removeListener(t,n){return super.off(t,n),this}removeAllListeners(t){return super.removeAllListeners(t),this}listenerCount(t){return super.listenerCount(t)}listeners(t){return super.listeners(t)}rawListeners(t){return super.rawListeners(t)}}us.EnhancedEventEmitter=JU;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.InvalidStateError=Rn.UnsupportedError=void 0;class Wx extends Error{constructor(t){super(t),this.name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,Wx):this.stack=new Error(t).stack}}Rn.UnsupportedError=Wx;class Kx extends Error{constructor(t){super(t),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,Kx):this.stack=new Error(t).stack}}Rn.InvalidStateError=Kx;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.generateRandomNumber=cn.clone=void 0;function eV(e){if(e!==void 0)return Number.isNaN(e)?NaN:typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}cn.clone=eV;function tV(){return Math.round(Math.random()*1e7)}cn.generateRandomNumber=tV;var pt={},on={},Jg={},nV=le&&le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jg,"__esModule",{value:!0});Jg.Logger=void 0;const Hl=nV(Qg),Wl="h264-profile-level-id";let rV=class{constructor(t){t?(this._debug=(0,Hl.default)(`${Wl}:${t}`),this._warn=(0,Hl.default)(`${Wl}:WARN:${t}`),this._error=(0,Hl.default)(`${Wl}:ERROR:${t}`)):(this._debug=(0,Hl.default)(Wl),this._warn=(0,Hl.default)(`${Wl}:WARN`),this._error=(0,Hl.default)(`${Wl}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}};Jg.Logger=rV;Object.defineProperty(on,"__esModule",{value:!0});on.generateProfileLevelIdStringForAnswer=on.isSameProfile=on.parseSdpProfileLevelId=on.levelToString=on.profileToString=on.profileLevelIdToString=on.parseProfileLevelId=on.ProfileLevelId=on.Level=on.Profile=void 0;const iV=Jg,Qo=new iV.Logger;var Ft;(function(e){e[e.ConstrainedBaseline=1]="ConstrainedBaseline",e[e.Baseline=2]="Baseline",e[e.Main=3]="Main",e[e.ConstrainedHigh=4]="ConstrainedHigh",e[e.High=5]="High",e[e.PredictiveHigh444=6]="PredictiveHigh444"})(Ft||(on.Profile=Ft={}));var it;(function(e){e[e.L1_b=0]="L1_b",e[e.L1=10]="L1",e[e.L1_1=11]="L1_1",e[e.L1_2=12]="L1_2",e[e.L1_3=13]="L1_3",e[e.L2=20]="L2",e[e.L2_1=21]="L2_1",e[e.L2_2=22]="L2_2",e[e.L3=30]="L3",e[e.L3_1=31]="L3_1",e[e.L3_2=32]="L3_2",e[e.L4=40]="L4",e[e.L4_1=41]="L4_1",e[e.L4_2=42]="L4_2",e[e.L5=50]="L5",e[e.L5_1=51]="L5_1",e[e.L5_2=52]="L5_2"})(it||(on.Level=it={}));class ev{constructor(t,n){this.profile=t,this.level=n}}on.ProfileLevelId=ev;const sV=new ev(Ft.ConstrainedBaseline,it.L3_1);class Cs{constructor(t){this.mask=~$E("x",t),this.masked_value=$E("1",t)}isMatch(t){return this.masked_value===(t&this.mask)}}class Rs{constructor(t,n,r){this.profile_idc=t,this.profile_iop=n,this.profile=r}}const oV=[new Rs(66,new Cs("x1xx0000"),Ft.ConstrainedBaseline),new Rs(77,new Cs("1xxx0000"),Ft.ConstrainedBaseline),new Rs(88,new Cs("11xx0000"),Ft.ConstrainedBaseline),new Rs(66,new Cs("x0xx0000"),Ft.Baseline),new Rs(88,new Cs("10xx0000"),Ft.Baseline),new Rs(77,new Cs("0x0x0000"),Ft.Main),new Rs(100,new Cs("00000000"),Ft.High),new Rs(100,new Cs("00001100"),Ft.ConstrainedHigh),new Rs(244,new Cs("00000000"),Ft.PredictiveHigh444)];function oA(e){if(typeof e!="string"||e.length!==6)return;const n=parseInt(e,16);if(n===0)return;const r=n&255,i=n>>8&255,o=n>>16&255;let a;switch(r){case it.L1_1:{a=i&16?it.L1_b:it.L1_1;break}case it.L1:case it.L1_2:case it.L1_3:case it.L2:case it.L2_1:case it.L2_2:case it.L3:case it.L3_1:case it.L3_2:case it.L4:case it.L4_1:case it.L4_2:case it.L5:case it.L5_1:case it.L5_2:{a=r;break}default:{Qo.warn(`parseProfileLevelId() | unrecognized level_idc [str:${e}, level_idc:${r}]`);return}}for(const c of oV)if(o===c.profile_idc&&c.profile_iop.isMatch(i))return new ev(c.profile,a);Qo.warn(`parseProfileLevelId() | unrecognized profile_idc/profile_iop combination [str:${e}, profile_idc:${o}, profile_iop:${i}]`)}on.parseProfileLevelId=oA;function aA(e){if(e.level==it.L1_b)switch(e.profile){case Ft.ConstrainedBaseline:return"42f00b";case Ft.Baseline:return"42100b";case Ft.Main:return"4d100b";default:{Qo.warn(`profileLevelIdToString() | Level 1_b not is allowed for profile ${e.profile}`);return}}let t;switch(e.profile){case Ft.ConstrainedBaseline:{t="42e0";break}case Ft.Baseline:{t="4200";break}case Ft.Main:{t="4d00";break}case Ft.ConstrainedHigh:{t="640c";break}case Ft.High:{t="6400";break}case Ft.PredictiveHigh444:{t="f400";break}default:{Qo.warn(`profileLevelIdToString() | unrecognized profile ${e.profile}`);return}}let n=e.level.toString(16);return n.length===1&&(n=`0${n}`),`${t}${n}`}on.profileLevelIdToString=aA;function aV(e){switch(e){case Ft.ConstrainedBaseline:return"ConstrainedBaseline";case Ft.Baseline:return"Baseline";case Ft.Main:return"Main";case Ft.ConstrainedHigh:return"ConstrainedHigh";case Ft.High:return"High";case Ft.PredictiveHigh444:return"PredictiveHigh444";default:{Qo.warn(`profileToString() | unrecognized profile ${e}`);return}}}on.profileToString=aV;function lV(e){switch(e){case it.L1_b:return"1b";case it.L1:return"1";case it.L1_1:return"1.1";case it.L1_2:return"1.2";case it.L1_3:return"1.3";case it.L2:return"2";case it.L2_1:return"2.1";case it.L2_2:return"2.2";case it.L3:return"3";case it.L3_1:return"3.1";case it.L3_2:return"3.2";case it.L4:return"4";case it.L4_1:return"4.1";case it.L4_2:return"4.2";case it.L5:return"5";case it.L5_1:return"5.1";case it.L5_2:return"5.2";default:{Qo.warn(`levelToString() | unrecognized level ${e}`);return}}}on.levelToString=lV;function kf(e={}){const t=e["profile-level-id"];return t?oA(t):sV}on.parseSdpProfileLevelId=kf;function cV(e={},t={}){const n=kf(e),r=kf(t);return!!(n&&r&&n.profile===r.profile)}on.isSameProfile=cV;function uV(e={},t={}){if(!e["profile-level-id"]&&!t["profile-level-id"]){Qo.warn("generateProfileLevelIdStringForAnswer() | profile-level-id missing in local and remote params");return}const n=kf(e),r=kf(t);if(!n)throw new TypeError("invalid local_profile_level_id");if(!r)throw new TypeError("invalid remote_profile_level_id");if(n.profile!==r.profile)throw new TypeError("H264 Profile mismatch");const i=zE(e)&&zE(t),o=n.level,a=r.level,c=fV(o,a),u=i?o:c;return Qo.debug(`generateProfileLevelIdStringForAnswer() | result [profile:${n.profile}, level:${u}]`),aA(new ev(n.profile,u))}on.generateProfileLevelIdStringForAnswer=uV;function $E(e,t){return+(t[0]===e)<<7|+(t[1]===e)<<6|+(t[2]===e)<<5|+(t[3]===e)<<4|+(t[4]===e)<<3|+(t[5]===e)<<2|+(t[6]===e)<<1|+(t[7]===e)<<0}function dV(e,t){return e===it.L1_b?t!==it.L1&&t!==it.L1_b:t===it.L1_b?e!==it.L1:e<t}function fV(e,t){return dV(e,t)?e:t}function zE(e={}){const t=e["level-asymmetry-allowed"];return t===!0||t===1||t==="1"}var pV=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),hV=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),lA=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&pV(t,e,n);return hV(t,e),t};Object.defineProperty(pt,"__esModule",{value:!0});pt.canReceive=pt.canSend=pt.generateProbatorRtpParameters=pt.reduceCodecs=pt.getSendingRemoteRtpParameters=pt.getSendingRtpParameters=pt.getRecvRtpCapabilities=pt.getExtendedRtpCapabilities=pt.validateSctpCapabilities=pt.validateSctpStreamParameters=pt.validateRtpParameters=pt.validateRtpCapabilities=void 0;const UE=lA(on),mV=lA(cn),gV="probator",vV=1234,yV=127;function wV(e){if(typeof e!="object")throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);for(const t of e.codecs)DV(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)LV(t)}pt.validateRtpCapabilities=wV;function Gx(e){if(typeof e!="object")throw new TypeError("params is not an object");if(e.mid&&typeof e.mid!="string")throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");for(const t of e.codecs)MV(t);if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);for(const t of e.headerExtensions)OV(t);if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);for(const t of e.encodings)AV(t);if(e.rtcp&&typeof e.rtcp!="object")throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),NV(e.rtcp)}pt.validateRtpParameters=Gx;function bV(e){if(typeof e!="object")throw new TypeError("params is not an object");if(typeof e.streamId!="number")throw new TypeError("missing params.streamId");let t=!1;if(typeof e.ordered=="boolean"?t=!0:e.ordered=!0,e.maxPacketLifeTime&&typeof e.maxPacketLifeTime!="number")throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&typeof e.maxRetransmits!="number")throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(!t&&(e.maxPacketLifeTime||e.maxRetransmits)&&(e.ordered=!1),e.label&&typeof e.label!="string")throw new TypeError("invalid params.label");if(e.protocol&&typeof e.protocol!="string")throw new TypeError("invalid params.protocol")}pt.validateSctpStreamParameters=bV;function SV(e){if(typeof e!="object")throw new TypeError("caps is not an object");if(!e.numStreams||typeof e.numStreams!="object")throw new TypeError("missing caps.numStreams");IV(e.numStreams)}pt.validateSctpCapabilities=SV;function xV(e,t){const n={codecs:[],headerExtensions:[]};for(const r of t.codecs||[]){if(nf(r))continue;const i=(e.codecs||[]).find(a=>uA(a,r,{strict:!0,modify:!0}));if(!i)continue;const o={mimeType:i.mimeType,kind:i.kind,clockRate:i.clockRate,channels:i.channels,localPayloadType:i.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:r.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:i.parameters,remoteParameters:r.parameters,rtcpFeedback:FV(i,r)};n.codecs.push(o)}for(const r of n.codecs){const i=e.codecs.find(a=>nf(a)&&a.parameters.apt===r.localPayloadType),o=t.codecs.find(a=>nf(a)&&a.parameters.apt===r.remotePayloadType);i&&o&&(r.localRtxPayloadType=i.preferredPayloadType,r.remoteRtxPayloadType=o.preferredPayloadType)}for(const r of t.headerExtensions){const i=e.headerExtensions.find(a=>jV(a,r));if(!i)continue;const o={kind:r.kind,uri:r.uri,sendId:i.preferredId,recvId:r.preferredId,encrypt:i.preferredEncrypt,direction:"sendrecv"};switch(r.direction){case"sendrecv":{o.direction="sendrecv";break}case"recvonly":{o.direction="sendonly";break}case"sendonly":{o.direction="recvonly";break}case"inactive":{o.direction="inactive";break}}n.headerExtensions.push(o)}return n}pt.getExtendedRtpCapabilities=xV;function _V(e){const t={codecs:[],headerExtensions:[]};for(const n of e.codecs){const r={mimeType:n.mimeType,kind:n.kind,preferredPayloadType:n.remotePayloadType,clockRate:n.clockRate,channels:n.channels,parameters:n.localParameters,rtcpFeedback:n.rtcpFeedback};if(t.codecs.push(r),!n.remoteRtxPayloadType)continue;const i={mimeType:`${n.kind}/rtx`,kind:n.kind,preferredPayloadType:n.remoteRtxPayloadType,clockRate:n.clockRate,parameters:{apt:n.remotePayloadType},rtcpFeedback:[]};t.codecs.push(i)}for(const n of e.headerExtensions){if(n.direction!=="sendrecv"&&n.direction!=="recvonly")continue;const r={kind:n.kind,uri:n.uri,preferredId:n.recvId,preferredEncrypt:n.encrypt,direction:n.direction};t.headerExtensions.push(r)}return t}pt.getRecvRtpCapabilities=_V;function CV(e,t){const n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const r of t.codecs){if(r.kind!==e)continue;const i={mimeType:r.mimeType,payloadType:r.localPayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.localParameters,rtcpFeedback:r.rtcpFeedback};if(n.codecs.push(i),r.localRtxPayloadType){const o={mimeType:`${r.kind}/rtx`,payloadType:r.localRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.localPayloadType},rtcpFeedback:[]};n.codecs.push(o)}}for(const r of t.headerExtensions){if(r.kind&&r.kind!==e||r.direction!=="sendrecv"&&r.direction!=="sendonly")continue;const i={uri:r.uri,id:r.sendId,encrypt:r.encrypt,parameters:{}};n.headerExtensions.push(i)}return n}pt.getSendingRtpParameters=CV;function RV(e,t){const n={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}};for(const r of t.codecs){if(r.kind!==e)continue;const i={mimeType:r.mimeType,payloadType:r.localPayloadType,clockRate:r.clockRate,channels:r.channels,parameters:r.remoteParameters,rtcpFeedback:r.rtcpFeedback};if(n.codecs.push(i),r.localRtxPayloadType){const o={mimeType:`${r.kind}/rtx`,payloadType:r.localRtxPayloadType,clockRate:r.clockRate,parameters:{apt:r.localPayloadType},rtcpFeedback:[]};n.codecs.push(o)}}for(const r of t.headerExtensions){if(r.kind&&r.kind!==e||r.direction!=="sendrecv"&&r.direction!=="sendonly")continue;const i={uri:r.uri,id:r.sendId,encrypt:r.encrypt,parameters:{}};n.headerExtensions.push(i)}if(n.headerExtensions.some(r=>r.uri==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"))for(const r of n.codecs)r.rtcpFeedback=(r.rtcpFeedback||[]).filter(i=>i.type!=="goog-remb");else if(n.headerExtensions.some(r=>r.uri==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"))for(const r of n.codecs)r.rtcpFeedback=(r.rtcpFeedback||[]).filter(i=>i.type!=="transport-cc");else for(const r of n.codecs)r.rtcpFeedback=(r.rtcpFeedback||[]).filter(i=>i.type!=="transport-cc"&&i.type!=="goog-remb");return n}pt.getSendingRemoteRtpParameters=RV;function TV(e,t){const n=[];if(!t)n.push(e[0]),nf(e[1])&&n.push(e[1]);else{for(let r=0;r<e.length;++r)if(uA(e[r],t)){n.push(e[r]),nf(e[r+1])&&n.push(e[r+1]);break}if(n.length===0)throw new TypeError("no matching codec found")}return n}pt.reduceCodecs=TV;function EV(e){e=mV.clone(e),Gx(e);const t={mid:gV,codecs:[],headerExtensions:[],encodings:[{ssrc:vV}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=yV,t.headerExtensions=e.headerExtensions,t}pt.generateProbatorRtpParameters=EV;function PV(e,t){return t.codecs.some(n=>n.kind===e)}pt.canSend=PV;function kV(e,t){if(Gx(e),e.codecs.length===0)return!1;const n=e.codecs[0];return t.codecs.some(r=>r.remotePayloadType===n.payloadType)}pt.canReceive=kV;function DV(e){const t=new RegExp("^(audio|video)/(.+)","i");if(typeof e!="object")throw new TypeError("codec is not an object");if(!e.mimeType||typeof e.mimeType!="string")throw new TypeError("missing codec.mimeType");const n=t.exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");if(e.kind=n[1].toLowerCase(),e.preferredPayloadType&&typeof e.preferredPayloadType!="number")throw new TypeError("invalid codec.preferredPayloadType");if(typeof e.clockRate!="number")throw new TypeError("missing codec.clockRate");e.kind==="audio"?typeof e.channels!="number"&&(e.channels=1):delete e.channels,(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const r of Object.keys(e.parameters)){let i=e.parameters[r];if(i===void 0&&(e.parameters[r]="",i=""),typeof i!="string"&&typeof i!="number")throw new TypeError(`invalid codec parameter [key:${r}s, value:${i}]`);if(r==="apt"&&typeof i!="number")throw new TypeError("invalid codec apt parameter")}(!e.rtcpFeedback||!Array.isArray(e.rtcpFeedback))&&(e.rtcpFeedback=[]);for(const r of e.rtcpFeedback)cA(r)}function cA(e){if(typeof e!="object")throw new TypeError("fb is not an object");if(!e.type||typeof e.type!="string")throw new TypeError("missing fb.type");(!e.parameter||typeof e.parameter!="string")&&(e.parameter="")}function LV(e){if(typeof e!="object")throw new TypeError("ext is not an object");if(e.kind!=="audio"&&e.kind!=="video")throw new TypeError("invalid ext.kind");if(!e.uri||typeof e.uri!="string")throw new TypeError("missing ext.uri");if(typeof e.preferredId!="number")throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&typeof e.preferredEncrypt!="boolean")throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&typeof e.direction!="string")throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}function MV(e){const t=new RegExp("^(audio|video)/(.+)","i");if(typeof e!="object")throw new TypeError("codec is not an object");if(!e.mimeType||typeof e.mimeType!="string")throw new TypeError("missing codec.mimeType");const n=t.exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");if(typeof e.payloadType!="number")throw new TypeError("missing codec.payloadType");if(typeof e.clockRate!="number")throw new TypeError("missing codec.clockRate");n[1].toLowerCase()==="audio"?typeof e.channels!="number"&&(e.channels=1):delete e.channels,(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const i of Object.keys(e.parameters)){let o=e.parameters[i];if(o===void 0&&(e.parameters[i]="",o=""),typeof o!="string"&&typeof o!="number")throw new TypeError(`invalid codec parameter [key:${i}s, value:${o}]`);if(i==="apt"&&typeof o!="number")throw new TypeError("invalid codec apt parameter")}(!e.rtcpFeedback||!Array.isArray(e.rtcpFeedback))&&(e.rtcpFeedback=[]);for(const i of e.rtcpFeedback)cA(i)}function OV(e){if(typeof e!="object")throw new TypeError("ext is not an object");if(!e.uri||typeof e.uri!="string")throw new TypeError("missing ext.uri");if(typeof e.id!="number")throw new TypeError("missing ext.id");if(e.encrypt&&typeof e.encrypt!="boolean")throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),(!e.parameters||typeof e.parameters!="object")&&(e.parameters={});for(const t of Object.keys(e.parameters)){let n=e.parameters[t];if(n===void 0&&(e.parameters[t]="",n=""),typeof n!="string"&&typeof n!="number")throw new TypeError("invalid header extension parameter")}}function AV(e){if(typeof e!="object")throw new TypeError("encoding is not an object");if(e.ssrc&&typeof e.ssrc!="number")throw new TypeError("invalid encoding.ssrc");if(e.rid&&typeof e.rid!="string")throw new TypeError("invalid encoding.rid");if(e.rtx&&typeof e.rtx!="object")throw new TypeError("invalid encoding.rtx");if(e.rtx&&typeof e.rtx.ssrc!="number")throw new TypeError("missing encoding.rtx.ssrc");if((!e.dtx||typeof e.dtx!="boolean")&&(e.dtx=!1),e.scalabilityMode&&typeof e.scalabilityMode!="string")throw new TypeError("invalid encoding.scalabilityMode")}function NV(e){if(typeof e!="object")throw new TypeError("rtcp is not an object");if(e.cname&&typeof e.cname!="string")throw new TypeError("invalid rtcp.cname");(!e.reducedSize||typeof e.reducedSize!="boolean")&&(e.reducedSize=!0)}function IV(e){if(typeof e!="object")throw new TypeError("numStreams is not an object");if(typeof e.OS!="number")throw new TypeError("missing numStreams.OS");if(typeof e.MIS!="number")throw new TypeError("missing numStreams.MIS")}function nf(e){return e?/.+\/rtx$/i.test(e.mimeType):!1}function uA(e,t,{strict:n=!1,modify:r=!1}={}){const i=e.mimeType.toLowerCase(),o=t.mimeType.toLowerCase();if(i!==o||e.clockRate!==t.clockRate||e.channels!==t.channels)return!1;switch(i){case"video/h264":{if(n){const a=e.parameters["packetization-mode"]||0,c=t.parameters["packetization-mode"]||0;if(a!==c||!UE.isSameProfile(e.parameters,t.parameters))return!1;let u;try{u=UE.generateProfileLevelIdStringForAnswer(e.parameters,t.parameters)}catch{return!1}r&&(u?(e.parameters["profile-level-id"]=u,t.parameters["profile-level-id"]=u):(delete e.parameters["profile-level-id"],delete t.parameters["profile-level-id"]))}break}case"video/vp9":{if(n){const a=e.parameters["profile-id"]||0,c=t.parameters["profile-id"]||0;if(a!==c)return!1}break}}return!0}function jV(e,t){return!(e.kind&&t.kind&&e.kind!==t.kind||e.uri!==t.uri)}function FV(e,t){const n=[];for(const r of e.rtcpFeedback||[]){const i=(t.rtcpFeedback||[]).find(o=>o.type===r.type&&(o.parameter===r.parameter||!o.parameter&&!r.parameter));i&&n.push(i)}return n}var Xf={},Ko={},tv={};Object.defineProperty(tv,"__esModule",{value:!0});tv.Logger=void 0;const Kl=Qg,Gl="awaitqueue";class BV{constructor(t){t?(this._debug=(0,Kl.default)(`${Gl}:${t}`),this._warn=(0,Kl.default)(`${Gl}:WARN:${t}`),this._error=(0,Kl.default)(`${Gl}:ERROR:${t}`)):(this._debug=(0,Kl.default)(Gl),this._warn=(0,Kl.default)(`${Gl}:WARN`),this._error=(0,Kl.default)(`${Gl}:ERROR`)),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}get debug(){return this._debug}get warn(){return this._warn}get error(){return this._error}}tv.Logger=BV;Object.defineProperty(Ko,"__esModule",{value:!0});Ko.AwaitQueue=Ko.AwaitQueueRemovedTaskError=Ko.AwaitQueueStoppedError=void 0;const $V=tv,go=new $V.Logger;class nv extends Error{constructor(t){super(t??"AwaitQueue stopped"),this.name="AwaitQueueStoppedError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,nv)}}Ko.AwaitQueueStoppedError=nv;class rv extends Error{constructor(t){super(t??"AwaitQueue task removed"),this.name="AwaitQueueRemovedTaskError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,rv)}}Ko.AwaitQueueRemovedTaskError=rv;class zV{constructor(){this.pendingTasks=new Map,this.nextTaskId=0,this.stopping=!1}get size(){return this.pendingTasks.size}async push(t,n){if(n=n??t.name,go.debug(`push() [name:${n}]`),typeof t!="function")throw new TypeError("given task is not a function");if(n)try{Object.defineProperty(t,"name",{value:n})}catch{}return new Promise((r,i)=>{const o={id:this.nextTaskId++,task:t,name:n,enqueuedAt:Date.now(),executedAt:void 0,completed:!1,resolve:a=>{if(o.completed)return;o.completed=!0,this.pendingTasks.delete(o.id),go.debug(`resolving task [name:${o.name}]`),r(a);const[c]=this.pendingTasks.values();c&&!c.executedAt&&this.execute(c)},reject:a=>{if(!o.completed&&(o.completed=!0,this.pendingTasks.delete(o.id),go.debug(`rejecting task [name:${o.name}]: %s`,String(a)),i(a),!this.stopping)){const[c]=this.pendingTasks.values();c&&!c.executedAt&&this.execute(c)}}};this.pendingTasks.set(o.id,o),this.pendingTasks.size===1&&this.execute(o)})}stop(){go.debug("stop()"),this.stopping=!0;for(const t of this.pendingTasks.values())go.debug(`stop() | stopping task [name:${t.name}]`),t.reject(new nv);this.stopping=!1}remove(t){go.debug(`remove() [taskIdx:${t}]`);const n=Array.from(this.pendingTasks.values())[t];if(!n){go.debug(`stop() | no task with given idx [taskIdx:${t}]`);return}n.reject(new rv)}dump(){const t=Date.now();let n=0;return Array.from(this.pendingTasks.values()).map(r=>({idx:n++,task:r.task,name:r.name,enqueuedTime:r.executedAt?r.executedAt-r.enqueuedAt:t-r.enqueuedAt,executionTime:r.executedAt?t-r.executedAt:0}))}async execute(t){if(go.debug(`execute() [name:${t.name}]`),t.executedAt)throw new Error("task already being executed");t.executedAt=Date.now();try{const n=await t.task();t.resolve(n)}catch(n){t.reject(n)}}}Ko.AwaitQueue=zV;/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let VE;var UV=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:le):e=>(VE||(VE=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0)),Qf={};Object.defineProperty(Qf,"__esModule",{value:!0});Qf.Producer=void 0;const VV=nn,HE=us,ql=Rn,Vi=new VV.Logger("Producer");class HV extends HE.EnhancedEventEmitter{constructor({id:t,localId:n,rtpSender:r,track:i,rtpParameters:o,stopTracks:a,disableTrackOnPause:c,zeroRtpOnPause:u,appData:p}){super(),this._closed=!1,this._observer=new HE.EnhancedEventEmitter,Vi.debug("constructor()"),this._id=t,this._localId=n,this._rtpSender=r,this._track=i,this._kind=i.kind,this._rtpParameters=o,this._paused=c?!i.enabled:!1,this._maxSpatialLayer=void 0,this._stopTracks=a,this._disableTrackOnPause=c,this._zeroRtpOnPause=u,this._appData=p||{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get closed(){return this._closed}get kind(){return this._kind}get rtpSender(){return this._rtpSender}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get maxSpatialLayer(){return this._maxSpatialLayer}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Vi.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Vi.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new ql.InvalidStateError("closed");return new Promise((t,n)=>{this.safeEmit("@getstats",t,n)})}pause(){if(Vi.debug("pause()"),this._closed){Vi.error("pause() | Producer closed");return}this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&new Promise((t,n)=>{this.safeEmit("@pause",t,n)}).catch(()=>{}),this._observer.safeEmit("pause")}resume(){if(Vi.debug("resume()"),this._closed){Vi.error("resume() | Producer closed");return}this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&new Promise((t,n)=>{this.safeEmit("@resume",t,n)}).catch(()=>{}),this._observer.safeEmit("resume")}async replaceTrack({track:t}){if(Vi.debug("replaceTrack() [track:%o]",t),this._closed){if(t&&this._stopTracks)try{t.stop()}catch{}throw new ql.InvalidStateError("closed")}else if(t&&t.readyState==="ended")throw new ql.InvalidStateError("track ended");if(t===this._track){Vi.debug("replaceTrack() | same track, ignored");return}await new Promise((n,r)=>{this.safeEmit("@replacetrack",t,n,r)}),this.destroyTrack(),this._track=t,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this.handleTrack()}async setMaxSpatialLayer(t){if(this._closed)throw new ql.InvalidStateError("closed");if(this._kind!=="video")throw new ql.UnsupportedError("not a video Producer");if(typeof t!="number")throw new TypeError("invalid spatialLayer");t!==this._maxSpatialLayer&&(await new Promise((n,r)=>{this.safeEmit("@setmaxspatiallayer",t,n,r)}).catch(()=>{}),this._maxSpatialLayer=t)}async setRtpEncodingParameters(t){if(this._closed)throw new ql.InvalidStateError("closed");if(typeof t!="object")throw new TypeError("invalid params");await new Promise((n,r)=>{this.safeEmit("@setrtpencodingparameters",t,n,r)})}onTrackEnded(){Vi.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track&&this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){if(this._track)try{this._track.removeEventListener("ended",this.onTrackEnded),this._stopTracks&&this._track.stop()}catch{}}}Qf.Producer=HV;var Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.Consumer=void 0;const WV=nn,WE=us,KV=Rn,Hi=new WV.Logger("Consumer");class GV extends WE.EnhancedEventEmitter{constructor({id:t,localId:n,producerId:r,rtpReceiver:i,track:o,rtpParameters:a,appData:c}){super(),this._closed=!1,this._observer=new WE.EnhancedEventEmitter,Hi.debug("constructor()"),this._id=t,this._localId=n,this._producerId=r,this._rtpReceiver=i,this._track=o,this._rtpParameters=a,this._paused=!o.enabled,this._appData=c||{},this.onTrackEnded=this.onTrackEnded.bind(this),this.handleTrack()}get id(){return this._id}get localId(){return this._localId}get producerId(){return this._producerId}get closed(){return this._closed}get kind(){return this._track.kind}get rtpReceiver(){return this._rtpReceiver}get track(){return this._track}get rtpParameters(){return this._rtpParameters}get paused(){return this._paused}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Hi.debug("close()"),this._closed=!0,this.destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Hi.debug("transportClosed()"),this._closed=!0,this.destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}async getStats(){if(this._closed)throw new KV.InvalidStateError("closed");return new Promise((t,n)=>{this.safeEmit("@getstats",t,n)})}pause(){if(Hi.debug("pause()"),this._closed){Hi.error("pause() | Consumer closed");return}if(this._paused){Hi.debug("pause() | Consumer is already paused");return}this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause")}resume(){if(Hi.debug("resume()"),this._closed){Hi.error("resume() | Consumer closed");return}if(!this._paused){Hi.debug("resume() | Consumer is already resumed");return}this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume")}onTrackEnded(){Hi.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}handleTrack(){this._track.addEventListener("ended",this.onTrackEnded)}destroyTrack(){try{this._track.removeEventListener("ended",this.onTrackEnded),this._track.stop()}catch{}}}Zf.Consumer=GV;var Jf={};Object.defineProperty(Jf,"__esModule",{value:!0});Jf.DataProducer=void 0;const qV=nn,KE=us,YV=Rn,Ts=new qV.Logger("DataProducer");class XV extends KE.EnhancedEventEmitter{constructor({id:t,dataChannel:n,sctpStreamParameters:r,appData:i}){super(),this._closed=!1,this._observer=new KE.EnhancedEventEmitter,Ts.debug("constructor()"),this._id=t,this._dataChannel=n,this._sctpStreamParameters=r,this._appData=i||{},this.handleDataChannel()}get id(){return this._id}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get bufferedAmount(){return this._dataChannel.bufferedAmount}get bufferedAmountLowThreshold(){return this._dataChannel.bufferedAmountLowThreshold}set bufferedAmountLowThreshold(t){this._dataChannel.bufferedAmountLowThreshold=t}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Ts.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Ts.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}send(t){if(Ts.debug("send()"),this._closed)throw new YV.InvalidStateError("closed");this._dataChannel.send(t)}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(Ts.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",t=>{if(this._closed)return;let{error:n}=t;n||(n=new Error("unknown DataChannel error")),n.errorDetail==="sctp-failure"?Ts.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",n.sctpCauseCode,n.message):Ts.error('DataChannel "error" event: %o',n),this.safeEmit("error",n)}),this._dataChannel.addEventListener("close",()=>{this._closed||(Ts.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",()=>{this._closed||Ts.warn('DataChannel "message" event in a DataProducer, message discarded')}),this._dataChannel.addEventListener("bufferedamountlow",()=>{this._closed||this.safeEmit("bufferedamountlow")})}}Jf.DataProducer=XV;var ep={};Object.defineProperty(ep,"__esModule",{value:!0});ep.DataConsumer=void 0;const QV=nn,GE=us,Pa=new QV.Logger("DataConsumer");class ZV extends GE.EnhancedEventEmitter{constructor({id:t,dataProducerId:n,dataChannel:r,sctpStreamParameters:i,appData:o}){super(),this._closed=!1,this._observer=new GE.EnhancedEventEmitter,Pa.debug("constructor()"),this._id=t,this._dataProducerId=n,this._dataChannel=r,this._sctpStreamParameters=i,this._appData=o||{},this.handleDataChannel()}get id(){return this._id}get dataProducerId(){return this._dataProducerId}get closed(){return this._closed}get sctpStreamParameters(){return this._sctpStreamParameters}get readyState(){return this._dataChannel.readyState}get label(){return this._dataChannel.label}get protocol(){return this._dataChannel.protocol}get binaryType(){return this._dataChannel.binaryType}set binaryType(t){this._dataChannel.binaryType=t}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){this._closed||(Pa.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}transportClosed(){this._closed||(Pa.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}handleDataChannel(){this._dataChannel.addEventListener("open",()=>{this._closed||(Pa.debug('DataChannel "open" event'),this.safeEmit("open"))}),this._dataChannel.addEventListener("error",t=>{if(this._closed)return;let{error:n}=t;n||(n=new Error("unknown DataChannel error")),n.errorDetail==="sctp-failure"?Pa.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",n.sctpCauseCode,n.message):Pa.error('DataChannel "error" event: %o',n),this.safeEmit("error",n)}),this._dataChannel.addEventListener("close",()=>{this._closed||(Pa.warn('DataChannel "close" event'),this._closed=!0,this.emit("@close"),this.safeEmit("close"),this._observer.safeEmit("close"))}),this._dataChannel.addEventListener("message",t=>{this._closed||this.safeEmit("message",t.data)})}}ep.DataConsumer=ZV;var JV=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),eH=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),dA=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&JV(t,e,n);return eH(t,e),t},tH=le&&le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xf,"__esModule",{value:!0});Xf.Transport=void 0;const nH=Ko,Ow=tH(UV),rH=nn,qE=us,Nn=Rn,Aw=dA(cn),_d=dA(pt),iH=Qf,sH=Zf,oH=Jf,aH=ep,wn=new rH.Logger("Transport");class lH{constructor(t){this.consumerOptions=t,this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class cH extends qE.EnhancedEventEmitter{constructor({direction:t,id:n,iceParameters:r,iceCandidates:i,dtlsParameters:o,sctpParameters:a,iceServers:c,iceTransportPolicy:u,additionalSettings:p,proprietaryConstraints:h,appData:g,handlerFactory:v,extendedRtpCapabilities:w,canProduceByKind:S}){super(),this._closed=!1,this._iceGatheringState="new",this._connectionState="new",this._producers=new Map,this._consumers=new Map,this._dataProducers=new Map,this._dataConsumers=new Map,this._probatorConsumerCreated=!1,this._awaitQueue=new nH.AwaitQueue,this._pendingConsumerTasks=[],this._consumerCreationInProgress=!1,this._pendingPauseConsumers=new Map,this._consumerPauseInProgress=!1,this._pendingResumeConsumers=new Map,this._consumerResumeInProgress=!1,this._pendingCloseConsumers=new Map,this._consumerCloseInProgress=!1,this._observer=new qE.EnhancedEventEmitter,wn.debug("constructor() [id:%s, direction:%s]",n,t),this._id=n,this._direction=t,this._extendedRtpCapabilities=w,this._canProduceByKind=S,this._maxSctpMessageSize=a?a.maxMessageSize:null,p=Aw.clone(p)||{},delete p.iceServers,delete p.iceTransportPolicy,delete p.bundlePolicy,delete p.rtcpMuxPolicy,delete p.sdpSemantics,this._handler=v(),this._handler.run({direction:t,iceParameters:r,iceCandidates:i,dtlsParameters:o,sctpParameters:a,iceServers:c,iceTransportPolicy:u,additionalSettings:p,proprietaryConstraints:h,extendedRtpCapabilities:w}),this._appData=g||{},this.handleHandler()}get id(){return this._id}get closed(){return this._closed}get direction(){return this._direction}get handler(){return this._handler}get iceGatheringState(){return this._iceGatheringState}get connectionState(){return this._connectionState}get appData(){return this._appData}set appData(t){this._appData=t}get observer(){return this._observer}close(){if(!this._closed){wn.debug("close()"),this._closed=!0,this._awaitQueue.stop(),this._handler.close(),this._connectionState="closed";for(const t of this._producers.values())t.transportClosed();this._producers.clear();for(const t of this._consumers.values())t.transportClosed();this._consumers.clear();for(const t of this._dataProducers.values())t.transportClosed();this._dataProducers.clear();for(const t of this._dataConsumers.values())t.transportClosed();this._dataConsumers.clear(),this._observer.safeEmit("close")}}async getStats(){if(this._closed)throw new Nn.InvalidStateError("closed");return this._handler.getTransportStats()}async restartIce({iceParameters:t}){if(wn.debug("restartIce()"),this._closed)throw new Nn.InvalidStateError("closed");if(!t)throw new TypeError("missing iceParameters");return this._awaitQueue.push(async()=>await this._handler.restartIce(t),"transport.restartIce()")}async updateIceServers({iceServers:t}={}){if(wn.debug("updateIceServers()"),this._closed)throw new Nn.InvalidStateError("closed");if(!Array.isArray(t))throw new TypeError("missing iceServers");return this._awaitQueue.push(async()=>this._handler.updateIceServers(t),"transport.updateIceServers()")}async produce({track:t,encodings:n,codecOptions:r,codec:i,stopTracks:o=!0,disableTrackOnPause:a=!0,zeroRtpOnPause:c=!1,appData:u={}}={}){if(wn.debug("produce() [track:%o]",t),this._closed)throw new Nn.InvalidStateError("closed");if(t){if(this._direction!=="send")throw new Nn.UnsupportedError("not a sending Transport");if(this._canProduceByKind[t.kind]){if(t.readyState==="ended")throw new Nn.InvalidStateError("track ended");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("produce")===0)throw new TypeError('no "produce" listener set into this transport');if(u&&typeof u!="object")throw new TypeError("if given, appData must be an object")}else throw new Nn.UnsupportedError(`cannot produce ${t.kind}`)}else throw new TypeError("missing track");return this._awaitQueue.push(async()=>{let p;if(n&&!Array.isArray(n))throw TypeError("encodings must be an array");n&&n.length===0?p=void 0:n&&(p=n.map(w=>{const S={active:!0};return w.active===!1&&(S.active=!1),typeof w.dtx=="boolean"&&(S.dtx=w.dtx),typeof w.scalabilityMode=="string"&&(S.scalabilityMode=w.scalabilityMode),typeof w.scaleResolutionDownBy=="number"&&(S.scaleResolutionDownBy=w.scaleResolutionDownBy),typeof w.maxBitrate=="number"&&(S.maxBitrate=w.maxBitrate),typeof w.maxFramerate=="number"&&(S.maxFramerate=w.maxFramerate),typeof w.adaptivePtime=="boolean"&&(S.adaptivePtime=w.adaptivePtime),typeof w.priority=="string"&&(S.priority=w.priority),typeof w.networkPriority=="string"&&(S.networkPriority=w.networkPriority),S}));const{localId:h,rtpParameters:g,rtpSender:v}=await this._handler.send({track:t,encodings:p,codecOptions:r,codec:i});try{_d.validateRtpParameters(g);const{id:w}=await new Promise((b,P)=>{this.safeEmit("produce",{kind:t.kind,rtpParameters:g,appData:u},b,P)}),S=new iH.Producer({id:w,localId:h,rtpSender:v,track:t,rtpParameters:g,stopTracks:o,disableTrackOnPause:a,zeroRtpOnPause:c,appData:u});return this._producers.set(S.id,S),this.handleProducer(S),this._observer.safeEmit("newproducer",S),S}catch(w){throw this._handler.stopSending(h).catch(()=>{}),w}},"transport.produce()").catch(p=>{if(o)try{t.stop()}catch{}throw p})}async consume({id:t,producerId:n,kind:r,rtpParameters:i,streamId:o,appData:a={}}){if(wn.debug("consume()"),i=Aw.clone(i),this._closed)throw new Nn.InvalidStateError("closed");if(this._direction!=="recv")throw new Nn.UnsupportedError("not a receiving Transport");if(typeof t!="string")throw new TypeError("missing id");if(typeof n!="string")throw new TypeError("missing producerId");if(r!=="audio"&&r!=="video")throw new TypeError(`invalid kind '${r}'`);if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(a&&typeof a!="object")throw new TypeError("if given, appData must be an object");if(!_d.canReceive(i,this._extendedRtpCapabilities))throw new Nn.UnsupportedError("cannot consume this Producer");const u=new lH({id:t,producerId:n,kind:r,rtpParameters:i,streamId:o,appData:a});return this._pendingConsumerTasks.push(u),(0,Ow.default)(()=>{this._closed||this._consumerCreationInProgress===!1&&this.createPendingConsumers()}),u.promise}async produceData({ordered:t=!0,maxPacketLifeTime:n,maxRetransmits:r,label:i="",protocol:o="",appData:a={}}={}){if(wn.debug("produceData()"),this._closed)throw new Nn.InvalidStateError("closed");if(this._direction!=="send")throw new Nn.UnsupportedError("not a sending Transport");if(this._maxSctpMessageSize){if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(this.listenerCount("producedata")===0)throw new TypeError('no "producedata" listener set into this transport');if(a&&typeof a!="object")throw new TypeError("if given, appData must be an object")}else throw new Nn.UnsupportedError("SCTP not enabled by remote Transport");return(n||r)&&(t=!1),this._awaitQueue.push(async()=>{const{dataChannel:c,sctpStreamParameters:u}=await this._handler.sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:o});_d.validateSctpStreamParameters(u);const{id:p}=await new Promise((g,v)=>{this.safeEmit("producedata",{sctpStreamParameters:u,label:i,protocol:o,appData:a},g,v)}),h=new oH.DataProducer({id:p,dataChannel:c,sctpStreamParameters:u,appData:a});return this._dataProducers.set(h.id,h),this.handleDataProducer(h),this._observer.safeEmit("newdataproducer",h),h},"transport.produceData()")}async consumeData({id:t,dataProducerId:n,sctpStreamParameters:r,label:i="",protocol:o="",appData:a={}}){if(wn.debug("consumeData()"),r=Aw.clone(r),this._closed)throw new Nn.InvalidStateError("closed");if(this._direction!=="recv")throw new Nn.UnsupportedError("not a receiving Transport");if(this._maxSctpMessageSize){if(typeof t!="string")throw new TypeError("missing id");if(typeof n!="string")throw new TypeError("missing dataProducerId");if(this.listenerCount("connect")===0&&this._connectionState==="new")throw new TypeError('no "connect" listener set into this transport');if(a&&typeof a!="object")throw new TypeError("if given, appData must be an object")}else throw new Nn.UnsupportedError("SCTP not enabled by remote Transport");return _d.validateSctpStreamParameters(r),this._awaitQueue.push(async()=>{const{dataChannel:c}=await this._handler.receiveDataChannel({sctpStreamParameters:r,label:i,protocol:o}),u=new aH.DataConsumer({id:t,dataProducerId:n,dataChannel:c,sctpStreamParameters:r,appData:a});return this._dataConsumers.set(u.id,u),this.handleDataConsumer(u),this._observer.safeEmit("newdataconsumer",u),u},"transport.consumeData()")}async createPendingConsumers(){this._consumerCreationInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingConsumerTasks.length===0){wn.debug("createPendingConsumers() | there is no Consumer to be created");return}const t=[...this._pendingConsumerTasks];this._pendingConsumerTasks=[];let n;const r=[];for(const i of t){const{id:o,kind:a,rtpParameters:c,streamId:u}=i.consumerOptions;r.push({trackId:o,kind:a,rtpParameters:c,streamId:u})}try{const i=await this._handler.receive(r);for(let o=0;o<i.length;++o){const a=t[o],c=i[o],{id:u,producerId:p,kind:h,rtpParameters:g,appData:v}=a.consumerOptions,{localId:w,rtpReceiver:S,track:b}=c,P=new sH.Consumer({id:u,localId:w,producerId:p,rtpReceiver:S,track:b,rtpParameters:g,appData:v});this._consumers.set(P.id,P),this.handleConsumer(P),!this._probatorConsumerCreated&&!n&&h==="video"&&(n=P),this._observer.safeEmit("newconsumer",P),a.resolve(P)}}catch(i){for(const o of t)o.reject(i)}if(n)try{const i=_d.generateProbatorRtpParameters(n.rtpParameters);await this._handler.receive([{trackId:"probator",kind:"video",rtpParameters:i}]),wn.debug("createPendingConsumers() | Consumer for RTP probation created"),this._probatorConsumerCreated=!0}catch(i){wn.error("createPendingConsumers() | failed to create Consumer for RTP probation:%o",i)}},"transport.createPendingConsumers()").then(()=>{this._consumerCreationInProgress=!1,this._pendingConsumerTasks.length>0&&this.createPendingConsumers()}).catch(()=>{})}pausePendingConsumers(){this._consumerPauseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingPauseConsumers.size===0){wn.debug("pausePendingConsumers() | there is no Consumer to be paused");return}const t=Array.from(this._pendingPauseConsumers.values());this._pendingPauseConsumers.clear();try{const n=t.map(r=>r.localId);await this._handler.pauseReceiving(n)}catch(n){wn.error("pausePendingConsumers() | failed to pause Consumers:",n)}},"transport.pausePendingConsumers").then(()=>{this._consumerPauseInProgress=!1,this._pendingPauseConsumers.size>0&&this.pausePendingConsumers()}).catch(()=>{})}resumePendingConsumers(){this._consumerResumeInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingResumeConsumers.size===0){wn.debug("resumePendingConsumers() | there is no Consumer to be resumed");return}const t=Array.from(this._pendingResumeConsumers.values());this._pendingResumeConsumers.clear();try{const n=t.map(r=>r.localId);await this._handler.resumeReceiving(n)}catch(n){wn.error("resumePendingConsumers() | failed to resume Consumers:",n)}},"transport.resumePendingConsumers").then(()=>{this._consumerResumeInProgress=!1,this._pendingResumeConsumers.size>0&&this.resumePendingConsumers()}).catch(()=>{})}closePendingConsumers(){this._consumerCloseInProgress=!0,this._awaitQueue.push(async()=>{if(this._pendingCloseConsumers.size===0){wn.debug("closePendingConsumers() | there is no Consumer to be closed");return}const t=Array.from(this._pendingCloseConsumers.values());this._pendingCloseConsumers.clear();try{await this._handler.stopReceiving(t.map(n=>n.localId))}catch(n){wn.error("closePendingConsumers() | failed to close Consumers:",n)}},"transport.closePendingConsumers").then(()=>{this._consumerCloseInProgress=!1,this._pendingCloseConsumers.size>0&&this.closePendingConsumers()}).catch(()=>{})}handleHandler(){const t=this._handler;t.on("@connect",({dtlsParameters:n},r,i)=>{if(this._closed){i(new Nn.InvalidStateError("closed"));return}this.safeEmit("connect",{dtlsParameters:n},r,i)}),t.on("@icegatheringstatechange",n=>{n!==this._iceGatheringState&&(wn.debug("ICE gathering state changed to %s",n),this._iceGatheringState=n,this._closed||this.safeEmit("icegatheringstatechange",n))}),t.on("@connectionstatechange",n=>{n!==this._connectionState&&(wn.debug("connection state changed to %s",n),this._connectionState=n,this._closed||this.safeEmit("connectionstatechange",n))})}handleProducer(t){t.on("@close",()=>{this._producers.delete(t.id),!this._closed&&this._awaitQueue.push(async()=>await this._handler.stopSending(t.localId),"producer @close event").catch(n=>wn.warn("producer.close() failed:%o",n))}),t.on("@pause",(n,r)=>{this._awaitQueue.push(async()=>await this._handler.pauseSending(t.localId),"producer @pause event").then(n).catch(r)}),t.on("@resume",(n,r)=>{this._awaitQueue.push(async()=>await this._handler.resumeSending(t.localId),"producer @resume event").then(n).catch(r)}),t.on("@replacetrack",(n,r,i)=>{this._awaitQueue.push(async()=>await this._handler.replaceTrack(t.localId,n),"producer @replacetrack event").then(r).catch(i)}),t.on("@setmaxspatiallayer",(n,r,i)=>{this._awaitQueue.push(async()=>await this._handler.setMaxSpatialLayer(t.localId,n),"producer @setmaxspatiallayer event").then(r).catch(i)}),t.on("@setrtpencodingparameters",(n,r,i)=>{this._awaitQueue.push(async()=>await this._handler.setRtpEncodingParameters(t.localId,n),"producer @setrtpencodingparameters event").then(r).catch(i)}),t.on("@getstats",(n,r)=>{if(this._closed)return r(new Nn.InvalidStateError("closed"));this._handler.getSenderStats(t.localId).then(n).catch(r)})}handleConsumer(t){t.on("@close",()=>{this._consumers.delete(t.id),this._pendingPauseConsumers.delete(t.id),this._pendingResumeConsumers.delete(t.id),!this._closed&&(this._pendingCloseConsumers.set(t.id,t),this._consumerCloseInProgress===!1&&this.closePendingConsumers())}),t.on("@pause",()=>{this._pendingResumeConsumers.has(t.id)&&this._pendingResumeConsumers.delete(t.id),this._pendingPauseConsumers.set(t.id,t),(0,Ow.default)(()=>{this._closed||this._consumerPauseInProgress===!1&&this.pausePendingConsumers()})}),t.on("@resume",()=>{this._pendingPauseConsumers.has(t.id)&&this._pendingPauseConsumers.delete(t.id),this._pendingResumeConsumers.set(t.id,t),(0,Ow.default)(()=>{this._closed||this._consumerResumeInProgress===!1&&this.resumePendingConsumers()})}),t.on("@getstats",(n,r)=>{if(this._closed)return r(new Nn.InvalidStateError("closed"));this._handler.getReceiverStats(t.localId).then(n).catch(r)})}handleDataProducer(t){t.on("@close",()=>{this._dataProducers.delete(t.id)})}handleDataConsumer(t){t.on("@close",()=>{this._dataConsumers.delete(t.id)})}}Xf.Transport=cH;var iv={},un={},fA={},pA={exports:{}},YE=pA.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=e.raddr!=null?" raddr %s rport %d":"%v%v",t+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(t+=" generation %d"),t+=e["network-id"]!=null?" network-id %d":"%v",t+=e["network-cost"]!=null?" network-cost %d":"%v",t}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return e.attribute!=null&&(t+=" %s",e.value!=null&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=e.id!=null?"id=%s %s":"%v%s",t+=e.mediaClockValue!=null?"=%s":"",t+=e.rateNumerator!=null?" rate=%s":"",t+=e.rateDenominator!=null?"/%s":"",t}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(YE).forEach(function(e){var t=YE[e];t.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})});var hA=pA.exports;(function(e){var t=function(c){return String(Number(c))===c?Number(c):c},n=function(c,u,p,h){if(h&&!p)u[h]=t(c[1]);else for(var g=0;g<p.length;g+=1)c[g+1]!=null&&(u[p[g]]=t(c[g+1]))},r=function(c,u,p){var h=c.name&&c.names;c.push&&!u[c.push]?u[c.push]=[]:h&&!u[c.name]&&(u[c.name]={});var g=c.push?{}:h?u[c.name]:u;n(p.match(c.reg),g,c.names,c.name),c.push&&u[c.push].push(g)},i=hA,o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(c){var u={},p=[],h=u;return c.split(/(\r\n|\r|\n)/).filter(o).forEach(function(g){var v=g[0],w=g.slice(2);v==="m"&&(p.push({rtp:[],fmtp:[]}),h=p[p.length-1]);for(var S=0;S<(i[v]||[]).length;S+=1){var b=i[v][S];if(b.reg.test(w))return r(b,h,w)}}),u.media=p,u};var a=function(c,u){var p=u.split(/=(.+)/,2);return p.length===2?c[p[0]]=t(p[1]):p.length===1&&u.length>1&&(c[p[0]]=void 0),c};e.parseParams=function(c){return c.split(/;\s?/).reduce(a,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(c){return c.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(c){for(var u=[],p=c.split(" ").map(t),h=0;h<p.length;h+=3)u.push({component:p[h],ip:p[h+1],port:p[h+2]});return u},e.parseImageAttributes=function(c){return c.split(" ").map(function(u){return u.substring(1,u.length-1).split(",").reduce(a,{})})},e.parseSimulcastStreamList=function(c){return c.split(";").map(function(u){return u.split(",").map(function(p){var h,g=!1;return p[0]!=="~"?h=t(p):(h=t(p.substring(1,p.length)),g=!0),{scid:h,paused:g}})})}})(fA);var Nw=hA,uH=/%[sdv%]/g,dH=function(e){var t=1,n=arguments,r=n.length;return e.replace(uH,function(i){if(t>=r)return i;var o=n[t];switch(t+=1,i){case"%%":return"%";case"%s":return String(o);case"%d":return Number(o);case"%v":return""}})},Cd=function(e,t,n){var r=t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format,i=[e+"="+r];if(t.names)for(var o=0;o<t.names.length;o+=1){var a=t.names[o];t.name?i.push(n[t.name][a]):i.push(n[t.names[o]])}else i.push(n[t.name]);return dH.apply(null,i)},fH=["v","o","s","i","u","e","p","c","b","t","r","z","a"],pH=["i","c","b","a"],hH=function(e,t){t=t||{},e.version==null&&(e.version=0),e.name==null&&(e.name=" "),e.media.forEach(function(o){o.payloads==null&&(o.payloads="")});var n=t.outerOrder||fH,r=t.innerOrder||pH,i=[];return n.forEach(function(o){Nw[o].forEach(function(a){a.name in e&&e[a.name]!=null?i.push(Cd(o,a,e)):a.push in e&&e[a.push]!=null&&e[a.push].forEach(function(c){i.push(Cd(o,a,c))})})}),e.media.forEach(function(o){i.push(Cd("m",Nw.m[0],o)),r.forEach(function(a){Nw[a].forEach(function(c){c.name in o&&o[c.name]!=null?i.push(Cd(a,c,o)):c.push in o&&o[c.push]!=null&&o[c.push].forEach(function(u){i.push(Cd(a,c,u))})})})}),i.join(`\r
`)+`\r
`},cl=fA,mH=hH;un.write=mH;un.parse=cl.parse;un.parseParams=cl.parseParams;un.parseFmtpConfig=cl.parseFmtpConfig;un.parsePayloads=cl.parsePayloads;un.parseRemoteCandidates=cl.parseRemoteCandidates;un.parseImageAttributes=cl.parseImageAttributes;un.parseSimulcastStreamList=cl.parseSimulcastStreamList;var Cn={},gH=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),vH=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yH=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&gH(t,e,n);return vH(t,e),t};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.applyCodecParameters=Cn.getCname=Cn.extractDtlsParameters=Cn.extractRtpCapabilities=void 0;const mA=yH(un);function wH({sdpObject:e}){const t=new Map,n=[];let r=!1,i=!1;for(const a of e.media){const c=a.type;switch(c){case"audio":{if(r)continue;r=!0;break}case"video":{if(i)continue;i=!0;break}default:continue}for(const u of a.rtp){const p={kind:c,mimeType:`${c}/${u.codec}`,preferredPayloadType:u.payload,clockRate:u.rate,channels:u.encoding,parameters:{},rtcpFeedback:[]};t.set(p.preferredPayloadType,p)}for(const u of a.fmtp||[]){const p=mA.parseParams(u.config),h=t.get(u.payload);h&&(p&&p.hasOwnProperty("profile-level-id")&&(p["profile-level-id"]=String(p["profile-level-id"])),h.parameters=p)}for(const u of a.rtcpFb||[]){const p={type:u.type,parameter:u.subtype};if(p.parameter||delete p.parameter,u.payload!=="*"){const h=t.get(u.payload);if(!h)continue;h.rtcpFeedback.push(p)}else for(const h of t.values())h.kind===c&&!/.+\/rtx$/i.test(h.mimeType)&&h.rtcpFeedback.push(p)}for(const u of a.ext||[]){if(u["encrypt-uri"])continue;const p={kind:c,uri:u.uri,preferredId:u.value};n.push(p)}}return{codecs:Array.from(t.values()),headerExtensions:n}}Cn.extractRtpCapabilities=wH;function bH({sdpObject:e}){let t=e.setup,n=e.fingerprint;if(!t||!n){const o=(e.media||[]).find(a=>a.port!==0);o&&(t??(t=o.setup),n??(n=o.fingerprint))}if(t){if(!n)throw new Error("no a=fingerprint found at SDP session or media level")}else throw new Error("no a=setup found at SDP session or media level");let r;switch(t){case"active":{r="client";break}case"passive":{r="server";break}case"actpass":{r="auto";break}}return{role:r,fingerprints:[{algorithm:n.type,value:n.hash}]}}Cn.extractDtlsParameters=bH;function SH({offerMediaObject:e}){const t=(e.ssrcs||[]).find(n=>n.attribute==="cname");return t?t.value:""}Cn.getCname=SH;function xH({offerRtpParameters:e,answerMediaObject:t}){for(const n of e.codecs){const r=n.mimeType.toLowerCase();if(r!=="audio/opus"||!(t.rtp||[]).find(c=>c.payload===n.payloadType))continue;t.fmtp=t.fmtp||[];let o=t.fmtp.find(c=>c.payload===n.payloadType);o||(o={payload:n.payloadType,config:""},t.fmtp.push(o));const a=mA.parseParams(o.config);switch(r){case"audio/opus":{const c=n.parameters["sprop-stereo"];c!==void 0&&(a.stereo=c?1:0);break}}o.config="";for(const c of Object.keys(a))o.config&&(o.config+=";"),o.config+=`${c}=${a[c]}`}}Cn.applyCodecParameters=xH;var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.addLegacySimulcast=ci.getRtpEncodings=void 0;function _H({offerMediaObject:e}){const t=new Set;for(const i of e.ssrcs||[]){const o=i.id;t.add(o)}if(t.size===0)throw new Error("no a=ssrc lines found");const n=new Map;for(const i of e.ssrcGroups||[]){if(i.semantics!=="FID")continue;let[o,a]=i.ssrcs.split(/\s+/);o=Number(o),a=Number(a),t.has(o)&&(t.delete(o),t.delete(a),n.set(o,a))}for(const i of t)n.set(i,null);const r=[];for(const[i,o]of n){const a={ssrc:i};o&&(a.rtx={ssrc:o}),r.push(a)}return r}ci.getRtpEncodings=_H;function CH({offerMediaObject:e,numStreams:t}){if(t<=1)throw new TypeError("numStreams must be greater than 1");const n=(e.ssrcs||[]).find(g=>g.attribute==="msid");if(!n)throw new Error("a=ssrc line with msid information not found");const[r,i]=n.value.split(" "),o=n.id;let a;(e.ssrcGroups||[]).some(g=>{if(g.semantics!=="FID")return!1;const v=g.ssrcs.split(/\s+/);return Number(v[0])===o?(a=Number(v[1]),!0):!1});const c=e.ssrcs.find(g=>g.attribute==="cname");if(!c)throw new Error("a=ssrc line with cname information not found");const u=c.value,p=[],h=[];for(let g=0;g<t;++g)p.push(o+g),a&&h.push(a+g);e.ssrcGroups=[],e.ssrcs=[],e.ssrcGroups.push({semantics:"SIM",ssrcs:p.join(" ")});for(let g=0;g<p.length;++g){const v=p[g];e.ssrcs.push({id:v,attribute:"cname",value:u}),e.ssrcs.push({id:v,attribute:"msid",value:`${r} ${i}`})}for(let g=0;g<h.length;++g){const v=p[g],w=h[g];e.ssrcs.push({id:w,attribute:"cname",value:u}),e.ssrcs.push({id:w,attribute:"msid",value:`${r} ${i}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${v} ${w}`})}}ci.addLegacySimulcast=CH;var ul={};Object.defineProperty(ul,"__esModule",{value:!0});ul.addNackSuppportForOpus=void 0;function RH(e){var t;for(const n of e.codecs||[])(n.mimeType.toLowerCase()==="audio/opus"||n.mimeType.toLowerCase()==="audio/multiopus")&&!((t=n.rtcpFeedback)!=null&&t.some(r=>r.type==="nack"&&!r.parameter))&&(n.rtcpFeedback||(n.rtcpFeedback=[]),n.rtcpFeedback.push({type:"nack"}))}ul.addNackSuppportForOpus=RH;var or={};Object.defineProperty(or,"__esModule",{value:!0});or.HandlerInterface=void 0;const TH=us;class EH extends TH.EnhancedEventEmitter{constructor(){super()}}or.HandlerInterface=EH;var Dr={},Go={},PH=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),kH=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),gA=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&PH(t,e,n);return kH(t,e),t};Object.defineProperty(Go,"__esModule",{value:!0});Go.OfferMediaSection=Go.AnswerMediaSection=Go.MediaSection=void 0;const DH=gA(un),XE=gA(cn);class qx{constructor({iceParameters:t,iceCandidates:n,dtlsParameters:r,planB:i=!1}){if(this._mediaObject={},this._planB=i,t&&this.setIceParameters(t),n){this._mediaObject.candidates=[];for(const o of n){const a={};a.component=1,a.foundation=o.foundation,a.ip=o.address??o.ip,a.port=o.port,a.priority=o.priority,a.transport=o.protocol,a.type=o.type,o.tcpType&&(a.tcptype=o.tcpType),this._mediaObject.candidates.push(a)}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}r&&this.setDtlsRole(r.role)}get mid(){return String(this._mediaObject.mid)}get closed(){return this._mediaObject.port===0}getObject(){return this._mediaObject}setIceParameters(t){this._mediaObject.iceUfrag=t.usernameFragment,this._mediaObject.icePwd=t.password}pause(){this._mediaObject.direction="inactive"}disable(){this.pause(),delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}close(){this.disable(),this._mediaObject.port=0}}Go.MediaSection=qx;class LH extends qx{constructor({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,plainRtpParameters:o,planB:a=!1,offerMediaObject:c,offerRtpParameters:u,answerRtpParameters:p,codecOptions:h,extmapAllowMixed:g=!1}){switch(super({iceParameters:t,iceCandidates:n,dtlsParameters:r,planB:a}),this._mediaObject.mid=String(c.mid),this._mediaObject.type=c.type,this._mediaObject.protocol=c.protocol,o?(this._mediaObject.connection={ip:o.ip,version:o.ipVersion},this._mediaObject.port=o.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},this._mediaObject.port=7),c.type){case"audio":case"video":{this._mediaObject.direction="recvonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[];for(const v of p.codecs){const w={payload:v.payloadType,codec:jb(v),rate:v.clockRate};v.channels>1&&(w.encoding=v.channels),this._mediaObject.rtp.push(w);const S=XE.clone(v.parameters)??{};let b=XE.clone(v.rtcpFeedback)??[];if(h){const{opusStereo:R,opusFec:_,opusDtx:k,opusMaxPlaybackRate:E,opusMaxAverageBitrate:N,opusPtime:F,opusNack:B,videoGoogleStartBitrate:U,videoGoogleMaxBitrate:G,videoGoogleMinBitrate:Q}=h,ie=u.codecs.find(Y=>Y.payloadType===v.payloadType);switch(v.mimeType.toLowerCase()){case"audio/opus":case"audio/multiopus":{R!==void 0&&(ie.parameters["sprop-stereo"]=R?1:0,S.stereo=R?1:0),_!==void 0&&(ie.parameters.useinbandfec=_?1:0,S.useinbandfec=_?1:0),k!==void 0&&(ie.parameters.usedtx=k?1:0,S.usedtx=k?1:0),E!==void 0&&(S.maxplaybackrate=E),N!==void 0&&(S.maxaveragebitrate=N),F!==void 0&&(ie.parameters.ptime=F,S.ptime=F),B||(ie.rtcpFeedback=ie.rtcpFeedback.filter(Y=>Y.type!=="nack"||Y.parameter),b=b.filter(Y=>Y.type!=="nack"||Y.parameter));break}case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":{U!==void 0&&(S["x-google-start-bitrate"]=U),G!==void 0&&(S["x-google-max-bitrate"]=G),Q!==void 0&&(S["x-google-min-bitrate"]=Q);break}}}const P={payload:v.payloadType,config:""};for(const R of Object.keys(S))P.config&&(P.config+=";"),P.config+=`${R}=${S[R]}`;P.config&&this._mediaObject.fmtp.push(P);for(const R of b)this._mediaObject.rtcpFb.push({payload:v.payloadType,type:R.type,subtype:R.parameter})}this._mediaObject.payloads=p.codecs.map(v=>v.payloadType).join(" "),this._mediaObject.ext=[];for(const v of p.headerExtensions)(c.ext||[]).some(S=>S.uri===v.uri)&&this._mediaObject.ext.push({uri:v.uri,value:v.id});if(g&&c.extmapAllowMixed==="extmap-allow-mixed"&&(this._mediaObject.extmapAllowMixed="extmap-allow-mixed"),c.simulcast){this._mediaObject.simulcast={dir1:"recv",list1:c.simulcast.list1},this._mediaObject.rids=[];for(const v of c.rids||[])v.direction==="send"&&this._mediaObject.rids.push({id:v.id,direction:"recv"})}else if(c.simulcast_03){this._mediaObject.simulcast_03={value:c.simulcast_03.value.replace(/send/g,"recv")},this._mediaObject.rids=[];for(const v of c.rids||[])v.direction==="send"&&this._mediaObject.rids.push({id:v.id,direction:"recv"})}this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize",this._planB&&this._mediaObject.type==="video"&&(this._mediaObject.xGoogleFlag="conference");break}case"application":{typeof c.sctpPort=="number"?(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=i.port,this._mediaObject.maxMessageSize=i.maxMessageSize):c.sctpmap&&(this._mediaObject.payloads=i.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:i.port,maxMessageSize:i.maxMessageSize});break}}}setDtlsRole(t){switch(t){case"client":{this._mediaObject.setup="active";break}case"server":{this._mediaObject.setup="passive";break}case"auto":{this._mediaObject.setup="actpass";break}}}resume(){this._mediaObject.direction="recvonly"}muxSimulcastStreams(t){var o;if(!this._mediaObject.simulcast||!this._mediaObject.simulcast.list1)return;const n={};for(const a of t)a.rid&&(n[a.rid]=a);const r=this._mediaObject.simulcast.list1,i=DH.parseSimulcastStreamList(r);for(const a of i)for(const c of a)c.paused=!((o=n[c.scid])!=null&&o.active);this._mediaObject.simulcast.list1=i.map(a=>a.map(c=>`${c.paused?"~":""}${c.scid}`).join(",")).join(";")}}Go.AnswerMediaSection=LH;class MH extends qx{constructor({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,plainRtpParameters:o,planB:a=!1,mid:c,kind:u,offerRtpParameters:p,streamId:h,trackId:g,oldDataChannelSpec:v=!1}){switch(super({iceParameters:t,iceCandidates:n,dtlsParameters:r,planB:a}),this._mediaObject.mid=String(c),this._mediaObject.type=u,o?(this._mediaObject.connection={ip:o.ip,version:o.ipVersion},this._mediaObject.protocol="RTP/AVP",this._mediaObject.port=o.port):(this._mediaObject.connection={ip:"127.0.0.1",version:4},i?this._mediaObject.protocol="UDP/DTLS/SCTP":this._mediaObject.protocol="UDP/TLS/RTP/SAVPF",this._mediaObject.port=7),u){case"audio":case"video":{this._mediaObject.direction="sendonly",this._mediaObject.rtp=[],this._mediaObject.rtcpFb=[],this._mediaObject.fmtp=[],this._planB||(this._mediaObject.msid=`${h||"-"} ${g}`);for(const P of p.codecs){const R={payload:P.payloadType,codec:jb(P),rate:P.clockRate};P.channels>1&&(R.encoding=P.channels),this._mediaObject.rtp.push(R);const _={payload:P.payloadType,config:""};for(const k of Object.keys(P.parameters))_.config&&(_.config+=";"),_.config+=`${k}=${P.parameters[k]}`;_.config&&this._mediaObject.fmtp.push(_);for(const k of P.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:P.payloadType,type:k.type,subtype:k.parameter})}this._mediaObject.payloads=p.codecs.map(P=>P.payloadType).join(" "),this._mediaObject.ext=[];for(const P of p.headerExtensions)this._mediaObject.ext.push({uri:P.uri,value:P.id});this._mediaObject.rtcpMux="rtcp-mux",this._mediaObject.rtcpRsize="rtcp-rsize";const w=p.encodings[0],S=w.ssrc,b=w.rtx&&w.rtx.ssrc?w.rtx.ssrc:void 0;this._mediaObject.ssrcs=[],this._mediaObject.ssrcGroups=[],p.rtcp.cname&&this._mediaObject.ssrcs.push({id:S,attribute:"cname",value:p.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:S,attribute:"msid",value:`${h||"-"} ${g}`}),b&&(p.rtcp.cname&&this._mediaObject.ssrcs.push({id:b,attribute:"cname",value:p.rtcp.cname}),this._planB&&this._mediaObject.ssrcs.push({id:b,attribute:"msid",value:`${h||"-"} ${g}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${S} ${b}`}));break}case"application":{v?(this._mediaObject.payloads=i.port,this._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:i.port,maxMessageSize:i.maxMessageSize}):(this._mediaObject.payloads="webrtc-datachannel",this._mediaObject.sctpPort=i.port,this._mediaObject.maxMessageSize=i.maxMessageSize);break}}}setDtlsRole(t){this._mediaObject.setup="actpass"}resume(){this._mediaObject.direction="sendonly"}planBReceive({offerRtpParameters:t,streamId:n,trackId:r}){const i=t.encodings[0],o=i.ssrc,a=i.rtx&&i.rtx.ssrc?i.rtx.ssrc:void 0,c=this._mediaObject.payloads.split(" ");for(const u of t.codecs){if(c.includes(String(u.payloadType)))continue;const p={payload:u.payloadType,codec:jb(u),rate:u.clockRate};u.channels>1&&(p.encoding=u.channels),this._mediaObject.rtp.push(p);const h={payload:u.payloadType,config:""};for(const g of Object.keys(u.parameters))h.config&&(h.config+=";"),h.config+=`${g}=${u.parameters[g]}`;h.config&&this._mediaObject.fmtp.push(h);for(const g of u.rtcpFeedback)this._mediaObject.rtcpFb.push({payload:u.payloadType,type:g.type,subtype:g.parameter})}this._mediaObject.payloads+=` ${t.codecs.filter(u=>!this._mediaObject.payloads.includes(u.payloadType)).map(u=>u.payloadType).join(" ")}`,this._mediaObject.payloads=this._mediaObject.payloads.trim(),t.rtcp.cname&&this._mediaObject.ssrcs.push({id:o,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:o,attribute:"msid",value:`${n||"-"} ${r}`}),a&&(t.rtcp.cname&&this._mediaObject.ssrcs.push({id:a,attribute:"cname",value:t.rtcp.cname}),this._mediaObject.ssrcs.push({id:a,attribute:"msid",value:`${n||"-"} ${r}`}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:`${o} ${a}`}))}planBStopReceiving({offerRtpParameters:t}){const n=t.encodings[0],r=n.ssrc,i=n.rtx&&n.rtx.ssrc?n.rtx.ssrc:void 0;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter(o=>o.id!==r&&o.id!==i),i&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter(o=>o.ssrcs!==`${r} ${i}`))}}Go.OfferMediaSection=MH;function jb(e){const n=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");return n[2]}var OH=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),AH=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),NH=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&OH(t,e,n);return AH(t,e),t};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.RemoteSdp=void 0;const IH=NH(un),jH=nn,Ch=Go,Iw=new jH.Logger("RemoteSdp");class FH{constructor({iceParameters:t,iceCandidates:n,dtlsParameters:r,sctpParameters:i,plainRtpParameters:o,planB:a=!1}){if(this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=t,this._iceCandidates=n,this._dtlsParameters=r,this._sctpParameters=i,this._plainRtpParameters=o,this._planB=a,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},t&&t.iceLite&&(this._sdpObject.icelite="ice-lite"),r){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};const c=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:r.fingerprints[c-1].algorithm,hash:r.fingerprints[c-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}o&&(this._sdpObject.origin.address=o.ip,this._sdpObject.origin.ipVer=o.ipVersion)}updateIceParameters(t){Iw.debug("updateIceParameters() [iceParameters:%o]",t),this._iceParameters=t,this._sdpObject.icelite=t.iceLite?"ice-lite":void 0;for(const n of this._mediaSections)n.setIceParameters(t)}updateDtlsRole(t){Iw.debug("updateDtlsRole() [role:%s]",t),this._dtlsParameters.role=t;for(const n of this._mediaSections)n.setDtlsRole(t)}getNextMediaSectionIdx(){for(let t=0;t<this._mediaSections.length;++t){const n=this._mediaSections[t];if(n.closed)return{idx:t,reuseMid:n.mid}}return{idx:this._mediaSections.length}}send({offerMediaObject:t,reuseMid:n,offerRtpParameters:r,answerRtpParameters:i,codecOptions:o,extmapAllowMixed:a=!1}){const c=new Ch.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:t,offerRtpParameters:r,answerRtpParameters:i,codecOptions:o,extmapAllowMixed:a});n?this._replaceMediaSection(c,n):this._midToIndex.has(c.mid)?this._replaceMediaSection(c):this._addMediaSection(c)}receive({mid:t,kind:n,offerRtpParameters:r,streamId:i,trackId:o}){const a=this._midToIndex.get(t);let c;if(a!==void 0&&(c=this._mediaSections[a]),c)c.planBReceive({offerRtpParameters:r,streamId:i,trackId:o}),this._replaceMediaSection(c);else{c=new Ch.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:t,kind:n,offerRtpParameters:r,streamId:i,trackId:o});const u=this._mediaSections.find(p=>p.closed);u?this._replaceMediaSection(c,u.mid):this._addMediaSection(c)}}pauseMediaSection(t){this._findMediaSection(t).pause()}resumeSendingMediaSection(t){this._findMediaSection(t).resume()}resumeReceivingMediaSection(t){this._findMediaSection(t).resume()}disableMediaSection(t){this._findMediaSection(t).disable()}closeMediaSection(t){const n=this._findMediaSection(t);return t===this._firstMid?(Iw.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",t),this.disableMediaSection(t),!1):(n.close(),this._regenerateBundleMids(),!0)}muxMediaSectionSimulcast(t,n){const r=this._findMediaSection(t);r.muxSimulcastStreams(n),this._replaceMediaSection(r)}planBStopReceiving({mid:t,offerRtpParameters:n}){const r=this._findMediaSection(t);r.planBStopReceiving({offerRtpParameters:n}),this._replaceMediaSection(r)}sendSctpAssociation({offerMediaObject:t}){const n=new Ch.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:t});this._addMediaSection(n)}receiveSctpAssociation({oldDataChannelSpec:t=!1}={}){const n=new Ch.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:t});this._addMediaSection(n)}getSdp(){return this._sdpObject.origin.sessionVersion++,IH.write(this._sdpObject)}_addMediaSection(t){this._firstMid||(this._firstMid=t.mid),this._mediaSections.push(t),this._midToIndex.set(t.mid,this._mediaSections.length-1),this._sdpObject.media.push(t.getObject()),this._regenerateBundleMids()}_replaceMediaSection(t,n){if(typeof n=="string"){const r=this._midToIndex.get(n);if(r===void 0)throw new Error(`no media section found for reuseMid '${n}'`);const i=this._mediaSections[r];this._mediaSections[r]=t,this._midToIndex.delete(i.mid),this._midToIndex.set(t.mid,r),this._sdpObject.media[r]=t.getObject(),this._regenerateBundleMids()}else{const r=this._midToIndex.get(t.mid);if(r===void 0)throw new Error(`no media section found with mid '${t.mid}'`);this._mediaSections[r]=t,this._sdpObject.media[r]=t.getObject()}}_findMediaSection(t){const n=this._midToIndex.get(t);if(n===void 0)throw new Error(`no media section found with mid '${t}'`);return this._mediaSections[n]}_regenerateBundleMids(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter(t=>!t.closed).map(t=>t.mid).join(" "))}}Dr.RemoteSdp=FH;var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.parse=void 0;const BH=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");function $H(e){const t=BH.exec(e||"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}Ai.parse=$H;var zH=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),UH=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Tu=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&zH(t,e,n);return UH(t,e),t};Object.defineProperty(iv,"__esModule",{value:!0});iv.Chrome111=void 0;const vo=Tu(un),VH=nn,QE=Tu(cn),Yl=Tu(pt),Rh=Tu(Cn),ZE=Tu(ci),HH=Tu(ul),WH=Rn,KH=or,GH=Dr,qH=Ai,Je=new VH.Logger("Chrome111"),JE={OS:1024,MIS:1024};class Yx extends KH.HandlerInterface{static createFactory(){return()=>new Yx}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome111"}close(){if(Je.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){Je.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const n=await t.createOffer();try{t.close()}catch{}const r=vo.parse(n.sdp),i=Rh.extractRtpCapabilities({sdpObject:r});return HH.addNackSuppportForOpus(i),i}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return Je.debug("getNativeSctpCapabilities()"),{numStreams:JE}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,extendedRtpCapabilities:h}){this.assertNotClosed(),Je.debug("run()"),this._direction=t,this._remoteSdp=new GH.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o}),this._sendingRtpParametersByKind={audio:Yl.getSendingRtpParameters("audio",h),video:Yl.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:Yl.getSendingRemoteRtpParameters("audio",h),video:Yl.getSendingRemoteRtpParameters("video",h)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:c||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...u},p),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(Je.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(t){this.assertNotClosed(),Je.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(this.assertNotClosed(),Je.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});Je.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};Je.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};Je.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Je.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){if(this.assertNotClosed(),this.assertSendDirection(),Je.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),n&&n.length>1){let S=1;for(const b of n){const P=b.scalabilityMode?(0,qH.parse)(b.scalabilityMode).temporalLayers:3;P>S&&(S=P)}n.forEach((b,P)=>{b.rid=`r${P}`,b.scalabilityMode=`L1T${S}`})}const o=QE.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Yl.reduceCodecs(o.codecs,i);const a=QE.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=Yl.reduceCodecs(a.codecs,i);const c=this._remoteSdp.getNextMediaSectionIdx(),u=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:n}),p=await this._pc.createOffer();let h=vo.parse(p.sdp);this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),Je.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const g=u.mid;o.mid=g,h=vo.parse(this._pc.localDescription.sdp);const v=h.media[c.idx];if(o.rtcp.cname=Rh.getCname({offerMediaObject:v}),!n)o.encodings=ZE.getRtpEncodings({offerMediaObject:v});else if(n.length===1){const S=ZE.getRtpEncodings({offerMediaObject:v});Object.assign(S[0],n[0]),o.encodings=S}else o.encodings=n;this._remoteSdp.send({offerMediaObject:v,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:r,extmapAllowMixed:!0});const w={type:"answer",sdp:this._remoteSdp.getSdp()};return Je.debug("send() | calling pc.setRemoteDescription() [answer:%o]",w),await this._pc.setRemoteDescription(w),this._mapMidTransceiver.set(g,u),{localId:g,rtpParameters:o,rtpSender:u.sender}}async stopSending(t){if(this.assertSendDirection(),Je.debug("stopSending() [localId:%s]",t),this._closed)return;const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");if(n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid))try{n.stop()}catch{}const i=await this._pc.createOffer();Je.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Je.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),Je.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();Je.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Je.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),Je.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly";const r=await this._pc.createOffer();Je.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Je.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?Je.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):Je.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),Je.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((c,u)=>{u<=n?c.active=!0:c.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const o=await this._pc.createOffer();Je.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o);const a={type:"answer",sdp:this._remoteSdp.getSdp()};Je.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),Je.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((c,u)=>{i.encodings[u]={...c,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const o=await this._pc.createOffer();Je.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o);const a={type:"answer",sdp:this._remoteSdp.getSdp()};Je.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:o}){this.assertNotClosed(),this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:o};Je.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%JE.MIS,!this._hasDataChannelMediaSection){const p=await this._pc.createOffer(),h=vo.parse(p.sdp),g=h.media.find(w=>w.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),Je.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),this._remoteSdp.sendSctpAssociation({offerMediaObject:g});const v={type:"answer",sdp:this._remoteSdp.getSdp()};Je.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),this._hasDataChannelMediaSection=!0}const u={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:u}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const c of t){const{trackId:u,kind:p,rtpParameters:h,streamId:g}=c;Je.debug("receive() [trackId:%s, kind:%s]",u,p);const v=h.mid||String(this._mapMidTransceiver.size);r.set(u,v),this._remoteSdp.receive({mid:v,kind:p,offerRtpParameters:h,streamId:g||h.rtcp.cname,trackId:u})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};Je.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const a=vo.parse(o.sdp);for(const c of t){const{trackId:u,rtpParameters:p}=c,h=r.get(u),g=a.media.find(v=>String(v.mid)===h);Rh.applyCodecParameters({offerRtpParameters:p,answerMediaObject:g})}o={type:"answer",sdp:vo.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:a}),Je.debug("receive() | calling pc.setLocalDescription() [answer:%o]",o),await this._pc.setLocalDescription(o);for(const c of t){const{trackId:u}=c,p=r.get(u),h=this._pc.getTransceivers().find(g=>g.mid===p);if(h)this._mapMidTransceiver.set(p,h),n.push({localId:p,track:h.receiver.track,rtpReceiver:h.receiver});else throw new Error("new RTCRtpTransceiver not found")}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){Je.debug("stopReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(o.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Je.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Je.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){Je.debug("pauseReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Je.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Je.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){Je.debug("resumeReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Je.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Je.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c}=t,u={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c,protocol:r};Je.debug("receiveDataChannel() [options:%o]",u);const p=this._pc.createDataChannel(n,u);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const h={type:"offer",sdp:this._remoteSdp.getSdp()};Je.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();if(!this._transportReady){const v=vo.parse(g.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:v})}Je.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setLocalDescription(g),this._hasDataChannelMediaSection=!0}return{dataChannel:p}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=vo.parse(this._pc.localDescription.sdp));const r=Rh.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:r},i,o)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new WH.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}iv.Chrome111=Yx;var sv={},YH=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),XH=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Eu=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&YH(t,e,n);return XH(t,e),t};Object.defineProperty(sv,"__esModule",{value:!0});sv.Chrome74=void 0;const Wi=Eu(un),QH=nn,eP=Eu(cn),Xl=Eu(pt),Th=Eu(Cn),jw=Eu(ci),ZH=Eu(ul),JH=Rn,e7=or,t7=Dr,n7=Ai,Qe=new QH.Logger("Chrome74"),tP={OS:1024,MIS:1024};class Xx extends e7.HandlerInterface{static createFactory(){return()=>new Xx}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome74"}close(){if(Qe.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){Qe.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const n=await t.createOffer();try{t.close()}catch{}const r=Wi.parse(n.sdp),i=Th.extractRtpCapabilities({sdpObject:r});return ZH.addNackSuppportForOpus(i),i}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return Qe.debug("getNativeSctpCapabilities()"),{numStreams:tP}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,extendedRtpCapabilities:h}){Qe.debug("run()"),this._direction=t,this._remoteSdp=new t7.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o}),this._sendingRtpParametersByKind={audio:Xl.getSendingRtpParameters("audio",h),video:Xl.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:Xl.getSendingRemoteRtpParameters("audio",h),video:Xl.getSendingRemoteRtpParameters("video",h)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:c||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...u},p),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):(Qe.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}))}async updateIceServers(t){this.assertNotClosed(),Qe.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(this.assertNotClosed(),Qe.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});Qe.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};Qe.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};Qe.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Qe.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertNotClosed(),this.assertSendDirection(),Qe.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),n&&n.length>1&&n.forEach((P,R)=>{P.rid=`r${R}`});const o=eP.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Xl.reduceCodecs(o.codecs,i);const a=eP.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=Xl.reduceCodecs(a.codecs,i);const c=this._remoteSdp.getNextMediaSectionIdx(),u=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:n});let p=await this._pc.createOffer(),h=Wi.parse(p.sdp),g;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h});let v=!1;const w=(0,n7.parse)((n||[{}])[0].scalabilityMode);n&&n.length===1&&w.spatialLayers>1&&o.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(Qe.debug("send() | enabling legacy simulcast for VP9 SVC"),v=!0,h=Wi.parse(p.sdp),g=h.media[c.idx],jw.addLegacySimulcast({offerMediaObject:g,numStreams:w.spatialLayers}),p={type:"offer",sdp:Wi.write(h)}),Qe.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const S=u.mid;if(o.mid=S,h=Wi.parse(this._pc.localDescription.sdp),g=h.media[c.idx],o.rtcp.cname=Th.getCname({offerMediaObject:g}),!n)o.encodings=jw.getRtpEncodings({offerMediaObject:g});else if(n.length===1){let P=jw.getRtpEncodings({offerMediaObject:g});Object.assign(P[0],n[0]),v&&(P=[P[0]]),o.encodings=P}else o.encodings=n;if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const P of o.encodings)P.scalabilityMode?P.scalabilityMode=`L1T${w.temporalLayers}`:P.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:g,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:r,extmapAllowMixed:!0});const b={type:"answer",sdp:this._remoteSdp.getSdp()};return Qe.debug("send() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b),this._mapMidTransceiver.set(S,u),{localId:S,rtpParameters:o,rtpSender:u.sender}}async stopSending(t){if(this.assertSendDirection(),Qe.debug("stopSending() [localId:%s]",t),this._closed)return;const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");if(n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid))try{n.stop()}catch{}const i=await this._pc.createOffer();Qe.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Qe.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),Qe.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();Qe.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Qe.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),Qe.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly";const r=await this._pc.createOffer();Qe.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Qe.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?Qe.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):Qe.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),Qe.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((c,u)=>{u<=n?c.active=!0:c.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const o=await this._pc.createOffer();Qe.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o);const a={type:"answer",sdp:this._remoteSdp.getSdp()};Qe.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),Qe.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((c,u)=>{i.encodings[u]={...c,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const o=await this._pc.createOffer();Qe.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o);const a={type:"answer",sdp:this._remoteSdp.getSdp()};Qe.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:o}){this.assertNotClosed(),this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:o};Qe.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%tP.MIS,!this._hasDataChannelMediaSection){const p=await this._pc.createOffer(),h=Wi.parse(p.sdp),g=h.media.find(w=>w.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),Qe.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),this._remoteSdp.sendSctpAssociation({offerMediaObject:g});const v={type:"answer",sdp:this._remoteSdp.getSdp()};Qe.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),this._hasDataChannelMediaSection=!0}const u={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:u}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const c of t){const{trackId:u,kind:p,rtpParameters:h,streamId:g}=c;Qe.debug("receive() [trackId:%s, kind:%s]",u,p);const v=h.mid||String(this._mapMidTransceiver.size);r.set(u,v),this._remoteSdp.receive({mid:v,kind:p,offerRtpParameters:h,streamId:g||h.rtcp.cname,trackId:u})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};Qe.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const a=Wi.parse(o.sdp);for(const c of t){const{trackId:u,rtpParameters:p}=c,h=r.get(u),g=a.media.find(v=>String(v.mid)===h);Th.applyCodecParameters({offerRtpParameters:p,answerMediaObject:g})}o={type:"answer",sdp:Wi.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:a}),Qe.debug("receive() | calling pc.setLocalDescription() [answer:%o]",o),await this._pc.setLocalDescription(o);for(const c of t){const{trackId:u}=c,p=r.get(u),h=this._pc.getTransceivers().find(g=>g.mid===p);if(h)this._mapMidTransceiver.set(p,h),n.push({localId:p,track:h.receiver.track,rtpReceiver:h.receiver});else throw new Error("new RTCRtpTransceiver not found")}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){Qe.debug("stopReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(o.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Qe.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Qe.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){Qe.debug("pauseReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Qe.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Qe.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){Qe.debug("resumeReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Qe.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Qe.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c}=t,u={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c,protocol:r};Qe.debug("receiveDataChannel() [options:%o]",u);const p=this._pc.createDataChannel(n,u);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const h={type:"offer",sdp:this._remoteSdp.getSdp()};Qe.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();if(!this._transportReady){const v=Wi.parse(g.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:v})}Qe.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setLocalDescription(g),this._hasDataChannelMediaSection=!0}return{dataChannel:p}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=Wi.parse(this._pc.localDescription.sdp));const r=Th.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:r},i,o)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new JH.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}sv.Chrome74=Xx;var ov={},r7=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),i7=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),tp=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&r7(t,e,n);return i7(t,e),t};Object.defineProperty(ov,"__esModule",{value:!0});ov.Chrome70=void 0;const Gr=tp(un),s7=nn,nP=tp(cn),Ql=tp(pt),Eh=tp(Cn),Fw=tp(ci),o7=or,a7=Dr,l7=Ai,dt=new s7.Logger("Chrome70"),rP={OS:1024,MIS:1024};class Qx extends o7.HandlerInterface{static createFactory(){return()=>new Qx}constructor(){super(),this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome70"}close(){if(dt.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){dt.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const n=await t.createOffer();try{t.close()}catch{}const r=Gr.parse(n.sdp);return Eh.extractRtpCapabilities({sdpObject:r})}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return dt.debug("getNativeSctpCapabilities()"),{numStreams:rP}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,extendedRtpCapabilities:h}){dt.debug("run()"),this._direction=t,this._remoteSdp=new a7.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o}),this._sendingRtpParametersByKind={audio:Ql.getSendingRtpParameters("audio",h),video:Ql.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:Ql.getSendingRemoteRtpParameters("audio",h),video:Ql.getSendingRemoteRtpParameters("video",h)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:c||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...u},p),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(dt.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){dt.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(dt.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});dt.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};dt.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};dt.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();dt.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertSendDirection(),dt.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const o=nP.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=Ql.reduceCodecs(o.codecs,i);const a=nP.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=Ql.reduceCodecs(a.codecs,i);const c=this._remoteSdp.getNextMediaSectionIdx(),u=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});let p=await this._pc.createOffer(),h=Gr.parse(p.sdp),g;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),n&&n.length>1&&(dt.debug("send() | enabling legacy simulcast"),h=Gr.parse(p.sdp),g=h.media[c.idx],Fw.addLegacySimulcast({offerMediaObject:g,numStreams:n.length}),p={type:"offer",sdp:Gr.write(h)});let v=!1;const w=(0,l7.parse)((n||[{}])[0].scalabilityMode);if(n&&n.length===1&&w.spatialLayers>1&&o.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(dt.debug("send() | enabling legacy simulcast for VP9 SVC"),v=!0,h=Gr.parse(p.sdp),g=h.media[c.idx],Fw.addLegacySimulcast({offerMediaObject:g,numStreams:w.spatialLayers}),p={type:"offer",sdp:Gr.write(h)}),dt.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),n){dt.debug("send() | applying given encodings");const P=u.sender.getParameters();for(let R=0;R<(P.encodings||[]).length;++R){const _=P.encodings[R],k=n[R];if(!k)break;P.encodings[R]=Object.assign(_,k)}await u.sender.setParameters(P)}const S=u.mid;if(o.mid=S,h=Gr.parse(this._pc.localDescription.sdp),g=h.media[c.idx],o.rtcp.cname=Eh.getCname({offerMediaObject:g}),o.encodings=Fw.getRtpEncodings({offerMediaObject:g}),n)for(let P=0;P<o.encodings.length;++P)n[P]&&Object.assign(o.encodings[P],n[P]);if(v&&(o.encodings=[o.encodings[0]]),o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const P of o.encodings)P.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:g,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:r});const b={type:"answer",sdp:this._remoteSdp.getSdp()};return dt.debug("send() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b),this._mapMidTransceiver.set(S,u),{localId:S,rtpParameters:o,rtpSender:u.sender}}async stopSending(t){this.assertSendDirection(),dt.debug("stopSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");if(n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid))try{n.stop()}catch{}const i=await this._pc.createOffer();dt.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};dt.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o),this._mapMidTransceiver.delete(t)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){this.assertSendDirection(),n?dt.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):dt.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertSendDirection(),dt.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((c,u)=>{u<=n?c.active=!0:c.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const o=await this._pc.createOffer();dt.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o);const a={type:"answer",sdp:this._remoteSdp.getSdp()};dt.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a)}async setRtpEncodingParameters(t,n){this.assertSendDirection(),dt.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((c,u)=>{i.encodings[u]={...c,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const o=await this._pc.createOffer();dt.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o);const a={type:"answer",sdp:this._remoteSdp.getSdp()};dt.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a)}async getSenderStats(t){this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:o}){this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:r,protocol:o};dt.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%rP.MIS,!this._hasDataChannelMediaSection){const p=await this._pc.createOffer(),h=Gr.parse(p.sdp),g=h.media.find(w=>w.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),dt.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),this._remoteSdp.sendSctpAssociation({offerMediaObject:g});const v={type:"answer",sdp:this._remoteSdp.getSdp()};dt.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),this._hasDataChannelMediaSection=!0}const u={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:u}}async receive(t){this.assertRecvDirection();const n=[],r=new Map;for(const c of t){const{trackId:u,kind:p,rtpParameters:h,streamId:g}=c;dt.debug("receive() [trackId:%s, kind:%s]",u,p);const v=h.mid||String(this._mapMidTransceiver.size);r.set(u,v),this._remoteSdp.receive({mid:v,kind:p,offerRtpParameters:h,streamId:g||h.rtcp.cname,trackId:u})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};dt.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const a=Gr.parse(o.sdp);for(const c of t){const{trackId:u,rtpParameters:p}=c,h=r.get(u),g=a.media.find(v=>String(v.mid)===h);Eh.applyCodecParameters({offerRtpParameters:p,answerMediaObject:g})}o={type:"answer",sdp:Gr.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:a}),dt.debug("receive() | calling pc.setLocalDescription() [answer:%o]",o),await this._pc.setLocalDescription(o);for(const c of t){const{trackId:u}=c,p=r.get(u),h=this._pc.getTransceivers().find(g=>g.mid===p);if(!h)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(p,h),n.push({localId:p,track:h.receiver.track,rtpReceiver:h.receiver})}return n}async stopReceiving(t){this.assertRecvDirection();for(const i of t){dt.debug("stopReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(o.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};dt.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();dt.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c}=t,u={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:a,maxRetransmitTime:a,maxRetransmits:c,protocol:r};dt.debug("receiveDataChannel() [options:%o]",u);const p=this._pc.createDataChannel(n,u);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const h={type:"offer",sdp:this._remoteSdp.getSdp()};dt.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();if(!this._transportReady){const v=Gr.parse(g.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:v})}dt.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setLocalDescription(g),this._hasDataChannelMediaSection=!0}return{dataChannel:p}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=Gr.parse(this._pc.localDescription.sdp));const r=Eh.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:r},i,o)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}ov.Chrome70=Qx;var av={},qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.addLegacySimulcast=qs.getRtpEncodings=void 0;function c7({offerMediaObject:e,track:t}){const n=new Set;for(const o of e.ssrcs||[]){if(o.attribute!=="msid")continue;if(o.value.split(" ")[1]===t.id){const c=o.id;n.add(c)}}if(n.size===0)throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);const r=new Map;for(const o of e.ssrcGroups||[]){if(o.semantics!=="FID")continue;let[a,c]=o.ssrcs.split(/\s+/);a=Number(a),c=Number(c),n.has(a)&&(n.delete(a),n.delete(c),r.set(a,c))}for(const o of n)r.set(o,null);const i=[];for(const[o,a]of r){const c={ssrc:o};a&&(c.rtx={ssrc:a}),i.push(c)}return i}qs.getRtpEncodings=c7;function u7({offerMediaObject:e,track:t,numStreams:n}){if(n<=1)throw new TypeError("numStreams must be greater than 1");let r,i,o;if(!(e.ssrcs||[]).find(g=>g.attribute!=="msid"?!1:g.value.split(" ")[1]===t.id?(r=g.id,o=g.value.split(" ")[0],!0):!1))throw new Error(`a=ssrc line with msid information not found [track.id:${t.id}]`);(e.ssrcGroups||[]).some(g=>{if(g.semantics!=="FID")return!1;const v=g.ssrcs.split(/\s+/);return Number(v[0])===r?(i=Number(v[1]),!0):!1});const c=e.ssrcs.find(g=>g.attribute==="cname"&&g.id===r);if(!c)throw new Error(`a=ssrc line with cname information not found [track.id:${t.id}]`);const u=c.value,p=[],h=[];for(let g=0;g<n;++g)p.push(r+g),i&&h.push(i+g);e.ssrcGroups=e.ssrcGroups||[],e.ssrcs=e.ssrcs||[],e.ssrcGroups.push({semantics:"SIM",ssrcs:p.join(" ")});for(let g=0;g<p.length;++g){const v=p[g];e.ssrcs.push({id:v,attribute:"cname",value:u}),e.ssrcs.push({id:v,attribute:"msid",value:`${o} ${t.id}`})}for(let g=0;g<h.length;++g){const v=p[g],w=h[g];e.ssrcs.push({id:w,attribute:"cname",value:u}),e.ssrcs.push({id:w,attribute:"msid",value:`${o} ${t.id}`}),e.ssrcGroups.push({semantics:"FID",ssrcs:`${v} ${w}`})}}qs.addLegacySimulcast=u7;var d7=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),f7=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),np=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&d7(t,e,n);return f7(t,e),t};Object.defineProperty(av,"__esModule",{value:!0});av.Chrome67=void 0;const Ki=np(un),p7=nn,iP=np(cn),Zl=np(pt),Ph=np(Cn),sP=np(qs),h7=or,m7=Dr,gt=new p7.Logger("Chrome67"),oP={OS:1024,MIS:1024};class Zx extends h7.HandlerInterface{static createFactory(){return()=>new Zx}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome67"}close(){if(gt.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){gt.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const r=Ki.parse(n.sdp);return Ph.extractRtpCapabilities({sdpObject:r})}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return gt.debug("getNativeSctpCapabilities()"),{numStreams:oP}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,extendedRtpCapabilities:h}){gt.debug("run()"),this._direction=t,this._remoteSdp=new m7.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,planB:!0}),this._sendingRtpParametersByKind={audio:Zl.getSendingRtpParameters("audio",h),video:Zl.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:Zl.getSendingRemoteRtpParameters("audio",h),video:Zl.getSendingRemoteRtpParameters("video",h)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:c||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...u},p),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(gt.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){gt.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(gt.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});gt.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};gt.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};gt.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();gt.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertSendDirection(),gt.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),i&&gt.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let o=await this._pc.createOffer(),a=Ki.parse(o.sdp),c;const u=iP.clone(this._sendingRtpParametersByKind[t.kind]);u.codecs=Zl.reduceCodecs(u.codecs);const p=iP.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(p.codecs=Zl.reduceCodecs(p.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:a}),t.kind==="video"&&n&&n.length>1&&(gt.debug("send() | enabling simulcast"),a=Ki.parse(o.sdp),c=a.media.find(w=>w.type==="video"),sP.addLegacySimulcast({offerMediaObject:c,track:t,numStreams:n.length}),o={type:"offer",sdp:Ki.write(a)}),gt.debug("send() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o),a=Ki.parse(this._pc.localDescription.sdp),c=a.media.find(w=>w.type===t.kind),u.rtcp.cname=Ph.getCname({offerMediaObject:c}),u.encodings=sP.getRtpEncodings({offerMediaObject:c,track:t}),n)for(let w=0;w<u.encodings.length;++w)n[w]&&Object.assign(u.encodings[w],n[w]);if(u.encodings.length>1&&u.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const w of u.encodings)w.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:c,offerRtpParameters:u,answerRtpParameters:p,codecOptions:r});const h={type:"answer",sdp:this._remoteSdp.getSdp()};gt.debug("send() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h);const g=String(this._nextSendLocalId);this._nextSendLocalId++;const v=this._pc.getSenders().find(w=>w.track===t);return this._mapSendLocalIdRtpSender.set(g,v),{localId:g,rtpParameters:u,rtpSender:v}}async stopSending(t){this.assertSendDirection(),gt.debug("stopSending() [localId:%s]",t);const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");this._pc.removeTrack(n),n.track&&this._sendStream.removeTrack(n.track),this._mapSendLocalIdRtpSender.delete(t);const r=await this._pc.createOffer();gt.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(o){if(this._sendStream.getTracks().length===0){gt.warn("stopSending() | ignoring expected error due no sending tracks: %s",o.toString());return}throw o}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};gt.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){this.assertSendDirection(),n?gt.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):gt.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.track;await r.replaceTrack(n),i&&this._sendStream.removeTrack(i),n&&this._sendStream.addTrack(n)}async setMaxSpatialLayer(t,n){this.assertSendDirection(),gt.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((o,a)=>{a<=n?o.active=!0:o.active=!1}),await r.setParameters(i)}async setRtpEncodingParameters(t,n){this.assertSendDirection(),gt.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((o,a)=>{i.encodings[a]={...o,...n}}),await r.setParameters(i)}async getSenderStats(t){this.assertSendDirection();const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");return n.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:o}){this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:r,protocol:o};gt.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%oP.MIS,!this._hasDataChannelMediaSection){const p=await this._pc.createOffer(),h=Ki.parse(p.sdp),g=h.media.find(w=>w.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),gt.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),this._remoteSdp.sendSctpAssociation({offerMediaObject:g});const v={type:"answer",sdp:this._remoteSdp.getSdp()};gt.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),this._hasDataChannelMediaSection=!0}const u={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:u}}async receive(t){this.assertRecvDirection();const n=[];for(const a of t){const{trackId:c,kind:u,rtpParameters:p,streamId:h}=a;gt.debug("receive() [trackId:%s, kind:%s]",c,u);const g=u;this._remoteSdp.receive({mid:g,kind:u,offerRtpParameters:p,streamId:h||p.rtcp.cname,trackId:c})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};gt.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const o=Ki.parse(i.sdp);for(const a of t){const{kind:c,rtpParameters:u}=a,p=c,h=o.media.find(g=>String(g.mid)===p);Ph.applyCodecParameters({offerRtpParameters:u,answerMediaObject:h})}i={type:"answer",sdp:Ki.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),gt.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{kind:c,trackId:u,rtpParameters:p}=a,h=u,g=c,v=this._pc.getReceivers().find(w=>w.track&&w.track.id===h);if(!v)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(h,{mid:g,rtpParameters:p,rtpReceiver:v}),n.push({localId:h,track:v.track,rtpReceiver:v})}return n}async stopReceiving(t){this.assertRecvDirection();for(const i of t){gt.debug("stopReceiving() [localId:%s]",i);const{mid:o,rtpParameters:a}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:o,offerRtpParameters:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};gt.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();gt.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){this.assertRecvDirection();const{rtpReceiver:n}=this._mapRecvLocalIdInfo.get(t)||{};if(!n)throw new Error("associated RTCRtpReceiver not found");return n.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c}=t,u={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:a,maxRetransmitTime:a,maxRetransmits:c,protocol:r};gt.debug("receiveDataChannel() [options:%o]",u);const p=this._pc.createDataChannel(n,u);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const h={type:"offer",sdp:this._remoteSdp.getSdp()};gt.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();if(!this._transportReady){const v=Ki.parse(g.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:v})}gt.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setLocalDescription(g),this._hasDataChannelMediaSection=!0}return{dataChannel:p}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=Ki.parse(this._pc.localDescription.sdp));const r=Ph.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:r},i,o)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}av.Chrome67=Zx;var lv={},g7=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),v7=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rp=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&g7(t,e,n);return v7(t,e),t};Object.defineProperty(lv,"__esModule",{value:!0});lv.Chrome55=void 0;const Gi=rp(un),y7=nn,Rd=Rn,aP=rp(cn),Jl=rp(pt),kh=rp(Cn),lP=rp(qs),w7=or,b7=Dr,Pt=new y7.Logger("Chrome55"),cP={OS:1024,MIS:1024};class Jx extends w7.HandlerInterface{static createFactory(){return()=>new Jx}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Chrome55"}close(){if(Pt.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){Pt.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const r=Gi.parse(n.sdp);return kh.extractRtpCapabilities({sdpObject:r})}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return Pt.debug("getNativeSctpCapabilities()"),{numStreams:cP}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,extendedRtpCapabilities:h}){Pt.debug("run()"),this._direction=t,this._remoteSdp=new b7.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,planB:!0}),this._sendingRtpParametersByKind={audio:Jl.getSendingRtpParameters("audio",h),video:Jl.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:Jl.getSendingRemoteRtpParameters("audio",h),video:Jl.getSendingRemoteRtpParameters("video",h)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:c||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...u},p),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Pt.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){Pt.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(Pt.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});Pt.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};Pt.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};Pt.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Pt.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertSendDirection(),Pt.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),i&&Pt.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let o=await this._pc.createOffer(),a=Gi.parse(o.sdp),c;const u=aP.clone(this._sendingRtpParametersByKind[t.kind]);u.codecs=Jl.reduceCodecs(u.codecs);const p=aP.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(p.codecs=Jl.reduceCodecs(p.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:a}),t.kind==="video"&&n&&n.length>1&&(Pt.debug("send() | enabling simulcast"),a=Gi.parse(o.sdp),c=a.media.find(v=>v.type==="video"),lP.addLegacySimulcast({offerMediaObject:c,track:t,numStreams:n.length}),o={type:"offer",sdp:Gi.write(a)}),Pt.debug("send() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o),a=Gi.parse(this._pc.localDescription.sdp),c=a.media.find(v=>v.type===t.kind),u.rtcp.cname=kh.getCname({offerMediaObject:c}),u.encodings=lP.getRtpEncodings({offerMediaObject:c,track:t}),n)for(let v=0;v<u.encodings.length;++v)n[v]&&Object.assign(u.encodings[v],n[v]);if(u.encodings.length>1&&u.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const v of u.encodings)v.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:c,offerRtpParameters:u,answerRtpParameters:p,codecOptions:r});const h={type:"answer",sdp:this._remoteSdp.getSdp()};Pt.debug("send() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h);const g=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(g,t),{localId:g,rtpParameters:u}}async stopSending(t){this.assertSendDirection(),Pt.debug("stopSending() [localId:%s]",t);const n=this._mapSendLocalIdTrack.get(t);if(!n)throw new Error("track not found");this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(n),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();Pt.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(o){if(this._sendStream.getTracks().length===0){Pt.warn("stopSending() | ignoring expected error due no sending tracks: %s",o.toString());return}throw o}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};Pt.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){throw new Rd.UnsupportedError("not implemented")}async setMaxSpatialLayer(t,n){throw new Rd.UnsupportedError(" not implemented")}async setRtpEncodingParameters(t,n){throw new Rd.UnsupportedError("not supported")}async getSenderStats(t){throw new Rd.UnsupportedError("not implemented")}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:o}){this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:r,protocol:o};Pt.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%cP.MIS,!this._hasDataChannelMediaSection){const p=await this._pc.createOffer(),h=Gi.parse(p.sdp),g=h.media.find(w=>w.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),Pt.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),this._remoteSdp.sendSctpAssociation({offerMediaObject:g});const v={type:"answer",sdp:this._remoteSdp.getSdp()};Pt.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),this._hasDataChannelMediaSection=!0}const u={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:u}}async receive(t){this.assertRecvDirection();const n=[];for(const a of t){const{trackId:c,kind:u,rtpParameters:p,streamId:h}=a;Pt.debug("receive() [trackId:%s, kind:%s]",c,u);const g=u;this._remoteSdp.receive({mid:g,kind:u,offerRtpParameters:p,streamId:h||p.rtcp.cname,trackId:c})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};Pt.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const o=Gi.parse(i.sdp);for(const a of t){const{kind:c,rtpParameters:u}=a,p=c,h=o.media.find(g=>String(g.mid)===p);kh.applyCodecParameters({offerRtpParameters:u,answerMediaObject:h})}i={type:"answer",sdp:Gi.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),Pt.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{kind:c,trackId:u,rtpParameters:p}=a,h=c,g=u,v=a.streamId||p.rtcp.cname,S=this._pc.getRemoteStreams().find(b=>b.id===v).getTrackById(g);if(!S)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(g,{mid:h,rtpParameters:p}),n.push({localId:g,track:S})}return n}async stopReceiving(t){this.assertRecvDirection();for(const i of t){Pt.debug("stopReceiving() [localId:%s]",i);const{mid:o,rtpParameters:a}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:o,offerRtpParameters:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Pt.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Pt.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){throw new Rd.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c}=t,u={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:a,maxRetransmitTime:a,maxRetransmits:c,protocol:r};Pt.debug("receiveDataChannel() [options:%o]",u);const p=this._pc.createDataChannel(n,u);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const h={type:"offer",sdp:this._remoteSdp.getSdp()};Pt.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();if(!this._transportReady){const v=Gi.parse(g.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:v})}Pt.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setLocalDescription(g),this._hasDataChannelMediaSection=!0}return{dataChannel:p}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=Gi.parse(this._pc.localDescription.sdp));const r=kh.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:r},i,o)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}lv.Chrome55=Jx;var cv={},S7=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),x7=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ip=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&S7(t,e,n);return x7(t,e),t};Object.defineProperty(cv,"__esModule",{value:!0});cv.Firefox120=void 0;const yo=ip(un),_7=nn,uP=Rn,dP=ip(cn),ec=ip(pt),Dh=ip(Cn),fP=ip(ci),C7=or,R7=Dr,T7=Ai,tt=new _7.Logger("Firefox120"),pP={OS:16,MIS:2048};class e1 extends C7.HandlerInterface{static createFactory(){return()=>new e1}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Firefox120"}close(){if(tt.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){tt.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),n=document.createElement("canvas");n.getContext("2d");const i=n.captureStream().getVideoTracks()[0];try{t.addTransceiver("audio",{direction:"sendrecv"}),t.addTransceiver(i,{direction:"sendrecv",sendEncodings:[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}]});const o=await t.createOffer();try{n.remove()}catch{}try{i.stop()}catch{}try{t.close()}catch{}const a=yo.parse(o.sdp);return Dh.extractRtpCapabilities({sdpObject:a})}catch(o){try{n.remove()}catch{}try{i.stop()}catch{}try{t.close()}catch{}throw o}}async getNativeSctpCapabilities(){return tt.debug("getNativeSctpCapabilities()"),{numStreams:pP}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,extendedRtpCapabilities:h}){this.assertNotClosed(),tt.debug("run()"),this._direction=t,this._remoteSdp=new R7.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o}),this._sendingRtpParametersByKind={audio:ec.getSendingRtpParameters("audio",h),video:ec.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:ec.getSendingRemoteRtpParameters("audio",h),video:ec.getSendingRemoteRtpParameters("video",h)},this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:c||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...u},p),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(tt.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){throw this.assertNotClosed(),new uP.UnsupportedError("not supported")}async restartIce(t){if(this.assertNotClosed(),tt.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});tt.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};tt.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};tt.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();tt.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertNotClosed(),this.assertSendDirection(),tt.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),n&&n.length>1&&n.forEach((S,b)=>{S.rid=`r${b}`});const o=dP.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=ec.reduceCodecs(o.codecs,i);const a=dP.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=ec.reduceCodecs(a.codecs,i);const c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:n}),u=await this._pc.createOffer();let p=yo.parse(u.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:p});const h=(0,T7.parse)((n||[{}])[0].scalabilityMode);tt.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const g=c.mid;o.mid=g,p=yo.parse(this._pc.localDescription.sdp);const v=p.media[p.media.length-1];if(o.rtcp.cname=Dh.getCname({offerMediaObject:v}),!n)o.encodings=fP.getRtpEncodings({offerMediaObject:v});else if(n.length===1){const S=fP.getRtpEncodings({offerMediaObject:v});Object.assign(S[0],n[0]),o.encodings=S}else o.encodings=n;if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const S of o.encodings)S.scalabilityMode?S.scalabilityMode=`L1T${h.temporalLayers}`:S.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:v,offerRtpParameters:o,answerRtpParameters:a,codecOptions:r,extmapAllowMixed:!0});const w={type:"answer",sdp:this._remoteSdp.getSdp()};return tt.debug("send() | calling pc.setRemoteDescription() [answer:%o]",w),await this._pc.setRemoteDescription(w),this._mapMidTransceiver.set(g,c),{localId:g,rtpParameters:o,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),tt.debug("stopSending() [localId:%s]",t),this._closed)return;const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated transceiver not found");n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.disableMediaSection(n.mid);const r=await this._pc.createOffer();tt.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};tt.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),tt.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();tt.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};tt.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),tt.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const r=await this._pc.createOffer();tt.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};tt.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?tt.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):tt.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),tt.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated transceiver not found");const i=r.sender.getParameters();i.encodings.forEach((c,u)=>{u<=n?c.active=!0:c.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const o=await this._pc.createOffer();tt.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o);const a={type:"answer",sdp:this._remoteSdp.getSdp()};tt.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),tt.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((c,u)=>{i.encodings[u]={...c,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const o=await this._pc.createOffer();tt.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o);const a={type:"answer",sdp:this._remoteSdp.getSdp()};tt.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:o}){this.assertNotClosed(),this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:o};tt.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%pP.MIS,!this._hasDataChannelMediaSection){const p=await this._pc.createOffer(),h=yo.parse(p.sdp),g=h.media.find(w=>w.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:h}),tt.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),this._remoteSdp.sendSctpAssociation({offerMediaObject:g});const v={type:"answer",sdp:this._remoteSdp.getSdp()};tt.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),this._hasDataChannelMediaSection=!0}const u={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:u}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const c of t){const{trackId:u,kind:p,rtpParameters:h,streamId:g}=c;tt.debug("receive() [trackId:%s, kind:%s]",u,p);const v=h.mid||String(this._mapMidTransceiver.size);r.set(u,v),this._remoteSdp.receive({mid:v,kind:p,offerRtpParameters:h,streamId:g||h.rtcp.cname,trackId:u})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};tt.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const a=yo.parse(o.sdp);for(const c of t){const{trackId:u,rtpParameters:p}=c,h=r.get(u),g=a.media.find(v=>String(v.mid)===h);Dh.applyCodecParameters({offerRtpParameters:p,answerMediaObject:g}),o={type:"answer",sdp:yo.write(a)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:a}),tt.debug("receive() | calling pc.setLocalDescription() [answer:%o]",o),await this._pc.setLocalDescription(o);for(const c of t){const{trackId:u}=c,p=r.get(u),h=this._pc.getTransceivers().find(g=>g.mid===p);if(!h)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(p,h),n.push({localId:p,track:h.receiver.track,rtpReceiver:h.receiver})}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){tt.debug("stopReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(o.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};tt.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();tt.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){tt.debug("pauseReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};tt.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();tt.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){tt.debug("resumeReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};tt.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();tt.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c}=t,u={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c,protocol:r};tt.debug("receiveDataChannel() [options:%o]",u);const p=this._pc.createDataChannel(n,u);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const h={type:"offer",sdp:this._remoteSdp.getSdp()};tt.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();if(!this._transportReady){const v=yo.parse(g.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:v})}tt.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setLocalDescription(g),this._hasDataChannelMediaSection=!0}return{dataChannel:p}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=yo.parse(this._pc.localDescription.sdp));const r=Dh.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:r},i,o)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new uP.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}cv.Firefox120=e1;var uv={},E7=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),P7=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),sp=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&E7(t,e,n);return P7(t,e),t};Object.defineProperty(uv,"__esModule",{value:!0});uv.Firefox60=void 0;const wo=sp(un),k7=nn,hP=Rn,Bw=sp(cn),tc=sp(pt),Lh=sp(Cn),mP=sp(ci),D7=or,L7=Dr,M7=Ai,nt=new k7.Logger("Firefox60"),gP={OS:16,MIS:2048};class t1 extends D7.HandlerInterface{static createFactory(){return()=>new t1}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Firefox60"}close(){if(nt.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){nt.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),n=document.createElement("canvas");n.getContext("2d");const i=n.captureStream().getVideoTracks()[0];try{t.addTransceiver("audio",{direction:"sendrecv"});const o=t.addTransceiver(i,{direction:"sendrecv"}),a=o.sender.getParameters(),c=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}];a.encodings=c,await o.sender.setParameters(a);const u=await t.createOffer();try{n.remove()}catch{}try{i.stop()}catch{}try{t.close()}catch{}const p=wo.parse(u.sdp);return Lh.extractRtpCapabilities({sdpObject:p})}catch(o){try{n.remove()}catch{}try{i.stop()}catch{}try{t.close()}catch{}throw o}}async getNativeSctpCapabilities(){return nt.debug("getNativeSctpCapabilities()"),{numStreams:gP}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,extendedRtpCapabilities:h}){this.assertNotClosed(),nt.debug("run()"),this._direction=t,this._remoteSdp=new L7.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o}),this._sendingRtpParametersByKind={audio:tc.getSendingRtpParameters("audio",h),video:tc.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:tc.getSendingRemoteRtpParameters("audio",h),video:tc.getSendingRemoteRtpParameters("video",h)},this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:c||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...u},p),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(nt.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){throw this.assertNotClosed(),new hP.UnsupportedError("not supported")}async restartIce(t){if(this.assertNotClosed(),nt.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});nt.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};nt.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};nt.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();nt.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertNotClosed(),this.assertSendDirection(),nt.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),n&&(n=Bw.clone(n),n.length>1&&(n.forEach((S,b)=>{S.rid=`r${b}`}),n.reverse()));const o=Bw.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=tc.reduceCodecs(o.codecs,i);const a=Bw.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=tc.reduceCodecs(a.codecs,i);const c=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});if(n){const S=c.sender.getParameters();S.encodings=n,await c.sender.setParameters(S)}const u=await this._pc.createOffer();let p=wo.parse(u.sdp);this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:p});const h=(0,M7.parse)((n||[{}])[0].scalabilityMode);nt.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),await this._pc.setLocalDescription(u);const g=c.mid;o.mid=g,p=wo.parse(this._pc.localDescription.sdp);const v=p.media[p.media.length-1];if(o.rtcp.cname=Lh.getCname({offerMediaObject:v}),!n)o.encodings=mP.getRtpEncodings({offerMediaObject:v});else if(n.length===1){const S=mP.getRtpEncodings({offerMediaObject:v});Object.assign(S[0],n[0]),o.encodings=S}else o.encodings=n.reverse();if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const S of o.encodings)S.scalabilityMode?S.scalabilityMode=`L1T${h.temporalLayers}`:S.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:v,offerRtpParameters:o,answerRtpParameters:a,codecOptions:r,extmapAllowMixed:!0});const w={type:"answer",sdp:this._remoteSdp.getSdp()};return nt.debug("send() | calling pc.setRemoteDescription() [answer:%o]",w),await this._pc.setRemoteDescription(w),this._mapMidTransceiver.set(g,c),{localId:g,rtpParameters:o,rtpSender:c.sender}}async stopSending(t){if(this.assertSendDirection(),nt.debug("stopSending() [localId:%s]",t),this._closed)return;const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated transceiver not found");n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.disableMediaSection(n.mid);const r=await this._pc.createOffer();nt.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};nt.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),nt.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();nt.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};nt.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),nt.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const r=await this._pc.createOffer();nt.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};nt.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?nt.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):nt.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),nt.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated transceiver not found");const i=r.sender.getParameters();n=i.encodings.length-1-n,i.encodings.forEach((c,u)=>{u>=n?c.active=!0:c.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const o=await this._pc.createOffer();nt.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o);const a={type:"answer",sdp:this._remoteSdp.getSdp()};nt.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),nt.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((c,u)=>{i.encodings[u]={...c,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const o=await this._pc.createOffer();nt.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o);const a={type:"answer",sdp:this._remoteSdp.getSdp()};nt.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:o}){this.assertNotClosed(),this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:o};nt.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%gP.MIS,!this._hasDataChannelMediaSection){const p=await this._pc.createOffer(),h=wo.parse(p.sdp),g=h.media.find(w=>w.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:h}),nt.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),this._remoteSdp.sendSctpAssociation({offerMediaObject:g});const v={type:"answer",sdp:this._remoteSdp.getSdp()};nt.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),this._hasDataChannelMediaSection=!0}const u={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:u}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const c of t){const{trackId:u,kind:p,rtpParameters:h,streamId:g}=c;nt.debug("receive() [trackId:%s, kind:%s]",u,p);const v=h.mid||String(this._mapMidTransceiver.size);r.set(u,v),this._remoteSdp.receive({mid:v,kind:p,offerRtpParameters:h,streamId:g||h.rtcp.cname,trackId:u})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};nt.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const a=wo.parse(o.sdp);for(const c of t){const{trackId:u,rtpParameters:p}=c,h=r.get(u),g=a.media.find(v=>String(v.mid)===h);Lh.applyCodecParameters({offerRtpParameters:p,answerMediaObject:g}),o={type:"answer",sdp:wo.write(a)}}this._transportReady||await this.setupTransport({localDtlsRole:"client",localSdpObject:a}),nt.debug("receive() | calling pc.setLocalDescription() [answer:%o]",o),await this._pc.setLocalDescription(o);for(const c of t){const{trackId:u}=c,p=r.get(u),h=this._pc.getTransceivers().find(g=>g.mid===p);if(!h)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(p,h),n.push({localId:p,track:h.receiver.track,rtpReceiver:h.receiver})}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){nt.debug("stopReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(o.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};nt.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();nt.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){nt.debug("pauseReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};nt.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();nt.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){nt.debug("resumeReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};nt.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();nt.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c}=t,u={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c,protocol:r};nt.debug("receiveDataChannel() [options:%o]",u);const p=this._pc.createDataChannel(n,u);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const h={type:"offer",sdp:this._remoteSdp.getSdp()};nt.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();if(!this._transportReady){const v=wo.parse(g.sdp);await this.setupTransport({localDtlsRole:"client",localSdpObject:v})}nt.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setLocalDescription(g),this._hasDataChannelMediaSection=!0}return{dataChannel:p}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=wo.parse(this._pc.localDescription.sdp));const r=Lh.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:r},i,o)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new hP.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}uv.Firefox60=t1;var dv={},O7=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),A7=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Pu=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&O7(t,e,n);return A7(t,e),t};Object.defineProperty(dv,"__esModule",{value:!0});dv.Safari12=void 0;const qi=Pu(un),N7=nn,vP=Pu(cn),nc=Pu(pt),Mh=Pu(Cn),yP=Pu(ci),I7=Pu(ul),j7=Rn,F7=or,B7=Dr,$7=Ai,Ze=new N7.Logger("Safari12"),wP={OS:1024,MIS:1024};class n1 extends F7.HandlerInterface{static createFactory(){return()=>new n1}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Safari12"}close(){if(Ze.debug("close()"),!this._closed){if(this._closed=!0,this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){Ze.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"});try{t.addTransceiver("audio"),t.addTransceiver("video");const n=await t.createOffer();try{t.close()}catch{}const r=qi.parse(n.sdp),i=Mh.extractRtpCapabilities({sdpObject:r});return I7.addNackSuppportForOpus(i),i}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return Ze.debug("getNativeSctpCapabilities()"),{numStreams:wP}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,extendedRtpCapabilities:h}){this.assertNotClosed(),Ze.debug("run()"),this._direction=t,this._remoteSdp=new B7.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o}),this._sendingRtpParametersByKind={audio:nc.getSendingRtpParameters("audio",h),video:nc.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:nc.getSendingRemoteRtpParameters("audio",h),video:nc.getSendingRemoteRtpParameters("video",h)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:c||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...u},p),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Ze.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){this.assertNotClosed(),Ze.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(this.assertNotClosed(),Ze.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});Ze.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};Ze.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};Ze.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Ze.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertNotClosed(),this.assertSendDirection(),Ze.debug("send() [kind:%s, track.id:%s]",t.kind,t.id);const o=vP.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=nc.reduceCodecs(o.codecs,i);const a=vP.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=nc.reduceCodecs(a.codecs,i);const c=this._remoteSdp.getNextMediaSectionIdx(),u=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream]});let p=await this._pc.createOffer(),h=qi.parse(p.sdp),g;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h});const v=(0,$7.parse)((n||[{}])[0].scalabilityMode);n&&n.length>1&&(Ze.debug("send() | enabling legacy simulcast"),h=qi.parse(p.sdp),g=h.media[c.idx],yP.addLegacySimulcast({offerMediaObject:g,numStreams:n.length}),p={type:"offer",sdp:qi.write(h)}),Ze.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);const w=u.mid;if(o.mid=w,h=qi.parse(this._pc.localDescription.sdp),g=h.media[c.idx],o.rtcp.cname=Mh.getCname({offerMediaObject:g}),o.encodings=yP.getRtpEncodings({offerMediaObject:g}),n)for(let b=0;b<o.encodings.length;++b)n[b]&&Object.assign(o.encodings[b],n[b]);if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const b of o.encodings)b.scalabilityMode?b.scalabilityMode=`L1T${v.temporalLayers}`:b.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:g,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:r});const S={type:"answer",sdp:this._remoteSdp.getSdp()};return Ze.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),await this._pc.setRemoteDescription(S),this._mapMidTransceiver.set(w,u),{localId:w,rtpParameters:o,rtpSender:u.sender}}async stopSending(t){if(this.assertSendDirection(),this._closed)return;Ze.debug("stopSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");if(n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid))try{n.stop()}catch{}const i=await this._pc.createOffer();Ze.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Ze.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),Ze.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();Ze.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Ze.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),Ze.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly",this._remoteSdp.resumeSendingMediaSection(t);const r=await this._pc.createOffer();Ze.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Ze.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?Ze.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):Ze.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),Ze.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((c,u)=>{u<=n?c.active=!0:c.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const o=await this._pc.createOffer();Ze.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o);const a={type:"answer",sdp:this._remoteSdp.getSdp()};Ze.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),Ze.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((c,u)=>{i.encodings[u]={...c,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const o=await this._pc.createOffer();Ze.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o);const a={type:"answer",sdp:this._remoteSdp.getSdp()};Ze.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:o}){this.assertNotClosed(),this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:o};Ze.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%wP.MIS,!this._hasDataChannelMediaSection){const p=await this._pc.createOffer(),h=qi.parse(p.sdp),g=h.media.find(w=>w.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),Ze.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),this._remoteSdp.sendSctpAssociation({offerMediaObject:g});const v={type:"answer",sdp:this._remoteSdp.getSdp()};Ze.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),this._hasDataChannelMediaSection=!0}const u={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:u}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const c of t){const{trackId:u,kind:p,rtpParameters:h,streamId:g}=c;Ze.debug("receive() [trackId:%s, kind:%s]",u,p);const v=h.mid||String(this._mapMidTransceiver.size);r.set(u,v),this._remoteSdp.receive({mid:v,kind:p,offerRtpParameters:h,streamId:g||h.rtcp.cname,trackId:u})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};Ze.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const a=qi.parse(o.sdp);for(const c of t){const{trackId:u,rtpParameters:p}=c,h=r.get(u),g=a.media.find(v=>String(v.mid)===h);Mh.applyCodecParameters({offerRtpParameters:p,answerMediaObject:g})}o={type:"answer",sdp:qi.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:a}),Ze.debug("receive() | calling pc.setLocalDescription() [answer:%o]",o),await this._pc.setLocalDescription(o);for(const c of t){const{trackId:u}=c,p=r.get(u),h=this._pc.getTransceivers().find(g=>g.mid===p);if(!h)throw new Error("new RTCRtpTransceiver not found");this._mapMidTransceiver.set(p,h),n.push({localId:p,track:h.receiver.track,rtpReceiver:h.receiver})}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){Ze.debug("stopReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(o.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Ze.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Ze.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){Ze.debug("pauseReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Ze.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Ze.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){Ze.debug("resumeReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Ze.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Ze.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c}=t,u={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c,protocol:r};Ze.debug("receiveDataChannel() [options:%o]",u);const p=this._pc.createDataChannel(n,u);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const h={type:"offer",sdp:this._remoteSdp.getSdp()};Ze.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();if(!this._transportReady){const v=qi.parse(g.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:v})}Ze.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setLocalDescription(g),this._hasDataChannelMediaSection=!0}return{dataChannel:p}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=qi.parse(this._pc.localDescription.sdp));const r=Mh.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:r},i,o)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new j7.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}dv.Safari12=n1;var fv={},z7=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),U7=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),op=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&z7(t,e,n);return U7(t,e),t};Object.defineProperty(fv,"__esModule",{value:!0});fv.Safari11=void 0;const Yi=op(un),V7=nn,bP=op(cn),rc=op(pt),Oh=op(Cn),SP=op(qs),H7=or,W7=Dr,vt=new V7.Logger("Safari11"),xP={OS:1024,MIS:1024};class r1 extends H7.HandlerInterface{static createFactory(){return()=>new r1}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdRtpSender=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"Safari11"}close(){if(vt.debug("close()"),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){vt.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const r=Yi.parse(n.sdp);return Oh.extractRtpCapabilities({sdpObject:r})}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return vt.debug("getNativeSctpCapabilities()"),{numStreams:xP}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,extendedRtpCapabilities:h}){vt.debug("run()"),this._direction=t,this._remoteSdp=new W7.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,planB:!0}),this._sendingRtpParametersByKind={audio:rc.getSendingRtpParameters("audio",h),video:rc.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:rc.getSendingRemoteRtpParameters("audio",h),video:rc.getSendingRemoteRtpParameters("video",h)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:c||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",...u},p),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(vt.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){vt.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(vt.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});vt.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};vt.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};vt.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();vt.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertSendDirection(),vt.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),i&&vt.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addTrack(t,this._sendStream);let o=await this._pc.createOffer(),a=Yi.parse(o.sdp),c;const u=bP.clone(this._sendingRtpParametersByKind[t.kind]);u.codecs=rc.reduceCodecs(u.codecs);const p=bP.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(p.codecs=rc.reduceCodecs(p.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:a}),t.kind==="video"&&n&&n.length>1&&(vt.debug("send() | enabling simulcast"),a=Yi.parse(o.sdp),c=a.media.find(w=>w.type==="video"),SP.addLegacySimulcast({offerMediaObject:c,track:t,numStreams:n.length}),o={type:"offer",sdp:Yi.write(a)}),vt.debug("send() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o),a=Yi.parse(this._pc.localDescription.sdp),c=a.media.find(w=>w.type===t.kind),u.rtcp.cname=Oh.getCname({offerMediaObject:c}),u.encodings=SP.getRtpEncodings({offerMediaObject:c,track:t}),n)for(let w=0;w<u.encodings.length;++w)n[w]&&Object.assign(u.encodings[w],n[w]);if(u.encodings.length>1&&u.codecs[0].mimeType.toLowerCase()==="video/vp8")for(const w of u.encodings)w.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:c,offerRtpParameters:u,answerRtpParameters:p,codecOptions:r});const h={type:"answer",sdp:this._remoteSdp.getSdp()};vt.debug("send() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h);const g=String(this._nextSendLocalId);this._nextSendLocalId++;const v=this._pc.getSenders().find(w=>w.track===t);return this._mapSendLocalIdRtpSender.set(g,v),{localId:g,rtpParameters:u,rtpSender:v}}async stopSending(t){this.assertSendDirection();const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");n.track&&this._sendStream.removeTrack(n.track),this._mapSendLocalIdRtpSender.delete(t);const r=await this._pc.createOffer();vt.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(o){if(this._sendStream.getTracks().length===0){vt.warn("stopSending() | ignoring expected error due no sending tracks: %s",o.toString());return}throw o}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};vt.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){this.assertSendDirection(),n?vt.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):vt.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.track;await r.replaceTrack(n),i&&this._sendStream.removeTrack(i),n&&this._sendStream.addTrack(n)}async setMaxSpatialLayer(t,n){this.assertSendDirection(),vt.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((o,a)=>{a<=n?o.active=!0:o.active=!1}),await r.setParameters(i)}async setRtpEncodingParameters(t,n){this.assertSendDirection(),vt.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapSendLocalIdRtpSender.get(t);if(!r)throw new Error("associated RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((o,a)=>{i.encodings[a]={...o,...n}}),await r.setParameters(i)}async getSenderStats(t){this.assertSendDirection();const n=this._mapSendLocalIdRtpSender.get(t);if(!n)throw new Error("associated RTCRtpSender not found");return n.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:o}){this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:o};vt.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%xP.MIS,!this._hasDataChannelMediaSection){const p=await this._pc.createOffer(),h=Yi.parse(p.sdp),g=h.media.find(w=>w.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),vt.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),this._remoteSdp.sendSctpAssociation({offerMediaObject:g});const v={type:"answer",sdp:this._remoteSdp.getSdp()};vt.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),this._hasDataChannelMediaSection=!0}const u={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:u}}async receive(t){this.assertRecvDirection();const n=[];for(const a of t){const{trackId:c,kind:u,rtpParameters:p,streamId:h}=a;vt.debug("receive() [trackId:%s, kind:%s]",c,u);const g=u;this._remoteSdp.receive({mid:g,kind:u,offerRtpParameters:p,streamId:h||p.rtcp.cname,trackId:c})}const r={type:"offer",sdp:this._remoteSdp.getSdp()};vt.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",r),await this._pc.setRemoteDescription(r);let i=await this._pc.createAnswer();const o=Yi.parse(i.sdp);for(const a of t){const{kind:c,rtpParameters:u}=a,p=c,h=o.media.find(g=>String(g.mid)===p);Oh.applyCodecParameters({offerRtpParameters:u,answerMediaObject:h})}i={type:"answer",sdp:Yi.write(o)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:o}),vt.debug("receive() | calling pc.setLocalDescription() [answer:%o]",i),await this._pc.setLocalDescription(i);for(const a of t){const{kind:c,trackId:u,rtpParameters:p}=a,h=c,g=u,v=this._pc.getReceivers().find(w=>w.track&&w.track.id===g);if(!v)throw new Error("new RTCRtpReceiver not");this._mapRecvLocalIdInfo.set(g,{mid:h,rtpParameters:p,rtpReceiver:v}),n.push({localId:g,track:v.track,rtpReceiver:v})}return n}async stopReceiving(t){this.assertRecvDirection();for(const i of t){vt.debug("stopReceiving() [localId:%s]",i);const{mid:o,rtpParameters:a}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:o,offerRtpParameters:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};vt.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();vt.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertRecvDirection();const{rtpReceiver:n}=this._mapRecvLocalIdInfo.get(t)||{};if(!n)throw new Error("associated RTCRtpReceiver not found");return n.getStats()}async pauseReceiving(t){}async resumeReceiving(t){}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c}=t,u={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c,protocol:r};vt.debug("receiveDataChannel() [options:%o]",u);const p=this._pc.createDataChannel(n,u);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const h={type:"offer",sdp:this._remoteSdp.getSdp()};vt.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();if(!this._transportReady){const v=Yi.parse(g.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:v})}vt.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setLocalDescription(g),this._hasDataChannelMediaSection=!0}return{dataChannel:p}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=Yi.parse(this._pc.localDescription.sdp));const r=Oh.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:r},i,o)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}fv.Safari11=r1;var pv={},du={},K7=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),G7=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),q7=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&K7(t,e,n);return G7(t,e),t};Object.defineProperty(du,"__esModule",{value:!0});du.mangleRtpParameters=du.getCapabilities=void 0;const vA=q7(cn);function Y7(){const e=RTCRtpReceiver.getCapabilities(),t=vA.clone(e);for(const n of t.codecs??[]){if(n.channels=n.numChannels,delete n.numChannels,n.mimeType=n.mimeType||`${n.kind}/${n.name}`,n.parameters){const r=n.parameters;r.apt&&(r.apt=Number(r.apt)),r["packetization-mode"]&&(r["packetization-mode"]=Number(r["packetization-mode"]))}for(const r of n.rtcpFeedback||[])r.parameter||(r.parameter="")}return t}du.getCapabilities=Y7;function X7(e){const t=vA.clone(e);t.mid&&(t.muxId=t.mid,delete t.mid);for(const n of t.codecs)n.channels&&(n.numChannels=n.channels,delete n.channels),n.mimeType&&!n.name&&(n.name=n.mimeType.split("/")[1]),delete n.mimeType;return t}du.mangleRtpParameters=X7;var Q7=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Z7=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i1=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&Q7(t,e,n);return Z7(t,e),t};Object.defineProperty(pv,"__esModule",{value:!0});pv.Edge11=void 0;const J7=nn,$w=Rn,Ah=i1(cn),zw=i1(pt),Uw=i1(du),eW=or,Mt=new J7.Logger("Edge11");class s1 extends eW.HandlerInterface{static createFactory(){return()=>new s1}constructor(){super(),this._rtpSenders=new Map,this._rtpReceivers=new Map,this._nextSendLocalId=0,this._transportReady=!1}get name(){return"Edge11"}close(){Mt.debug("close()");try{this._iceGatherer.close()}catch{}try{this._iceTransport.stop()}catch{}try{this._dtlsTransport.stop()}catch{}for(const t of this._rtpSenders.values())try{t.stop()}catch{}for(const t of this._rtpReceivers.values())try{t.stop()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){return Mt.debug("getNativeRtpCapabilities()"),Uw.getCapabilities()}async getNativeSctpCapabilities(){return Mt.debug("getNativeSctpCapabilities()"),{numStreams:{OS:0,MIS:0}}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,extendedRtpCapabilities:h}){Mt.debug("run()"),this._sendingRtpParametersByKind={audio:zw.getSendingRtpParameters("audio",h),video:zw.getSendingRtpParameters("video",h)},this._remoteIceParameters=n,this._remoteIceCandidates=r,this._remoteDtlsParameters=i,this._cname=`CNAME-${Ah.generateRandomNumber()}`,this.setIceGatherer({iceServers:a,iceTransportPolicy:c}),this.setIceTransport(),this.setDtlsTransport()}async updateIceServers(t){throw new $w.UnsupportedError("not supported")}async restartIce(t){if(Mt.debug("restartIce()"),this._remoteIceParameters=t,!!this._transportReady){Mt.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,t,"controlling");for(const n of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(n);this._iceTransport.addRemoteCandidate({})}}async getTransportStats(){return this._iceTransport.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){Mt.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),this._transportReady||await this.setupTransport({localDtlsRole:"server"}),Mt.debug("send() | calling new RTCRtpSender()");const o=new RTCRtpSender(t,this._dtlsTransport),a=Ah.clone(this._sendingRtpParametersByKind[t.kind]);a.codecs=zw.reduceCodecs(a.codecs,i);const c=a.codecs.some(h=>/.+\/rtx$/i.test(h.mimeType));n||(n=[{}]);for(const h of n)h.ssrc=Ah.generateRandomNumber(),c&&(h.rtx={ssrc:Ah.generateRandomNumber()});a.encodings=n,a.rtcp={cname:this._cname,reducedSize:!0,mux:!0};const u=Uw.mangleRtpParameters(a);Mt.debug("send() | calling rtpSender.send() [params:%o]",u),await o.send(u);const p=String(this._nextSendLocalId);return this._nextSendLocalId++,this._rtpSenders.set(p,o),{localId:p,rtpParameters:a,rtpSender:o}}async stopSending(t){Mt.debug("stopSending() [localId:%s]",t);const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");this._rtpSenders.delete(t);try{Mt.debug("stopSending() | calling rtpSender.stop()"),n.stop()}catch(r){throw Mt.warn("stopSending() | rtpSender.stop() failed:%o",r),r}}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){n?Mt.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):Mt.debug("replaceTrack() [localId:%s, no track]",t);const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");r.setTrack(n)}async setMaxSpatialLayer(t,n){Mt.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((o,a)=>{a<=n?o.active=!0:o.active=!1}),await r.setParameters(i)}async setRtpEncodingParameters(t,n){Mt.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._rtpSenders.get(t);if(!r)throw new Error("RTCRtpSender not found");const i=r.getParameters();i.encodings.forEach((o,a)=>{i.encodings[a]={...o,...n}}),await r.setParameters(i)}async getSenderStats(t){const n=this._rtpSenders.get(t);if(!n)throw new Error("RTCRtpSender not found");return n.getStats()}async sendDataChannel(t){throw new $w.UnsupportedError("not implemented")}async receive(t){const n=[];for(const r of t){const{trackId:i,kind:o}=r;Mt.debug("receive() [trackId:%s, kind:%s]",i,o)}this._transportReady||await this.setupTransport({localDtlsRole:"server"});for(const r of t){const{trackId:i,kind:o,rtpParameters:a}=r;Mt.debug("receive() | calling new RTCRtpReceiver()");const c=new RTCRtpReceiver(this._dtlsTransport,o);c.addEventListener("error",h=>{Mt.error('rtpReceiver "error" event [event:%o]',h)});const u=Uw.mangleRtpParameters(a);Mt.debug("receive() | calling rtpReceiver.receive() [params:%o]",u),await c.receive(u);const p=i;this._rtpReceivers.set(p,c),n.push({localId:p,track:c.track,rtpReceiver:c})}return n}async stopReceiving(t){for(const n of t){Mt.debug("stopReceiving() [localId:%s]",n);const r=this._rtpReceivers.get(n);if(!r)throw new Error("RTCRtpReceiver not found");this._rtpReceivers.delete(n);try{Mt.debug("stopReceiving() | calling rtpReceiver.stop()"),r.stop()}catch(i){Mt.warn("stopReceiving() | rtpReceiver.stop() failed:%o",i)}}}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){const n=this._rtpReceivers.get(t);if(!n)throw new Error("RTCRtpReceiver not found");return n.getStats()}async receiveDataChannel(t){throw new $w.UnsupportedError("not implemented")}setIceGatherer({iceServers:t,iceTransportPolicy:n}){const r=new RTCIceGatherer({iceServers:t||[],gatherPolicy:n||"all"});r.addEventListener("error",i=>{Mt.error('iceGatherer "error" event [event:%o]',i)});try{r.gather()}catch(i){Mt.debug("setIceGatherer() | iceGatherer.gather() failed: %s",i.toString())}this._iceGatherer=r}setIceTransport(){const t=new RTCIceTransport(this._iceGatherer);t.addEventListener("statechange",()=>{switch(t.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),t.addEventListener("icestatechange",()=>{switch(t.state){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}}),t.addEventListener("candidatepairchange",n=>{Mt.debug('iceTransport "candidatepairchange" event [pair:%o]',n.pair)}),this._iceTransport=t}setDtlsTransport(){const t=new RTCDtlsTransport(this._iceTransport);t.addEventListener("statechange",()=>{Mt.debug('dtlsTransport "statechange" event [state:%s]',t.state)}),t.addEventListener("dtlsstatechange",()=>{Mt.debug('dtlsTransport "dtlsstatechange" event [state:%s]',t.state),t.state==="closed"&&this.emit("@connectionstatechange","closed")}),t.addEventListener("error",n=>{Mt.error('dtlsTransport "error" event [event:%o]',n)}),this._dtlsTransport=t}async setupTransport({localDtlsRole:t}){Mt.debug("setupTransport()");const n=this._dtlsTransport.getLocalParameters();n.role=t,await new Promise((r,i)=>{this.safeEmit("@connect",{dtlsParameters:n},r,i)}),this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling");for(const r of this._remoteIceCandidates)this._iceTransport.addRemoteCandidate(r);this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter(r=>r.algorithm==="sha-256"||r.algorithm==="sha-384"||r.algorithm==="sha-512"),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0}}pv.Edge11=s1;var hv={},tW=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),nW=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ku=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&tW(t,e,n);return nW(t,e),t};Object.defineProperty(hv,"__esModule",{value:!0});hv.ReactNativeUnifiedPlan=void 0;const Xi=ku(un),rW=nn,_P=ku(cn),ic=ku(pt),Nh=ku(Cn),Vw=ku(ci),iW=ku(ul),sW=Rn,oW=or,aW=Dr,lW=Ai,Xe=new rW.Logger("ReactNativeUnifiedPlan"),CP={OS:1024,MIS:1024};class o1 extends oW.HandlerInterface{static createFactory(){return()=>new o1}constructor(){super(),this._closed=!1,this._mapMidTransceiver=new Map,this._sendStream=new MediaStream,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"ReactNativeUnifiedPlan"}close(){if(Xe.debug("close()"),!this._closed){if(this._closed=!0,this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}}async getNativeRtpCapabilities(){Xe.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});try{t.addTransceiver("audio"),t.addTransceiver("video");const n=await t.createOffer();try{t.close()}catch{}const r=Xi.parse(n.sdp),i=Nh.extractRtpCapabilities({sdpObject:r});return iW.addNackSuppportForOpus(i),i}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return Xe.debug("getNativeSctpCapabilities()"),{numStreams:CP}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,extendedRtpCapabilities:h}){this.assertNotClosed(),Xe.debug("run()"),this._direction=t,this._remoteSdp=new aW.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o}),this._sendingRtpParametersByKind={audio:ic.getSendingRtpParameters("audio",h),video:ic.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:ic.getSendingRemoteRtpParameters("audio",h),video:ic.getSendingRemoteRtpParameters("video",h)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:c||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan",...u},p),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(Xe.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){this.assertNotClosed(),Xe.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(this.assertNotClosed(),Xe.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});Xe.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};Xe.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};Xe.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Xe.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this.assertNotClosed(),this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertNotClosed(),this.assertSendDirection(),Xe.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),n&&n.length>1&&n.forEach((P,R)=>{P.rid=`r${R}`});const o=_P.clone(this._sendingRtpParametersByKind[t.kind]);o.codecs=ic.reduceCodecs(o.codecs,i);const a=_P.clone(this._sendingRemoteRtpParametersByKind[t.kind]);a.codecs=ic.reduceCodecs(a.codecs,i);const c=this._remoteSdp.getNextMediaSectionIdx(),u=this._pc.addTransceiver(t,{direction:"sendonly",streams:[this._sendStream],sendEncodings:n});let p=await this._pc.createOffer(),h=Xi.parse(p.sdp),g;this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h});let v=!1;const w=(0,lW.parse)((n||[{}])[0].scalabilityMode);n&&n.length===1&&w.spatialLayers>1&&o.codecs[0].mimeType.toLowerCase()==="video/vp9"&&(Xe.debug("send() | enabling legacy simulcast for VP9 SVC"),v=!0,h=Xi.parse(p.sdp),g=h.media[c.idx],Vw.addLegacySimulcast({offerMediaObject:g,numStreams:w.spatialLayers}),p={type:"offer",sdp:Xi.write(h)}),Xe.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p);let S=u.mid??void 0;if(S||Xe.warn("send() | missing transceiver.mid (bug in react-native-webrtc, using a workaround"),o.mid=S,h=Xi.parse(this._pc.localDescription.sdp),g=h.media[c.idx],o.rtcp.cname=Nh.getCname({offerMediaObject:g}),!n)o.encodings=Vw.getRtpEncodings({offerMediaObject:g});else if(n.length===1){let P=Vw.getRtpEncodings({offerMediaObject:g});Object.assign(P[0],n[0]),v&&(P=[P[0]]),o.encodings=P}else o.encodings=n;if(o.encodings.length>1&&(o.codecs[0].mimeType.toLowerCase()==="video/vp8"||o.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const P of o.encodings)P.scalabilityMode?P.scalabilityMode=`L1T${w.temporalLayers}`:P.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:g,reuseMid:c.reuseMid,offerRtpParameters:o,answerRtpParameters:a,codecOptions:r,extmapAllowMixed:!0});const b={type:"answer",sdp:this._remoteSdp.getSdp()};return Xe.debug("send() | calling pc.setRemoteDescription() [answer:%o]",b),await this._pc.setRemoteDescription(b),S||(S=u.mid,o.mid=S),this._mapMidTransceiver.set(S,u),{localId:S,rtpParameters:o,rtpSender:u.sender}}async stopSending(t){if(this.assertSendDirection(),this._closed)return;Xe.debug("stopSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");if(n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid))try{n.stop()}catch{}const i=await this._pc.createOffer();Xe.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",i),await this._pc.setLocalDescription(i);const o={type:"answer",sdp:this._remoteSdp.getSdp()};Xe.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",o),await this._pc.setRemoteDescription(o),this._mapMidTransceiver.delete(t)}async pauseSending(t){this.assertNotClosed(),this.assertSendDirection(),Xe.debug("pauseSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="inactive",this._remoteSdp.pauseMediaSection(t);const r=await this._pc.createOffer();Xe.debug("pauseSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Xe.debug("pauseSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async resumeSending(t){this.assertNotClosed(),this.assertSendDirection(),Xe.debug("resumeSending() [localId:%s]",t);const n=this._mapMidTransceiver.get(t);if(this._remoteSdp.resumeSendingMediaSection(t),!n)throw new Error("associated RTCRtpTransceiver not found");n.direction="sendonly";const r=await this._pc.createOffer();Xe.debug("resumeSending() | calling pc.setLocalDescription() [offer:%o]",r),await this._pc.setLocalDescription(r);const i={type:"answer",sdp:this._remoteSdp.getSdp()};Xe.debug("resumeSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async replaceTrack(t,n){this.assertNotClosed(),this.assertSendDirection(),n?Xe.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):Xe.debug("replaceTrack() [localId:%s, no track]",t);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");await r.sender.replaceTrack(n)}async setMaxSpatialLayer(t,n){this.assertNotClosed(),this.assertSendDirection(),Xe.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((c,u)=>{u<=n?c.active=!0:c.active=!1}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const o=await this._pc.createOffer();Xe.debug("setMaxSpatialLayer() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o);const a={type:"answer",sdp:this._remoteSdp.getSdp()};Xe.debug("setMaxSpatialLayer() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a)}async setRtpEncodingParameters(t,n){this.assertNotClosed(),this.assertSendDirection(),Xe.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n);const r=this._mapMidTransceiver.get(t);if(!r)throw new Error("associated RTCRtpTransceiver not found");const i=r.sender.getParameters();i.encodings.forEach((c,u)=>{i.encodings[u]={...c,...n}}),await r.sender.setParameters(i),this._remoteSdp.muxMediaSectionSimulcast(t,i.encodings);const o=await this._pc.createOffer();Xe.debug("setRtpEncodingParameters() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o);const a={type:"answer",sdp:this._remoteSdp.getSdp()};Xe.debug("setRtpEncodingParameters() | calling pc.setRemoteDescription() [answer:%o]",a),await this._pc.setRemoteDescription(a)}async getSenderStats(t){this.assertNotClosed(),this.assertSendDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.sender.getStats()}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:o}){this.assertNotClosed(),this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmits:r,protocol:o};Xe.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%CP.MIS,!this._hasDataChannelMediaSection){const p=await this._pc.createOffer(),h=Xi.parse(p.sdp),g=h.media.find(w=>w.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),Xe.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),this._remoteSdp.sendSctpAssociation({offerMediaObject:g});const v={type:"answer",sdp:this._remoteSdp.getSdp()};Xe.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),this._hasDataChannelMediaSection=!0}const u={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:u}}async receive(t){this.assertNotClosed(),this.assertRecvDirection();const n=[],r=new Map;for(const c of t){const{trackId:u,kind:p,rtpParameters:h,streamId:g}=c;Xe.debug("receive() [trackId:%s, kind:%s]",u,p);const v=h.mid||String(this._mapMidTransceiver.size);r.set(u,v),this._remoteSdp.receive({mid:v,kind:p,offerRtpParameters:h,streamId:g||h.rtcp.cname,trackId:u})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};Xe.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const a=Xi.parse(o.sdp);for(const c of t){const{trackId:u,rtpParameters:p}=c,h=r.get(u),g=a.media.find(v=>String(v.mid)===h);Nh.applyCodecParameters({offerRtpParameters:p,answerMediaObject:g})}o={type:"answer",sdp:Xi.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:a}),Xe.debug("receive() | calling pc.setLocalDescription() [answer:%o]",o),await this._pc.setLocalDescription(o);for(const c of t){const{trackId:u}=c,p=r.get(u),h=this._pc.getTransceivers().find(g=>g.mid===p);if(h)this._mapMidTransceiver.set(p,h),n.push({localId:p,track:h.receiver.track,rtpReceiver:h.receiver});else throw new Error("new RTCRtpTransceiver not found")}return n}async stopReceiving(t){if(this.assertRecvDirection(),this._closed)return;for(const i of t){Xe.debug("stopReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");this._remoteSdp.closeMediaSection(o.mid)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Xe.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Xe.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r);for(const i of t)this._mapMidTransceiver.delete(i)}async pauseReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){Xe.debug("pauseReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="inactive",this._remoteSdp.pauseMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Xe.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Xe.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async resumeReceiving(t){this.assertNotClosed(),this.assertRecvDirection();for(const i of t){Xe.debug("resumeReceiving() [localId:%s]",i);const o=this._mapMidTransceiver.get(i);if(!o)throw new Error("associated RTCRtpTransceiver not found");o.direction="recvonly",this._remoteSdp.resumeReceivingMediaSection(i)}const n={type:"offer",sdp:this._remoteSdp.getSdp()};Xe.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();Xe.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async getReceiverStats(t){this.assertNotClosed(),this.assertRecvDirection();const n=this._mapMidTransceiver.get(t);if(!n)throw new Error("associated RTCRtpTransceiver not found");return n.receiver.getStats()}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertNotClosed(),this.assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c}=t,u={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c,protocol:r};Xe.debug("receiveDataChannel() [options:%o]",u);const p=this._pc.createDataChannel(n,u);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation();const h={type:"offer",sdp:this._remoteSdp.getSdp()};Xe.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();if(!this._transportReady){const v=Xi.parse(g.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:v})}Xe.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setLocalDescription(g),this._hasDataChannelMediaSection=!0}return{dataChannel:p}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=Xi.parse(this._pc.localDescription.sdp));const r=Nh.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:r},i,o)}),this._transportReady=!0}assertNotClosed(){if(this._closed)throw new sW.InvalidStateError("method called in a closed handler")}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}hv.ReactNativeUnifiedPlan=o1;var mv={},cW=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),uW=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ap=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&cW(t,e,n);return uW(t,e),t};Object.defineProperty(mv,"__esModule",{value:!0});mv.ReactNative=void 0;const Qi=ap(un),dW=nn,Td=Rn,Hw=ap(cn),sc=ap(pt),Ih=ap(Cn),RP=ap(qs),fW=or,pW=Dr,_t=new dW.Logger("ReactNative"),TP={OS:1024,MIS:1024};class a1 extends fW.HandlerInterface{static createFactory(){return()=>new a1}constructor(){super(),this._sendStream=new MediaStream,this._mapSendLocalIdTrack=new Map,this._nextSendLocalId=0,this._mapRecvLocalIdInfo=new Map,this._hasDataChannelMediaSection=!1,this._nextSendSctpStreamId=0,this._transportReady=!1}get name(){return"ReactNative"}close(){if(_t.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch{}this.emit("@close")}async getNativeRtpCapabilities(){_t.debug("getNativeRtpCapabilities()");const t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"});try{const n=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});try{t.close()}catch{}const r=Qi.parse(n.sdp);return Ih.extractRtpCapabilities({sdpObject:r})}catch(n){try{t.close()}catch{}throw n}}async getNativeSctpCapabilities(){return _t.debug("getNativeSctpCapabilities()"),{numStreams:TP}}run({direction:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,extendedRtpCapabilities:h}){_t.debug("run()"),this._direction=t,this._remoteSdp=new pW.RemoteSdp({iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,planB:!0}),this._sendingRtpParametersByKind={audio:sc.getSendingRtpParameters("audio",h),video:sc.getSendingRtpParameters("video",h)},this._sendingRemoteRtpParametersByKind={audio:sc.getSendingRemoteRtpParameters("audio",h),video:sc.getSendingRemoteRtpParameters("video",h)},i.role&&i.role!=="auto"&&(this._forcedLocalDtlsRole=i.role==="server"?"client":"server"),this._pc=new RTCPeerConnection({iceServers:a||[],iceTransportPolicy:c||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b",...u},p),this._pc.addEventListener("icegatheringstatechange",()=>{this.emit("@icegatheringstatechange",this._pc.iceGatheringState)}),this._pc.connectionState?this._pc.addEventListener("connectionstatechange",()=>{this.emit("@connectionstatechange",this._pc.connectionState)}):this._pc.addEventListener("iceconnectionstatechange",()=>{switch(_t.warn("run() | pc.connectionState not supported, using pc.iceConnectionState"),this._pc.iceConnectionState){case"checking":{this.emit("@connectionstatechange","connecting");break}case"connected":case"completed":{this.emit("@connectionstatechange","connected");break}case"failed":{this.emit("@connectionstatechange","failed");break}case"disconnected":{this.emit("@connectionstatechange","disconnected");break}case"closed":{this.emit("@connectionstatechange","closed");break}}})}async updateIceServers(t){_t.debug("updateIceServers()");const n=this._pc.getConfiguration();n.iceServers=t,this._pc.setConfiguration(n)}async restartIce(t){if(_t.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),!!this._transportReady)if(this._direction==="send"){const n=await this._pc.createOffer({iceRestart:!0});_t.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),await this._pc.setLocalDescription(n);const r={type:"answer",sdp:this._remoteSdp.getSdp()};_t.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),await this._pc.setRemoteDescription(r)}else{const n={type:"offer",sdp:this._remoteSdp.getSdp()};_t.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();_t.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}}async getTransportStats(){return this._pc.getStats()}async send({track:t,encodings:n,codecOptions:r,codec:i}){this.assertSendDirection(),_t.debug("send() [kind:%s, track.id:%s]",t.kind,t.id),i&&_t.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(t),this._pc.addStream(this._sendStream);let o=await this._pc.createOffer(),a=Qi.parse(o.sdp),c;const u=Hw.clone(this._sendingRtpParametersByKind[t.kind]);u.codecs=sc.reduceCodecs(u.codecs);const p=Hw.clone(this._sendingRemoteRtpParametersByKind[t.kind]);if(p.codecs=sc.reduceCodecs(p.codecs),this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:a}),t.kind==="video"&&n&&n.length>1&&(_t.debug("send() | enabling simulcast"),a=Qi.parse(o.sdp),c=a.media.find(v=>v.type==="video"),RP.addLegacySimulcast({offerMediaObject:c,track:t,numStreams:n.length}),o={type:"offer",sdp:Qi.write(a)}),_t.debug("send() | calling pc.setLocalDescription() [offer:%o]",o),await this._pc.setLocalDescription(o),a=Qi.parse(this._pc.localDescription.sdp),c=a.media.find(v=>v.type===t.kind),u.rtcp.cname=Ih.getCname({offerMediaObject:c}),u.encodings=RP.getRtpEncodings({offerMediaObject:c,track:t}),n)for(let v=0;v<u.encodings.length;++v)n[v]&&Object.assign(u.encodings[v],n[v]);if(u.encodings.length>1&&(u.codecs[0].mimeType.toLowerCase()==="video/vp8"||u.codecs[0].mimeType.toLowerCase()==="video/h264"))for(const v of u.encodings)v.scalabilityMode="L1T3";this._remoteSdp.send({offerMediaObject:c,offerRtpParameters:u,answerRtpParameters:p,codecOptions:r});const h={type:"answer",sdp:this._remoteSdp.getSdp()};_t.debug("send() | calling pc.setRemoteDescription() [answer:%o]",h),await this._pc.setRemoteDescription(h);const g=String(this._nextSendLocalId);return this._nextSendLocalId++,this._mapSendLocalIdTrack.set(g,t),{localId:g,rtpParameters:u}}async stopSending(t){this.assertSendDirection(),_t.debug("stopSending() [localId:%s]",t);const n=this._mapSendLocalIdTrack.get(t);if(!n)throw new Error("track not found");this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(n),this._pc.addStream(this._sendStream);const r=await this._pc.createOffer();_t.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r);try{await this._pc.setLocalDescription(r)}catch(o){if(this._sendStream.getTracks().length===0){_t.warn("stopSending() | ignoring expected error due no sending tracks: %s",o.toString());return}throw o}if(this._pc.signalingState==="stable")return;const i={type:"answer",sdp:this._remoteSdp.getSdp()};_t.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",i),await this._pc.setRemoteDescription(i)}async pauseSending(t){}async resumeSending(t){}async replaceTrack(t,n){throw new Td.UnsupportedError("not implemented")}async setMaxSpatialLayer(t,n){throw new Td.UnsupportedError("not implemented")}async setRtpEncodingParameters(t,n){throw new Td.UnsupportedError("not implemented")}async getSenderStats(t){throw new Td.UnsupportedError("not implemented")}async sendDataChannel({ordered:t,maxPacketLifeTime:n,maxRetransmits:r,label:i,protocol:o}){this.assertSendDirection();const a={negotiated:!0,id:this._nextSendSctpStreamId,ordered:t,maxPacketLifeTime:n,maxRetransmitTime:n,maxRetransmits:r,protocol:o};_t.debug("sendDataChannel() [options:%o]",a);const c=this._pc.createDataChannel(i,a);if(this._nextSendSctpStreamId=++this._nextSendSctpStreamId%TP.MIS,!this._hasDataChannelMediaSection){const p=await this._pc.createOffer(),h=Qi.parse(p.sdp),g=h.media.find(w=>w.type==="application");this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:h}),_t.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",p),await this._pc.setLocalDescription(p),this._remoteSdp.sendSctpAssociation({offerMediaObject:g});const v={type:"answer",sdp:this._remoteSdp.getSdp()};_t.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),await this._pc.setRemoteDescription(v),this._hasDataChannelMediaSection=!0}const u={streamId:a.id,ordered:a.ordered,maxPacketLifeTime:a.maxPacketLifeTime,maxRetransmits:a.maxRetransmits};return{dataChannel:c,sctpStreamParameters:u}}async receive(t){this.assertRecvDirection();const n=[],r=new Map;for(const c of t){const{trackId:u,kind:p,rtpParameters:h}=c;_t.debug("receive() [trackId:%s, kind:%s]",u,p);const g=p;let v=c.streamId||h.rtcp.cname;_t.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),v+=`-hack-${Hw.generateRandomNumber()}`,r.set(u,v),this._remoteSdp.receive({mid:g,kind:p,offerRtpParameters:h,streamId:v,trackId:u})}const i={type:"offer",sdp:this._remoteSdp.getSdp()};_t.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",i),await this._pc.setRemoteDescription(i);let o=await this._pc.createAnswer();const a=Qi.parse(o.sdp);for(const c of t){const{kind:u,rtpParameters:p}=c,h=u,g=a.media.find(v=>String(v.mid)===h);Ih.applyCodecParameters({offerRtpParameters:p,answerMediaObject:g})}o={type:"answer",sdp:Qi.write(a)},this._transportReady||await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:a}),_t.debug("receive() | calling pc.setLocalDescription() [answer:%o]",o),await this._pc.setLocalDescription(o);for(const c of t){const{kind:u,trackId:p,rtpParameters:h}=c,g=p,v=u,w=r.get(p),b=this._pc.getRemoteStreams().find(P=>P.id===w).getTrackById(g);if(!b)throw new Error("remote track not found");this._mapRecvLocalIdInfo.set(g,{mid:v,rtpParameters:h}),n.push({localId:g,track:b})}return n}async stopReceiving(t){this.assertRecvDirection();for(const i of t){_t.debug("stopReceiving() [localId:%s]",i);const{mid:o,rtpParameters:a}=this._mapRecvLocalIdInfo.get(i)||{};this._mapRecvLocalIdInfo.delete(i),this._remoteSdp.planBStopReceiving({mid:o,offerRtpParameters:a})}const n={type:"offer",sdp:this._remoteSdp.getSdp()};_t.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",n),await this._pc.setRemoteDescription(n);const r=await this._pc.createAnswer();_t.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",r),await this._pc.setLocalDescription(r)}async pauseReceiving(t){}async resumeReceiving(t){}async getReceiverStats(t){throw new Td.UnsupportedError("not implemented")}async receiveDataChannel({sctpStreamParameters:t,label:n,protocol:r}){this.assertRecvDirection();const{streamId:i,ordered:o,maxPacketLifeTime:a,maxRetransmits:c}=t,u={negotiated:!0,id:i,ordered:o,maxPacketLifeTime:a,maxRetransmitTime:a,maxRetransmits:c,protocol:r};_t.debug("receiveDataChannel() [options:%o]",u);const p=this._pc.createDataChannel(n,u);if(!this._hasDataChannelMediaSection){this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0});const h={type:"offer",sdp:this._remoteSdp.getSdp()};_t.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",h),await this._pc.setRemoteDescription(h);const g=await this._pc.createAnswer();if(!this._transportReady){const v=Qi.parse(g.sdp);await this.setupTransport({localDtlsRole:this._forcedLocalDtlsRole??"client",localSdpObject:v})}_t.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",g),await this._pc.setLocalDescription(g),this._hasDataChannelMediaSection=!0}return{dataChannel:p}}async setupTransport({localDtlsRole:t,localSdpObject:n}){n||(n=Qi.parse(this._pc.localDescription.sdp));const r=Ih.extractDtlsParameters({sdpObject:n});r.role=t,this._remoteSdp.updateDtlsRole(t==="client"?"server":"client"),await new Promise((i,o)=>{this.safeEmit("@connect",{dtlsParameters:r},i,o)}),this._transportReady=!0}assertSendDirection(){if(this._direction!=="send")throw new Error('method can just be called for handlers with "send" direction')}assertRecvDirection(){if(this._direction!=="recv")throw new Error('method can just be called for handlers with "recv" direction')}}mv.ReactNative=a1;var hW=le&&le.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),mW=le&&le.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),yA=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&hW(t,e,n);return mW(t,e),t};Object.defineProperty(el,"__esModule",{value:!0});el.Device=el.detectDevice=void 0;const gW=$U,vW=nn,yW=us,oc=Rn,wW=yA(cn),bo=yA(pt),bW=Xf,SW=iv,xW=sv,_W=ov,CW=av,RW=lv,TW=cv,EW=uv,PW=dv,kW=fv,DW=pv,LW=hv,MW=mv,jn=new vW.Logger("Device");function wA(){var e,t,n,r;if(typeof navigator=="object"&&navigator.product==="ReactNative"){if(jn.debug("detectDevice() | React-Native detected"),typeof RTCPeerConnection>"u"){jn.warn("detectDevice() | unsupported react-native-webrtc without RTCPeerConnection, forgot to call registerGlobals()?");return}return typeof RTCRtpTransceiver<"u"?(jn.debug("detectDevice() | ReactNative UnifiedPlan handler chosen"),"ReactNativeUnifiedPlan"):(jn.debug("detectDevice() | ReactNative PlanB handler chosen"),"ReactNative")}else if(typeof navigator=="object"&&typeof navigator.userAgent=="string"){const i=navigator.userAgent,o=new gW.UAParser(i);jn.debug("detectDevice() | browser detected [ua:%s, parsed:%o]",i,o.getResult());const a=o.getBrowser(),c=(e=a.name)==null?void 0:e.toLowerCase(),u=parseInt(a.major??"0"),h=(t=o.getEngine().name)==null?void 0:t.toLowerCase(),g=o.getOS(),v=(n=g.name)==null?void 0:n.toLowerCase(),w=parseFloat(g.version??"0"),b=(r=o.getDevice().model)==null?void 0:r.toLowerCase(),P=v==="ios"||b==="ipad",R=c&&["chrome","chromium","mobile chrome","chrome webview","chrome headless"].includes(c),_=c&&["firefox","mobile firefox","mobile focus"].includes(c),k=c&&["safari","mobile safari"].includes(c),E=c&&["edge"].includes(c);if((R||E)&&!P&&u>=111)return"Chrome111";if(R&&!P&&u>=74||E&&!P&&u>=88)return"Chrome74";if(R&&!P&&u>=70)return"Chrome70";if(R&&!P&&u>=67)return"Chrome67";if(R&&!P&&u>=55)return"Chrome55";if(_&&!P&&u>=120)return"Firefox120";if(_&&!P&&u>=60)return"Firefox60";if(_&&P&&w>=14.3)return"Safari12";if(k&&u>=12&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(k&&u>=11)return"Safari11";if(E&&!P&&u>=11&&u<=18)return"Edge11";if(h==="webkit"&&P&&typeof RTCRtpTransceiver<"u"&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(h==="blink"){const N=i.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(N){const F=Number(N[1]);return F>=111?"Chrome111":F>=74?"Chrome74":F>=70?"Chrome70":F>=67?"Chrome67":"Chrome55"}else return"Chrome111"}else{jn.warn("detectDevice() | browser not supported [name:%s, version:%s]",c,u);return}}else{jn.warn("detectDevice() | unknown device");return}}el.detectDevice=wA;class OW{constructor({handlerName:t,handlerFactory:n,Handler:r}={}){if(this._loaded=!1,this._observer=new yW.EnhancedEventEmitter,jn.debug("constructor()"),r)if(jn.warn("constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead"),typeof r=="string")t=r;else throw new TypeError("non string Handler option no longer supported, use handlerFactory instead");if(t&&n)throw new TypeError("just one of handlerName or handlerInterface can be given");if(n)this._handlerFactory=n;else{if(t)jn.debug("constructor() | handler given: %s",t);else if(t=wA(),t)jn.debug("constructor() | detected handler: %s",t);else throw new oc.UnsupportedError("device not supported");switch(t){case"Chrome111":{this._handlerFactory=SW.Chrome111.createFactory();break}case"Chrome74":{this._handlerFactory=xW.Chrome74.createFactory();break}case"Chrome70":{this._handlerFactory=_W.Chrome70.createFactory();break}case"Chrome67":{this._handlerFactory=CW.Chrome67.createFactory();break}case"Chrome55":{this._handlerFactory=RW.Chrome55.createFactory();break}case"Firefox120":{this._handlerFactory=TW.Firefox120.createFactory();break}case"Firefox60":{this._handlerFactory=EW.Firefox60.createFactory();break}case"Safari12":{this._handlerFactory=PW.Safari12.createFactory();break}case"Safari11":{this._handlerFactory=kW.Safari11.createFactory();break}case"Edge11":{this._handlerFactory=DW.Edge11.createFactory();break}case"ReactNativeUnifiedPlan":{this._handlerFactory=LW.ReactNativeUnifiedPlan.createFactory();break}case"ReactNative":{this._handlerFactory=MW.ReactNative.createFactory();break}default:throw new TypeError(`unknown handlerName "${t}"`)}}const i=this._handlerFactory();this._handlerName=i.name,i.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}get handlerName(){return this._handlerName}get loaded(){return this._loaded}get rtpCapabilities(){if(!this._loaded)throw new oc.InvalidStateError("not loaded");return this._recvRtpCapabilities}get sctpCapabilities(){if(!this._loaded)throw new oc.InvalidStateError("not loaded");return this._sctpCapabilities}get observer(){return this._observer}async load({routerRtpCapabilities:t}){jn.debug("load() [routerRtpCapabilities:%o]",t),t=wW.clone(t);let n;try{if(this._loaded)throw new oc.InvalidStateError("already loaded");bo.validateRtpCapabilities(t),n=this._handlerFactory();const r=await n.getNativeRtpCapabilities();jn.debug("load() | got native RTP capabilities:%o",r),bo.validateRtpCapabilities(r),this._extendedRtpCapabilities=bo.getExtendedRtpCapabilities(r,t),jn.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=bo.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=bo.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=bo.getRecvRtpCapabilities(this._extendedRtpCapabilities),bo.validateRtpCapabilities(this._recvRtpCapabilities),jn.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),this._sctpCapabilities=await n.getNativeSctpCapabilities(),jn.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),bo.validateSctpCapabilities(this._sctpCapabilities),jn.debug("load() succeeded"),this._loaded=!0,n.close()}catch(r){throw n&&n.close(),r}}canProduce(t){if(this._loaded){if(t!=="audio"&&t!=="video")throw new TypeError(`invalid kind "${t}"`)}else throw new oc.InvalidStateError("not loaded");return this._canProduceByKind[t]}createSendTransport({id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,appData:h}){return jn.debug("createSendTransport()"),this.createTransport({direction:"send",id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,appData:h})}createRecvTransport({id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,appData:h}){return jn.debug("createRecvTransport()"),this.createTransport({direction:"recv",id:t,iceParameters:n,iceCandidates:r,dtlsParameters:i,sctpParameters:o,iceServers:a,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:p,appData:h})}createTransport({direction:t,id:n,iceParameters:r,iceCandidates:i,dtlsParameters:o,sctpParameters:a,iceServers:c,iceTransportPolicy:u,additionalSettings:p,proprietaryConstraints:h,appData:g}){if(this._loaded){if(typeof n!="string")throw new TypeError("missing id");if(typeof r!="object")throw new TypeError("missing iceParameters");if(Array.isArray(i)){if(typeof o!="object")throw new TypeError("missing dtlsParameters");if(a&&typeof a!="object")throw new TypeError("wrong sctpParameters");if(g&&typeof g!="object")throw new TypeError("if given, appData must be an object")}else throw new TypeError("missing iceCandidates")}else throw new oc.InvalidStateError("not loaded");const v=new bW.Transport({direction:t,id:n,iceParameters:r,iceCandidates:i,dtlsParameters:o,sctpParameters:a,iceServers:c,iceTransportPolicy:u,additionalSettings:p,proprietaryConstraints:h,appData:g,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",v),v}}el.Device=OW;var bA={},SA={};Object.defineProperty(SA,"__esModule",{value:!0});var xA={};Object.defineProperty(xA,"__esModule",{value:!0});(function(e){var t=le&&le.__createBinding||(Object.create?function(r,i,o,a){a===void 0&&(a=o);var c=Object.getOwnPropertyDescriptor(i,o);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,a,c)}:function(r,i,o,a){a===void 0&&(a=o),r[a]=i[o]}),n=le&&le.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(el,e),n(Xf,e),n(Qf,e),n(Zf,e),n(Jf,e),n(ep,e),n(SA,e),n(xA,e),n(or,e),n(Rn,e)})(bA);(function(e){var t=le&&le.__createBinding||(Object.create?function(p,h,g,v){v===void 0&&(v=g);var w=Object.getOwnPropertyDescriptor(h,g);(!w||("get"in w?!h.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(p,v,w)}:function(p,h,g,v){v===void 0&&(v=g),p[v]=h[g]}),n=le&&le.__setModuleDefault||(Object.create?function(p,h){Object.defineProperty(p,"default",{enumerable:!0,value:h})}:function(p,h){p.default=h}),r=le&&le.__importStar||function(p){if(p&&p.__esModule)return p;var h={};if(p!=null)for(var g in p)g!=="default"&&Object.prototype.hasOwnProperty.call(p,g)&&t(h,p,g);return n(h,p),h},i=le&&le.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.debug=e.parseScalabilityMode=e.detectDevice=e.Device=e.version=e.types=void 0;const o=i(Qg);e.debug=o.default;const a=el;Object.defineProperty(e,"Device",{enumerable:!0,get:function(){return a.Device}}),Object.defineProperty(e,"detectDevice",{enumerable:!0,get:function(){return a.detectDevice}});const c=r(bA);e.types=c,e.version="3.7.6";var u=Ai;Object.defineProperty(e,"parseScalabilityMode",{enumerable:!0,get:function(){return u.parse}})})(Vx);async function EP(e,t){try{return t.current=new Vx.Device,console.log(e),await t.current.load({routerRtpCapabilities:e.rtpCapabilities}).then(()=>{console.log(t.current.createSendTransport),console.log("Mediasoup client device created successfully")}),t}catch(n){console.error("Error creating Mediasoup client device:",n),n.name==="UnsupportedError"&&console.warn("browser not supported")}throw error}function AW(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function gv(...e){return t=>e.forEach(n=>AW(n,t))}function wt(...e){return x.useCallback(gv(...e),e)}var Zo=x.forwardRef((e,t)=>{const{children:n,...r}=e,i=x.Children.toArray(n),o=i.find(NW);if(o){const a=o.props.children,c=i.map(u=>u===o?x.Children.count(a)>1?x.Children.only(null):x.isValidElement(a)?a.props.children:null:u);return C.jsx(Fb,{...r,ref:t,children:x.isValidElement(a)?x.cloneElement(a,void 0,c):null})}return C.jsx(Fb,{...r,ref:t,children:n})});Zo.displayName="Slot";var Fb=x.forwardRef((e,t)=>{const{children:n,...r}=e;if(x.isValidElement(n)){const i=jW(n);return x.cloneElement(n,{...IW(r,n.props),ref:t?gv(t,i):i})}return x.Children.count(n)>1?x.Children.only(null):null});Fb.displayName="SlotClone";var _A=({children:e})=>C.jsx(C.Fragment,{children:e});function NW(e){return x.isValidElement(e)&&e.type===_A}function IW(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...c)=>{o(...c),i(...c)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function jW(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function CA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=CA(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function FW(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=CA(e))&&(r&&(r+=" "),r+=t);return r}const PP=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,kP=FW,vv=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return kP(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(p=>{const h=n==null?void 0:n[p],g=o==null?void 0:o[p];if(h===null)return null;const v=PP(h)||PP(g);return i[p][v]}),c=n&&Object.entries(n).reduce((p,h)=>{let[g,v]=h;return v===void 0||(p[g]=v),p},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((p,h)=>{let{class:g,className:v,...w}=h;return Object.entries(w).every(S=>{let[b,P]=S;return Array.isArray(P)?P.includes({...o,...c}[b]):{...o,...c}[b]===P})?[...p,g,v]:p},[]);return kP(e,a,u,n==null?void 0:n.class,n==null?void 0:n.className)};function RA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=RA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function BW(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=RA(e))&&(r&&(r+=" "),r+=t);return r}const l1="-",$W=e=>{const t=UW(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const c=a.split(l1);return c[0]===""&&c.length!==1&&c.shift(),TA(c,t)||zW(a)},getConflictingClassGroupIds:(a,c)=>{const u=n[a]||[];return c&&r[a]?[...u,...r[a]]:u}}},TA=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?TA(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(l1);return(a=t.validators.find(({validator:c})=>c(o)))==null?void 0:a.classGroupId},DP=/^\[(.+)\]$/,zW=e=>{if(DP.test(e)){const t=DP.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},UW=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return HW(Object.entries(e.classGroups),n).forEach(([o,a])=>{Bb(a,r,o,t)}),r},Bb=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:LP(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(VW(i)){Bb(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{Bb(a,LP(t,o),n,r)})})},LP=(e,t)=>{let n=e;return t.split(l1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},VW=e=>e.isThemeGetter,HW=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,c])=>[t+a,c])):o);return[n,i]}):e,WW=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},EA="!",KW=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,a=c=>{const u=[];let p=0,h=0,g;for(let P=0;P<c.length;P++){let R=c[P];if(p===0){if(R===i&&(r||c.slice(P,P+o)===t)){u.push(c.slice(h,P)),h=P+o;continue}if(R==="/"){g=P;continue}}R==="["?p++:R==="]"&&p--}const v=u.length===0?c:c.substring(h),w=v.startsWith(EA),S=w?v.substring(1):v,b=g&&g>h?g-h:void 0;return{modifiers:u,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:b}};return n?c=>n({className:c,parseClassName:a}):a},GW=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},qW=e=>({cache:WW(e.cacheSize),parseClassName:KW(e),...$W(e)}),YW=/\s+/,XW=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],a=e.trim().split(YW);let c="";for(let u=a.length-1;u>=0;u-=1){const p=a[u],{modifiers:h,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:w}=n(p);let S=!!w,b=r(S?v.substring(0,w):v);if(!b){if(!S){c=p+(c.length>0?" "+c:c);continue}if(b=r(v),!b){c=p+(c.length>0?" "+c:c);continue}S=!1}const P=GW(h).join(":"),R=g?P+EA:P,_=R+b;if(o.includes(_))continue;o.push(_);const k=i(b,S);for(let E=0;E<k.length;++E){const N=k[E];o.push(R+N)}c=p+(c.length>0?" "+c:c)}return c};function QW(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=PA(t))&&(r&&(r+=" "),r+=n);return r}const PA=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=PA(e[r]))&&(n&&(n+=" "),n+=t);return n};function ZW(e,...t){let n,r,i,o=a;function a(u){const p=t.reduce((h,g)=>g(h),e());return n=qW(p),r=n.cache.get,i=n.cache.set,o=c,c(u)}function c(u){const p=r(u);if(p)return p;const h=XW(u,n);return i(u,h),h}return function(){return o(QW.apply(null,arguments))}}const Ut=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},kA=/^\[(?:([a-z-]+):)?(.+)\]$/i,JW=/^\d+\/\d+$/,eK=new Set(["px","full","screen"]),tK=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nK=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rK=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,iK=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sK=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Es=e=>Vc(e)||eK.has(e)||JW.test(e),So=e=>Du(e,"length",pK),Vc=e=>!!e&&!Number.isNaN(Number(e)),Ww=e=>Du(e,"number",Vc),Ed=e=>!!e&&Number.isInteger(Number(e)),oK=e=>e.endsWith("%")&&Vc(e.slice(0,-1)),ct=e=>kA.test(e),xo=e=>tK.test(e),aK=new Set(["length","size","percentage"]),lK=e=>Du(e,aK,DA),cK=e=>Du(e,"position",DA),uK=new Set(["image","url"]),dK=e=>Du(e,uK,mK),fK=e=>Du(e,"",hK),Pd=()=>!0,Du=(e,t,n)=>{const r=kA.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},pK=e=>nK.test(e)&&!rK.test(e),DA=()=>!1,hK=e=>iK.test(e),mK=e=>sK.test(e),gK=()=>{const e=Ut("colors"),t=Ut("spacing"),n=Ut("blur"),r=Ut("brightness"),i=Ut("borderColor"),o=Ut("borderRadius"),a=Ut("borderSpacing"),c=Ut("borderWidth"),u=Ut("contrast"),p=Ut("grayscale"),h=Ut("hueRotate"),g=Ut("invert"),v=Ut("gap"),w=Ut("gradientColorStops"),S=Ut("gradientColorStopPositions"),b=Ut("inset"),P=Ut("margin"),R=Ut("opacity"),_=Ut("padding"),k=Ut("saturate"),E=Ut("scale"),N=Ut("sepia"),F=Ut("skew"),B=Ut("space"),U=Ut("translate"),G=()=>["auto","contain","none"],Q=()=>["auto","hidden","clip","visible","scroll"],ie=()=>["auto",ct,t],Y=()=>[ct,t],z=()=>["",Es,So],V=()=>["auto",Vc,ct],O=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",ct],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Vc,ct];return{cacheSize:500,separator:":",theme:{colors:[Pd],spacing:[Es,So],blur:["none","",xo,ct],brightness:Z(),borderColor:[e],borderRadius:["none","","full",xo,ct],borderSpacing:Y(),borderWidth:z(),contrast:Z(),grayscale:j(),hueRotate:Z(),invert:j(),gap:Y(),gradientColorStops:[e],gradientColorStopPositions:[oK,So],inset:ie(),margin:ie(),opacity:Z(),padding:Y(),saturate:Z(),scale:Z(),sepia:j(),skew:Z(),space:Y(),translate:Y()},classGroups:{aspect:[{aspect:["auto","square","video",ct]}],container:["container"],columns:[{columns:[xo]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...O(),ct]}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ed,ct]}],basis:[{basis:ie()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ct]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Ed,ct]}],"grid-cols":[{"grid-cols":[Pd]}],"col-start-end":[{col:["auto",{span:["full",Ed,ct]},ct]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[Pd]}],"row-start-end":[{row:["auto",{span:[Ed,ct]},ct]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ct]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ct]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ct,t]}],"min-w":[{"min-w":[ct,t,"min","max","fit"]}],"max-w":[{"max-w":[ct,t,"none","full","min","max","fit","prose",{screen:[xo]},xo]}],h:[{h:[ct,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ct,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ct,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ct,t,"auto","min","max","fit"]}],"font-size":[{text:["base",xo,So]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ww]}],"font-family":[{font:[Pd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ct]}],"line-clamp":[{"line-clamp":["none",Vc,Ww]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Es,ct]}],"list-image":[{"list-image":["none",ct]}],"list-style-type":[{list:["none","disc","decimal",ct]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Es,So]}],"underline-offset":[{"underline-offset":["auto",Es,ct]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...O(),cK]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lK]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dK]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[Es,ct]}],"outline-w":[{outline:[Es,So]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[Es,So]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",xo,fK]}],"shadow-color":[{shadow:[Pd]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",xo,ct]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[g]}],saturate:[{saturate:[k]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ct]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",ct]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",ct]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Ed,ct]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ct]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Es,So,Ww]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},vK=ZW(gK);function Ye(...e){return vK(BW(e))}const c1=vv("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Gt=x.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const a=r?Zo:"button";return C.jsx(a,{className:Ye(c1({variant:t,size:n,className:e})),ref:o,...i})});Gt.displayName="Button";function yK(e){return C.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("polyline",{points:"8 18 12 22 16 18"}),C.jsx("polyline",{points:"8 6 12 2 16 6"}),C.jsx("line",{x1:"12",x2:"12",y1:"2",y2:"22"})]})}function wK(e){return C.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M5 12h14"}),C.jsx("path",{d:"M12 5v14"})]})}function bK(e){return C.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("circle",{cx:"11",cy:"11",r:"8"}),C.jsx("path",{d:"m21 21-4.3-4.3"})]})}function SK(e){return C.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M3 6h18"}),C.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),C.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}function xK(e){return C.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"})})}function _K(e,t){const n=x.createContext(t);function r(o){const{children:a,...c}=o,u=x.useMemo(()=>c,Object.values(c));return C.jsx(n.Provider,{value:u,children:a})}function i(o){const a=x.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return r.displayName=e+"Provider",[r,i]}function ds(e,t=[]){let n=[];function r(o,a){const c=x.createContext(a),u=n.length;n=[...n,a];function p(g){const{scope:v,children:w,...S}=g,b=(v==null?void 0:v[e][u])||c,P=x.useMemo(()=>S,Object.values(S));return C.jsx(b.Provider,{value:P,children:w})}function h(g,v){const w=(v==null?void 0:v[e][u])||c,S=x.useContext(w);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${g}\` must be used within \`${o}\``)}return p.displayName=o+"Provider",[p,h]}const i=()=>{const o=n.map(a=>x.createContext(a));return function(c){const u=(c==null?void 0:c[e])||o;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:u}}),[c,u])}};return i.scopeName=e,[r,CK(i,...t)]}function CK(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((c,{useScope:u,scopeName:p})=>{const g=u(o)[`__scope${p}`];return{...c,...g}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function ze(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var Hn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},RK=Dg.useId||(()=>{}),TK=0;function Is(e){const[t,n]=x.useState(RK());return Hn(()=>{e||n(r=>r??String(TK++))},[e]),e||(t?`radix-${t}`:"")}function xn(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Df({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=EK({defaultProp:t,onChange:n}),o=e!==void 0,a=o?e:r,c=xn(n),u=x.useCallback(p=>{if(o){const g=typeof p=="function"?p(e):p;g!==e&&c(g)}else i(p)},[o,e,i,c]);return[a,u]}function EK({defaultProp:e,onChange:t}){const n=x.useState(e),[r]=n,i=x.useRef(r),o=xn(t);return x.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var PK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],lt=PK.reduce((e,t)=>{const n=x.forwardRef((r,i)=>{const{asChild:o,...a}=r,c=o?Zo:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(c,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function LA(e,t){e&&la.flushSync(()=>e.dispatchEvent(t))}function kK(e,t=globalThis==null?void 0:globalThis.document){const n=xn(e);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var DK="DismissableLayer",$b="dismissableLayer.update",LK="dismissableLayer.pointerDownOutside",MK="dismissableLayer.focusOutside",MP,MA=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yv=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:c,...u}=e,p=x.useContext(MA),[h,g]=x.useState(null),v=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=x.useState({}),S=wt(t,B=>g(B)),b=Array.from(p.layers),[P]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),R=b.indexOf(P),_=h?b.indexOf(h):-1,k=p.layersWithOutsidePointerEventsDisabled.size>0,E=_>=R,N=NK(B=>{const U=B.target,G=[...p.branches].some(Q=>Q.contains(U));!E||G||(i==null||i(B),a==null||a(B),B.defaultPrevented||c==null||c())},v),F=IK(B=>{const U=B.target;[...p.branches].some(Q=>Q.contains(U))||(o==null||o(B),a==null||a(B),B.defaultPrevented||c==null||c())},v);return kK(B=>{_===p.layers.size-1&&(r==null||r(B),!B.defaultPrevented&&c&&(B.preventDefault(),c()))},v),x.useEffect(()=>{if(h)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(MP=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(h)),p.layers.add(h),OP(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=MP)}},[h,v,n,p]),x.useEffect(()=>()=>{h&&(p.layers.delete(h),p.layersWithOutsidePointerEventsDisabled.delete(h),OP())},[h,p]),x.useEffect(()=>{const B=()=>w({});return document.addEventListener($b,B),()=>document.removeEventListener($b,B)},[]),C.jsx(lt.div,{...u,ref:S,style:{pointerEvents:k?E?"auto":"none":void 0,...e.style},onFocusCapture:ze(e.onFocusCapture,F.onFocusCapture),onBlurCapture:ze(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:ze(e.onPointerDownCapture,N.onPointerDownCapture)})});yv.displayName=DK;var OK="DismissableLayerBranch",AK=x.forwardRef((e,t)=>{const n=x.useContext(MA),r=x.useRef(null),i=wt(t,r);return x.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),C.jsx(lt.div,{...e,ref:i})});AK.displayName=OK;function NK(e,t=globalThis==null?void 0:globalThis.document){const n=xn(e),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let u=function(){OA(LK,n,p,{discrete:!0})};const p={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function IK(e,t=globalThis==null?void 0:globalThis.document){const n=xn(e),r=x.useRef(!1);return x.useEffect(()=>{const i=o=>{o.target&&!r.current&&OA(MK,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function OP(){const e=new CustomEvent($b);document.dispatchEvent(e)}function OA(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?LA(i,o):i.dispatchEvent(o)}var Kw="focusScope.autoFocusOnMount",Gw="focusScope.autoFocusOnUnmount",AP={bubbles:!1,cancelable:!0},jK="FocusScope",wv=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[c,u]=x.useState(null),p=xn(i),h=xn(o),g=x.useRef(null),v=wt(t,b=>u(b)),w=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let b=function(k){if(w.paused||!c)return;const E=k.target;c.contains(E)?g.current=E:Ro(g.current,{select:!0})},P=function(k){if(w.paused||!c)return;const E=k.relatedTarget;E!==null&&(c.contains(E)||Ro(g.current,{select:!0}))},R=function(k){if(document.activeElement===document.body)for(const N of k)N.removedNodes.length>0&&Ro(c)};document.addEventListener("focusin",b),document.addEventListener("focusout",P);const _=new MutationObserver(R);return c&&_.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",P),_.disconnect()}}},[r,c,w.paused]),x.useEffect(()=>{if(c){IP.add(w);const b=document.activeElement;if(!c.contains(b)){const R=new CustomEvent(Kw,AP);c.addEventListener(Kw,p),c.dispatchEvent(R),R.defaultPrevented||(FK(VK(AA(c)),{select:!0}),document.activeElement===b&&Ro(c))}return()=>{c.removeEventListener(Kw,p),setTimeout(()=>{const R=new CustomEvent(Gw,AP);c.addEventListener(Gw,h),c.dispatchEvent(R),R.defaultPrevented||Ro(b??document.body,{select:!0}),c.removeEventListener(Gw,h),IP.remove(w)},0)}}},[c,p,h,w]);const S=x.useCallback(b=>{if(!n&&!r||w.paused)return;const P=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,R=document.activeElement;if(P&&R){const _=b.currentTarget,[k,E]=BK(_);k&&E?!b.shiftKey&&R===E?(b.preventDefault(),n&&Ro(k,{select:!0})):b.shiftKey&&R===k&&(b.preventDefault(),n&&Ro(E,{select:!0})):R===_&&b.preventDefault()}},[n,r,w.paused]);return C.jsx(lt.div,{tabIndex:-1,...a,ref:v,onKeyDown:S})});wv.displayName=jK;function FK(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ro(r,{select:t}),document.activeElement!==n)return}function BK(e){const t=AA(e),n=NP(t,e),r=NP(t.reverse(),e);return[n,r]}function AA(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function NP(e,t){for(const n of e)if(!$K(n,{upTo:t}))return n}function $K(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zK(e){return e instanceof HTMLInputElement&&"select"in e}function Ro(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&zK(e)&&t&&e.select()}}var IP=UK();function UK(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=jP(e,t),e.unshift(t)},remove(t){var n;e=jP(e,t),(n=e[0])==null||n.resume()}}}function jP(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function VK(e){return e.filter(t=>t.tagName!=="A")}var HK="Portal",bv=x.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[i,o]=x.useState(!1);Hn(()=>o(!0),[]);const a=n||i&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return a?n6.createPortal(C.jsx(lt.div,{...r,ref:t}),a):null});bv.displayName=HK;function WK(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var ui=e=>{const{present:t,children:n}=e,r=KK(t),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),o=wt(r.ref,GK(i));return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:o}):null};ui.displayName="Presence";function KK(e){const[t,n]=x.useState(),r=x.useRef({}),i=x.useRef(e),o=x.useRef("none"),a=e?"mounted":"unmounted",[c,u]=WK(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const p=jh(r.current);o.current=c==="mounted"?p:"none"},[c]),Hn(()=>{const p=r.current,h=i.current;if(h!==e){const v=o.current,w=jh(p);e?u("MOUNT"):w==="none"||(p==null?void 0:p.display)==="none"?u("UNMOUNT"):u(h&&v!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),Hn(()=>{if(t){const p=g=>{const w=jh(r.current).includes(g.animationName);g.target===t&&w&&la.flushSync(()=>u("ANIMATION_END"))},h=g=>{g.target===t&&(o.current=jh(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function jh(e){return(e==null?void 0:e.animationName)||"none"}function GK(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qw=0;function u1(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??FP()),document.body.insertAdjacentElement("beforeend",e[1]??FP()),qw++,()=>{qw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),qw--}},[])}function FP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var ln=function(){return ln=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ln.apply(this,arguments)};function Sv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function d1(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Hc="right-scroll-bar-position",Wc="width-before-scroll-bar",qK="with-scroll-bars-hidden",YK="--removed-body-scroll-bar-size";function Yw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function XK(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var QK=typeof window<"u"?x.useLayoutEffect:x.useEffect,BP=new WeakMap;function f1(e,t){var n=XK(t||null,function(r){return e.forEach(function(i){return Yw(i,r)})});return QK(function(){var r=BP.get(n);if(r){var i=new Set(r),o=new Set(e),a=n.current;i.forEach(function(c){o.has(c)||Yw(c,null)}),o.forEach(function(c){i.has(c)||Yw(c,a)})}BP.set(n,e)},[e]),n}function ZK(e){return e}function JK(e,t){t===void 0&&(t=ZK);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(c){return c!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var c=n;n=[],c.forEach(o),a=n}var u=function(){var h=a;a=[],h.forEach(o)},p=function(){return Promise.resolve().then(u)};p(),n={push:function(h){a.push(h),p()},filter:function(h){return a=a.filter(h),n}}}};return i}function p1(e){e===void 0&&(e={});var t=JK(null);return t.options=ln({async:!0,ssr:!1},e),t}var NA=function(e){var t=e.sideCar,n=Sv(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,ln({},n))};NA.isSideCarExport=!0;function h1(e,t){return e.useMedium(t),NA}var IA=p1(),Xw=function(){},xv=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:Xw,onWheelCapture:Xw,onTouchMoveCapture:Xw}),i=r[0],o=r[1],a=e.forwardProps,c=e.children,u=e.className,p=e.removeScrollBar,h=e.enabled,g=e.shards,v=e.sideCar,w=e.noIsolation,S=e.inert,b=e.allowPinchZoom,P=e.as,R=P===void 0?"div":P,_=e.gapMode,k=Sv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=v,N=f1([n,t]),F=ln(ln({},k),i);return x.createElement(x.Fragment,null,h&&x.createElement(E,{sideCar:IA,removeScrollBar:p,shards:g,noIsolation:w,inert:S,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:_}),a?x.cloneElement(x.Children.only(c),ln(ln({},F),{ref:N})):x.createElement(R,ln({},F,{className:u,ref:N}),c))});xv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xv.classNames={fullWidth:Wc,zeroRight:Hc};var $P,eG=function(){if($P)return $P;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tG(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=eG();return t&&e.setAttribute("nonce",t),e}function nG(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function rG(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iG=function(){var e=0,t=null;return{add:function(n){e==0&&(t=tG())&&(nG(t,n),rG(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},sG=function(){var e=iG();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},_v=function(){var e=sG(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},oG={left:0,top:0,right:0,gap:0},Qw=function(e){return parseInt(e||"",10)||0},aG=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Qw(n),Qw(r),Qw(i)]},lG=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return oG;var t=aG(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},cG=_v(),Kc="data-scroll-locked",uG=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(qK,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(Kc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hc,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Wc,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(Hc," .").concat(Hc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Wc," .").concat(Wc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Kc,`] {
    `).concat(YK,": ").concat(c,`px;
  }
`)},zP=function(){var e=parseInt(document.body.getAttribute(Kc)||"0",10);return isFinite(e)?e:0},dG=function(){x.useEffect(function(){return document.body.setAttribute(Kc,(zP()+1).toString()),function(){var e=zP()-1;e<=0?document.body.removeAttribute(Kc):document.body.setAttribute(Kc,e.toString())}},[])},m1=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;dG();var o=x.useMemo(function(){return lG(i)},[i]);return x.createElement(cG,{styles:uG(o,!t,i,n?"":"!important")})},zb=!1;if(typeof window<"u")try{var Fh=Object.defineProperty({},"passive",{get:function(){return zb=!0,!0}});window.addEventListener("test",Fh,Fh),window.removeEventListener("test",Fh,Fh)}catch{zb=!1}var ac=zb?{passive:!1}:!1,fG=function(e){return e.tagName==="TEXTAREA"},jA=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!fG(e)&&n[t]==="visible")},pG=function(e){return jA(e,"overflowY")},hG=function(e){return jA(e,"overflowX")},UP=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=FA(e,r);if(i){var o=BA(e,r),a=o[1],c=o[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mG=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},gG=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},FA=function(e,t){return e==="v"?pG(t):hG(t)},BA=function(e,t){return e==="v"?mG(t):gG(t)},vG=function(e,t){return e==="h"&&t==="rtl"?-1:1},yG=function(e,t,n,r,i){var o=vG(e,window.getComputedStyle(t).direction),a=o*r,c=n.target,u=t.contains(c),p=!1,h=a>0,g=0,v=0;do{var w=BA(e,c),S=w[0],b=w[1],P=w[2],R=b-P-o*S;(S||R)&&FA(e,c)&&(g+=R,v+=S),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(h&&(i&&Math.abs(g)<1||!i&&a>g)||!h&&(i&&Math.abs(v)<1||!i&&-a>v))&&(p=!0),p},Bh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},VP=function(e){return[e.deltaX,e.deltaY]},HP=function(e){return e&&"current"in e?e.current:e},wG=function(e,t){return e[0]===t[0]&&e[1]===t[1]},bG=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},SG=0,lc=[];function xG(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(SG++)[0],o=x.useState(_v)[0],a=x.useRef(e);x.useEffect(function(){a.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var b=d1([e.lockRef.current],(e.shards||[]).map(HP),!0).filter(Boolean);return b.forEach(function(P){return P.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(b,P){if("touches"in b&&b.touches.length===2)return!a.current.allowPinchZoom;var R=Bh(b),_=n.current,k="deltaX"in b?b.deltaX:_[0]-R[0],E="deltaY"in b?b.deltaY:_[1]-R[1],N,F=b.target,B=Math.abs(k)>Math.abs(E)?"h":"v";if("touches"in b&&B==="h"&&F.type==="range")return!1;var U=UP(B,F);if(!U)return!0;if(U?N=B:(N=B==="v"?"h":"v",U=UP(B,F)),!U)return!1;if(!r.current&&"changedTouches"in b&&(k||E)&&(r.current=N),!N)return!0;var G=r.current||N;return yG(G,P,b,G==="h"?k:E,!0)},[]),u=x.useCallback(function(b){var P=b;if(!(!lc.length||lc[lc.length-1]!==o)){var R="deltaY"in P?VP(P):Bh(P),_=t.current.filter(function(N){return N.name===P.type&&(N.target===P.target||P.target===N.shadowParent)&&wG(N.delta,R)})[0];if(_&&_.should){P.cancelable&&P.preventDefault();return}if(!_){var k=(a.current.shards||[]).map(HP).filter(Boolean).filter(function(N){return N.contains(P.target)}),E=k.length>0?c(P,k[0]):!a.current.noIsolation;E&&P.cancelable&&P.preventDefault()}}},[]),p=x.useCallback(function(b,P,R,_){var k={name:b,delta:P,target:R,should:_,shadowParent:_G(R)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(E){return E!==k})},1)},[]),h=x.useCallback(function(b){n.current=Bh(b),r.current=void 0},[]),g=x.useCallback(function(b){p(b.type,VP(b),b.target,c(b,e.lockRef.current))},[]),v=x.useCallback(function(b){p(b.type,Bh(b),b.target,c(b,e.lockRef.current))},[]);x.useEffect(function(){return lc.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",u,ac),document.addEventListener("touchmove",u,ac),document.addEventListener("touchstart",h,ac),function(){lc=lc.filter(function(b){return b!==o}),document.removeEventListener("wheel",u,ac),document.removeEventListener("touchmove",u,ac),document.removeEventListener("touchstart",h,ac)}},[]);var w=e.removeScrollBar,S=e.inert;return x.createElement(x.Fragment,null,S?x.createElement(o,{styles:bG(i)}):null,w?x.createElement(m1,{gapMode:e.gapMode}):null)}function _G(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const CG=h1(IA,xG);var $A=x.forwardRef(function(e,t){return x.createElement(xv,ln({},e,{ref:t,sideCar:CG}))});$A.classNames=xv.classNames;const RG=$A;var TG=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},cc=new WeakMap,$h=new WeakMap,zh={},Zw=0,zA=function(e){return e&&(e.host||zA(e.parentNode))},EG=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=zA(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},PG=function(e,t,n,r){var i=EG(t,Array.isArray(e)?e:[e]);zh[n]||(zh[n]=new WeakMap);var o=zh[n],a=[],c=new Set,u=new Set(i),p=function(g){!g||c.has(g)||(c.add(g),p(g.parentNode))};i.forEach(p);var h=function(g){!g||u.has(g)||Array.prototype.forEach.call(g.children,function(v){if(c.has(v))h(v);else try{var w=v.getAttribute(r),S=w!==null&&w!=="false",b=(cc.get(v)||0)+1,P=(o.get(v)||0)+1;cc.set(v,b),o.set(v,P),a.push(v),b===1&&S&&$h.set(v,!0),P===1&&v.setAttribute(n,"true"),S||v.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",v,R)}})};return h(t),c.clear(),Zw++,function(){a.forEach(function(g){var v=cc.get(g)-1,w=o.get(g)-1;cc.set(g,v),o.set(g,w),v||($h.has(g)||g.removeAttribute(r),$h.delete(g)),w||g.removeAttribute(n)}),Zw--,Zw||(cc=new WeakMap,cc=new WeakMap,$h=new WeakMap,zh={})}},g1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||TG(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),PG(r,i,n,"aria-hidden")):function(){return null}},v1="Dialog",[UA,VA]=ds(v1),[kG,Ni]=UA(v1),HA=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,c=x.useRef(null),u=x.useRef(null),[p=!1,h]=Df({prop:r,defaultProp:i,onChange:o});return C.jsx(kG,{scope:t,triggerRef:c,contentRef:u,contentId:Is(),titleId:Is(),descriptionId:Is(),open:p,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(g=>!g),[h]),modal:a,children:n})};HA.displayName=v1;var WA="DialogTrigger",KA=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ni(WA,n),o=wt(t,i.triggerRef);return C.jsx(lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":b1(i.open),...r,ref:o,onClick:ze(e.onClick,i.onOpenToggle)})});KA.displayName=WA;var y1="DialogPortal",[DG,GA]=UA(y1,{forceMount:void 0}),qA=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=Ni(y1,t);return C.jsx(DG,{scope:t,forceMount:n,children:x.Children.map(r,a=>C.jsx(ui,{present:n||o.open,children:C.jsx(bv,{asChild:!0,container:i,children:a})}))})};qA.displayName=y1;var ag="DialogOverlay",YA=x.forwardRef((e,t)=>{const n=GA(ag,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Ni(ag,e.__scopeDialog);return o.modal?C.jsx(ui,{present:r||o.open,children:C.jsx(LG,{...i,ref:t})}):null});YA.displayName=ag;var LG=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ni(ag,n);return C.jsx(RG,{as:Zo,allowPinchZoom:!0,shards:[i.contentRef],children:C.jsx(lt.div,{"data-state":b1(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),tl="DialogContent",XA=x.forwardRef((e,t)=>{const n=GA(tl,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Ni(tl,e.__scopeDialog);return C.jsx(ui,{present:r||o.open,children:o.modal?C.jsx(MG,{...i,ref:t}):C.jsx(OG,{...i,ref:t})})});XA.displayName=tl;var MG=x.forwardRef((e,t)=>{const n=Ni(tl,e.__scopeDialog),r=x.useRef(null),i=wt(t,n.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return g1(o)},[]),C.jsx(QA,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ze(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,c=a.button===0&&a.ctrlKey===!0;(a.button===2||c)&&o.preventDefault()}),onFocusOutside:ze(e.onFocusOutside,o=>o.preventDefault())})}),OG=x.forwardRef((e,t)=>{const n=Ni(tl,e.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return C.jsx(QA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,c;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var u,p;(u=e.onInteractOutside)==null||u.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((p=n.triggerRef.current)==null?void 0:p.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),QA=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,c=Ni(tl,n),u=x.useRef(null),p=wt(t,u);return u1(),C.jsxs(C.Fragment,{children:[C.jsx(wv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:C.jsx(yv,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":b1(c.open),...a,ref:p,onDismiss:()=>c.onOpenChange(!1)})}),C.jsxs(C.Fragment,{children:[C.jsx(NG,{titleId:c.titleId}),C.jsx(jG,{contentRef:u,descriptionId:c.descriptionId})]})]})}),w1="DialogTitle",ZA=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ni(w1,n);return C.jsx(lt.h2,{id:i.titleId,...r,ref:t})});ZA.displayName=w1;var JA="DialogDescription",eN=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ni(JA,n);return C.jsx(lt.p,{id:i.descriptionId,...r,ref:t})});eN.displayName=JA;var tN="DialogClose",nN=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ni(tN,n);return C.jsx(lt.button,{type:"button",...r,ref:t,onClick:ze(e.onClick,()=>i.onOpenChange(!1))})});nN.displayName=tN;function b1(e){return e?"open":"closed"}var rN="DialogTitleWarning",[AG,iN]=_K(rN,{contentName:tl,titleName:w1,docsSlug:"dialog"}),NG=({titleId:e})=>{const t=iN(rN),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},IG="DialogDescriptionWarning",jG=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iN(IG).contentName}}.`;return x.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},S1=HA,x1=KA,_1=qA,lp=YA,cp=XA,up=ZA,dp=eN,Cv=nN,sN="AlertDialog",[FG,Pse]=ds(sN,[VA]),eo=VA(),oN=e=>{const{__scopeAlertDialog:t,...n}=e,r=eo(t);return C.jsx(S1,{...r,...n,modal:!0})};oN.displayName=sN;var BG="AlertDialogTrigger",$G=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=eo(n);return C.jsx(x1,{...i,...r,ref:t})});$G.displayName=BG;var zG="AlertDialogPortal",aN=e=>{const{__scopeAlertDialog:t,...n}=e,r=eo(t);return C.jsx(_1,{...r,...n})};aN.displayName=zG;var UG="AlertDialogOverlay",lN=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=eo(n);return C.jsx(lp,{...i,...r,ref:t})});lN.displayName=UG;var Gc="AlertDialogContent",[VG,HG]=FG(Gc),cN=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,o=eo(n),a=x.useRef(null),c=wt(t,a),u=x.useRef(null);return C.jsx(AG,{contentName:Gc,titleName:uN,docsSlug:"alert-dialog",children:C.jsx(VG,{scope:n,cancelRef:u,children:C.jsxs(cp,{role:"alertdialog",...o,...i,ref:c,onOpenAutoFocus:ze(i.onOpenAutoFocus,p=>{var h;p.preventDefault(),(h=u.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[C.jsx(_A,{children:r}),C.jsx(KG,{contentRef:a})]})})})});cN.displayName=Gc;var uN="AlertDialogTitle",dN=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=eo(n);return C.jsx(up,{...i,...r,ref:t})});dN.displayName=uN;var fN="AlertDialogDescription",pN=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=eo(n);return C.jsx(dp,{...i,...r,ref:t})});pN.displayName=fN;var WG="AlertDialogAction",hN=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=eo(n);return C.jsx(Cv,{...i,...r,ref:t})});hN.displayName=WG;var mN="AlertDialogCancel",gN=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=HG(mN,n),o=eo(n),a=wt(t,i);return C.jsx(Cv,{...o,...r,ref:a})});gN.displayName=mN;var KG=({contentRef:e})=>{const t=`\`${Gc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Gc}\` by passing a \`${fN}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Gc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},GG=oN,qG=aN,vN=lN,yN=cN,wN=hN,bN=gN,SN=dN,xN=pN;const _N=GG,YG=qG,CN=x.forwardRef(({className:e,...t},n)=>C.jsx(vN,{className:Ye("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));CN.displayName=vN.displayName;const C1=x.forwardRef(({className:e,...t},n)=>C.jsxs(YG,{children:[C.jsx(CN,{}),C.jsx(yN,{ref:n,className:Ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));C1.displayName=yN.displayName;const R1=({className:e,...t})=>C.jsx("div",{className:Ye("flex flex-col space-y-2 text-center sm:text-left",e),...t});R1.displayName="AlertDialogHeader";const T1=({className:e,...t})=>C.jsx("div",{className:Ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});T1.displayName="AlertDialogFooter";const E1=x.forwardRef(({className:e,...t},n)=>C.jsx(SN,{ref:n,className:Ye("text-lg font-semibold",e),...t}));E1.displayName=SN.displayName;const P1=x.forwardRef(({className:e,...t},n)=>C.jsx(xN,{ref:n,className:Ye("text-sm text-muted-foreground",e),...t}));P1.displayName=xN.displayName;const k1=x.forwardRef(({className:e,...t},n)=>C.jsx(wN,{ref:n,className:Ye(c1(),e),...t}));k1.displayName=wN.displayName;const D1=x.forwardRef(({className:e,...t},n)=>C.jsx(bN,{ref:n,className:Ye(c1({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));D1.displayName=bN.displayName;function XG(e){const[t,n]=x.useState(!1),{Header:r,Message:i,success:o,successFunction:a,error:c,errorFunction:u,active:p,timeout:h}=e.value;return x.useEffect(()=>{p&&n(g=>!g)},[p]),C.jsxs(C.Fragment,{children:[C.jsx(Gt,{onClick:()=>n(g=>!g),children:"Hello"}),C.jsx(_N,{open:t,onOpenChange:n,children:C.jsxs(C1,{children:[C.jsxs(R1,{children:[C.jsx(E1,{children:r}),C.jsx(P1,{children:i})]}),C.jsxs(T1,{children:[o&&C.jsx(Gt,{onClick:()=>{a()},children:o}),c&&C.jsxs(Gt,{variant:"destructive",children:[c," ",h&&C.jsx(QG,{timeout:h||15e3,onClose:()=>{}}),"  "]}),C.jsx(D1,{}),C.jsx(k1,{onClick:g=>{}})]})]})})]})}function QG({timeout:e,onClose:t}){const[n,r]=x.useState(e/1e3);return x.useEffect(()=>{const i=setInterval(()=>{r(a=>a-1)},1e3),o=setTimeout(()=>{clearInterval(i),t()},e);return()=>{clearInterval(i),clearTimeout(o)}},[e,t]),C.jsxs(C.Fragment,{children:["(",n,"s)"]})}function pa(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var ZG=["color"],JG=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=pa(e,ZG);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),eq=["color"],RN=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=pa(e,eq);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),tq=["color"],nq=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=pa(e,tq);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),rq=["color"],iq=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=pa(e,rq);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),sq=["color"],oq=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=pa(e,sq);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),aq=["color"],TN=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=pa(e,aq);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),lq=["color"],cq=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=pa(e,lq);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))}),uq=["color"],dq=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=pa(e,uq);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M5.5 4.625C6.12132 4.625 6.625 4.12132 6.625 3.5C6.625 2.87868 6.12132 2.375 5.5 2.375C4.87868 2.375 4.375 2.87868 4.375 3.5C4.375 4.12132 4.87868 4.625 5.5 4.625ZM9.5 4.625C10.1213 4.625 10.625 4.12132 10.625 3.5C10.625 2.87868 10.1213 2.375 9.5 2.375C8.87868 2.375 8.375 2.87868 8.375 3.5C8.375 4.12132 8.87868 4.625 9.5 4.625ZM10.625 7.5C10.625 8.12132 10.1213 8.625 9.5 8.625C8.87868 8.625 8.375 8.12132 8.375 7.5C8.375 6.87868 8.87868 6.375 9.5 6.375C10.1213 6.375 10.625 6.87868 10.625 7.5ZM5.5 8.625C6.12132 8.625 6.625 8.12132 6.625 7.5C6.625 6.87868 6.12132 6.375 5.5 6.375C4.87868 6.375 4.375 6.87868 4.375 7.5C4.375 8.12132 4.87868 8.625 5.5 8.625ZM10.625 11.5C10.625 12.1213 10.1213 12.625 9.5 12.625C8.87868 12.625 8.375 12.1213 8.375 11.5C8.375 10.8787 8.87868 10.375 9.5 10.375C10.1213 10.375 10.625 10.8787 10.625 11.5ZM5.5 12.625C6.12132 12.625 6.625 12.1213 6.625 11.5C6.625 10.8787 6.12132 10.375 5.5 10.375C4.87868 10.375 4.375 10.8787 4.375 11.5C4.375 12.1213 4.87868 12.625 5.5 12.625Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const{createElement:fu,createContext:fq,createRef:kse,forwardRef:EN,useCallback:br,useContext:PN,useEffect:Wa,useImperativeHandle:kN,useLayoutEffect:pq,useMemo:hq,useRef:Sr,useState:qc}=Dg,WP=Dg[`useId${Math.random()}`.slice(0,5)],mq=pq,Rv=fq(null);Rv.displayName="PanelGroupContext";const Ka=mq,gq=typeof WP=="function"?WP:()=>null;let vq=0;function L1(e=null){const t=gq(),n=Sr(e||t||null);return n.current===null&&(n.current=""+vq++),e??n.current}function DN({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:o,id:a,maxSize:c,minSize:u,onCollapse:p,onExpand:h,onResize:g,order:v,style:w,tagName:S="div",...b}){const P=PN(Rv);if(P===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:R,expandPanel:_,getPanelSize:k,getPanelStyle:E,groupId:N,isPanelCollapsed:F,reevaluatePanelConstraints:B,registerPanel:U,resizePanel:G,unregisterPanel:Q}=P,ie=L1(a),Y=Sr({callbacks:{onCollapse:p,onExpand:h,onResize:g},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:c,minSize:u},id:ie,idIsFromProps:a!==void 0,order:v});Sr({didLogMissingDefaultSizeWarning:!1}),Ka(()=>{const{callbacks:V,constraints:O}=Y.current,X={...O};Y.current.id=ie,Y.current.idIsFromProps=a!==void 0,Y.current.order=v,V.onCollapse=p,V.onExpand=h,V.onResize=g,O.collapsedSize=n,O.collapsible=r,O.defaultSize=i,O.maxSize=c,O.minSize=u,(X.collapsedSize!==O.collapsedSize||X.collapsible!==O.collapsible||X.maxSize!==O.maxSize||X.minSize!==O.minSize)&&B(Y.current,X)}),Ka(()=>{const V=Y.current;return U(V),()=>{Q(V)}},[v,ie,U,Q]),kN(o,()=>({collapse:()=>{R(Y.current)},expand:V=>{_(Y.current,V)},getId(){return ie},getSize(){return k(Y.current)},isCollapsed(){return F(Y.current)},isExpanded(){return!F(Y.current)},resize:V=>{G(Y.current,V)}}),[R,_,k,F,ie,G]);const z=E(Y.current,i);return fu(S,{...b,children:e,className:t,id:a,style:{...z,...w},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":N,"data-panel-id":ie,"data-panel-size":parseFloat(""+z.flexGrow).toFixed(1)})}const LN=EN((e,t)=>fu(DN,{...e,forwardedRef:t}));DN.displayName="Panel";LN.displayName="forwardRef(Panel)";let Ub=null,$a=null;function yq(e,t){if(t){const n=(t&IN)!==0,r=(t&jN)!==0,i=(t&FN)!==0,o=(t&BN)!==0;if(n)return i?"se-resize":o?"ne-resize":"e-resize";if(r)return i?"sw-resize":o?"nw-resize":"w-resize";if(i)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function wq(){$a!==null&&(document.head.removeChild($a),Ub=null,$a=null)}function Jw(e,t){const n=yq(e,t);Ub!==n&&(Ub=n,$a===null&&($a=document.createElement("style"),document.head.appendChild($a)),$a.innerHTML=`*{cursor: ${n}!important;}`)}function MN(e){return e.type==="keydown"}function ON(e){return e.type.startsWith("pointer")}function AN(e){return e.type.startsWith("mouse")}function Tv(e){if(ON(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(AN(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function bq(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Sq(e,t,n){return n?e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y:e.x<=t.x+t.width&&e.x+e.width>=t.x&&e.y<=t.y+t.height&&e.y+e.height>=t.y}function xq(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:qP(e),b:qP(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;ft(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:GP(KP(n.a)),b:GP(KP(n.b))};if(i.a===i.b){const o=r.childNodes,a={a:n.a.at(-1),b:n.b.at(-1)};let c=o.length;for(;c--;){const u=o[c];if(u===a.a)return 1;if(u===a.b)return-1}}return Math.sign(i.a-i.b)}const _q=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Cq(e){var t;const n=getComputedStyle((t=NN(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function Rq(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||Cq(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||_q.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function KP(e){let t=e.length;for(;t--;){const n=e[t];if(ft(n,"Missing node"),Rq(n))return n}return null}function GP(e){return e&&Number(getComputedStyle(e).zIndex)||0}function qP(e){const t=[];for(;e;)t.push(e),e=NN(e);return t}function NN(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const IN=1,jN=2,FN=4,BN=8,Tq=bq()==="coarse";let ki=[],Yc=!1,Oo=new Map,Ev=new Map;const Lf=new Set;function Eq(e,t,n,r,i){var o;const{ownerDocument:a}=t,c={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:i},u=(o=Oo.get(a))!==null&&o!==void 0?o:0;return Oo.set(a,u+1),Lf.add(c),lg(),function(){var h;Ev.delete(e),Lf.delete(c);const g=(h=Oo.get(a))!==null&&h!==void 0?h:1;if(Oo.set(a,g-1),lg(),g===1&&Oo.delete(a),ki.includes(c)){const v=ki.indexOf(c);v>=0&&ki.splice(v,1),O1(),i("up",!0,null)}}}function YP(e){const{target:t}=e,{x:n,y:r}=Tv(e);Yc=!0,M1({target:t,x:n,y:r}),lg(),ki.length>0&&(cg("down",e),e.preventDefault(),e.stopPropagation())}function kd(e){const{x:t,y:n}=Tv(e);if(Yc&&e.buttons===0&&(Yc=!1,cg("up",e)),!Yc){const{target:r}=e;M1({target:r,x:t,y:n})}cg("move",e),O1(),ki.length>0&&e.preventDefault()}function uc(e){const{target:t}=e,{x:n,y:r}=Tv(e);Ev.clear(),Yc=!1,ki.length>0&&e.preventDefault(),cg("up",e),M1({target:t,x:n,y:r}),O1(),lg()}function M1({target:e,x:t,y:n}){ki.splice(0);let r=null;e instanceof HTMLElement&&(r=e),Lf.forEach(i=>{const{element:o,hitAreaMargins:a}=i,c=o.getBoundingClientRect(),{bottom:u,left:p,right:h,top:g}=c,v=Tq?a.coarse:a.fine;if(t>=p-v&&t<=h+v&&n>=g-v&&n<=u+v){if(r!==null&&o!==r&&!o.contains(r)&&!r.contains(o)&&xq(r,o)>0){let S=r,b=!1;for(;S&&!S.contains(o);){if(Sq(S.getBoundingClientRect(),c,!0)){b=!0;break}S=S.parentElement}if(b)return}ki.push(i)}})}function e0(e,t){Ev.set(e,t)}function O1(){let e=!1,t=!1;ki.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:t=!0});let n=0;Ev.forEach(r=>{n|=r}),e&&t?Jw("intersection",n):e?Jw("horizontal",n):t?Jw("vertical",n):wq()}function lg(){Oo.forEach((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",uc),n.removeEventListener("pointerdown",YP),n.removeEventListener("pointerleave",kd),n.removeEventListener("pointermove",kd)}),window.removeEventListener("pointerup",uc),window.removeEventListener("pointercancel",uc),Lf.size>0&&(Yc?(ki.length>0&&Oo.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",uc),n.addEventListener("pointerleave",kd),n.addEventListener("pointermove",kd))}),window.addEventListener("pointerup",uc),window.addEventListener("pointercancel",uc)):Oo.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("pointerdown",YP,{capture:!0}),n.addEventListener("pointermove",kd))}))}function cg(e,t){Lf.forEach(n=>{const{setResizeHandlerState:r}=n,i=ki.includes(n);r(e,i,t)})}function Pq(){const[e,t]=qc(0);return br(()=>t(n=>n+1),[])}function ft(e,t){if(!e)throw console.error(t),Error(t)}const A1=10;function nl(e,t,n=A1){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function Ls(e,t,n=A1){return nl(e,t,n)===0}function Ar(e,t,n){return nl(e,t,n)===0}function kq(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const i=e[r],o=t[r];if(!Ar(i,o,n))return!1}return!0}function Lc({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];ft(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:i=0,collapsible:o,maxSize:a=100,minSize:c=0}=r;if(nl(n,c)<0)if(o){const u=(i+c)/2;nl(n,u)<0?n=i:n=c}else n=c;return n=Math.min(a,n),n=parseFloat(n.toFixed(A1)),n}function Fd({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:o}){if(Ar(e,0))return t;const a=[...t],[c,u]=r;ft(c!=null,"Invalid first pivot index"),ft(u!=null,"Invalid second pivot index");let p=0;if(o==="keyboard"){{const g=e<0?u:c,v=n[g];ft(v,`Panel constraints not found for index ${g}`);const{collapsedSize:w=0,collapsible:S,minSize:b=0}=v;if(S){const P=t[g];if(ft(P!=null,`Previous layout not found for panel index ${g}`),Ar(P,w)){const R=b-P;nl(R,Math.abs(e))>0&&(e=e<0?0-R:R)}}}{const g=e<0?c:u,v=n[g];ft(v,`No panel constraints found for index ${g}`);const{collapsedSize:w=0,collapsible:S,minSize:b=0}=v;if(S){const P=t[g];if(ft(P!=null,`Previous layout not found for panel index ${g}`),Ar(P,b)){const R=P-w;nl(R,Math.abs(e))>0&&(e=e<0?0-R:R)}}}}{const g=e<0?1:-1;let v=e<0?u:c,w=0;for(;;){const b=t[v];ft(b!=null,`Previous layout not found for panel index ${v}`);const R=Lc({panelConstraints:n,panelIndex:v,size:100})-b;if(w+=R,v+=g,v<0||v>=n.length)break}const S=Math.min(Math.abs(e),Math.abs(w));e=e<0?0-S:S}{let v=e<0?c:u;for(;v>=0&&v<n.length;){const w=Math.abs(e)-Math.abs(p),S=t[v];ft(S!=null,`Previous layout not found for panel index ${v}`);const b=S-w,P=Lc({panelConstraints:n,panelIndex:v,size:b});if(!Ar(S,P)&&(p+=S-P,a[v]=P,p.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?v--:v++}}if(kq(i,a))return i;{const g=e<0?u:c,v=t[g];ft(v!=null,`Previous layout not found for panel index ${g}`);const w=v+p,S=Lc({panelConstraints:n,panelIndex:g,size:w});if(a[g]=S,!Ar(S,w)){let b=w-S,R=e<0?u:c;for(;R>=0&&R<n.length;){const _=a[R];ft(_!=null,`Previous layout not found for panel index ${R}`);const k=_+b,E=Lc({panelConstraints:n,panelIndex:R,size:k});if(Ar(_,E)||(b-=E-_,a[R]=E),Ar(b,0))break;e>0?R--:R++}}}const h=a.reduce((g,v)=>v+g,0);return Ar(h,100)?a:i}function Dq({layout:e,panelsArray:t,pivotIndices:n}){let r=0,i=100,o=0,a=0;const c=n[0];ft(c!=null,"No pivot index found"),t.forEach((g,v)=>{const{constraints:w}=g,{maxSize:S=100,minSize:b=0}=w;v===c?(r=b,i=S):(o+=b,a+=S)});const u=Math.min(i,100-o),p=Math.max(r,100-a),h=e[c];return{valueMax:u,valueMin:p,valueNow:h}}function Mf(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function $N(e,t,n=document){const i=Mf(e,n).findIndex(o=>o.getAttribute("data-panel-resize-handle-id")===t);return i??null}function zN(e,t,n){const r=$N(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function UN(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function Pv(e,t=document){const n=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function Lq(e,t,n,r=document){var i,o,a,c;const u=Pv(t,r),p=Mf(e,r),h=u?p.indexOf(u):-1,g=(i=(o=n[h])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null,v=(a=(c=n[h+1])===null||c===void 0?void 0:c.id)!==null&&a!==void 0?a:null;return[g,v]}function Mq({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:i,panelGroupElement:o,setLayout:a}){Sr({didWarnAboutMissingResizeHandle:!1}),Ka(()=>{if(!o)return;const c=Mf(n,o);for(let u=0;u<i.length-1;u++){const{valueMax:p,valueMin:h,valueNow:g}=Dq({layout:r,panelsArray:i,pivotIndices:[u,u+1]}),v=c[u];if(v!=null){const w=i[u];ft(w,`No panel data found for index "${u}"`),v.setAttribute("aria-controls",w.id),v.setAttribute("aria-valuemax",""+Math.round(p)),v.setAttribute("aria-valuemin",""+Math.round(h)),v.setAttribute("aria-valuenow",g!=null?""+Math.round(g):"")}}return()=>{c.forEach((u,p)=>{u.removeAttribute("aria-controls"),u.removeAttribute("aria-valuemax"),u.removeAttribute("aria-valuemin"),u.removeAttribute("aria-valuenow")})}},[n,r,i,o]),Wa(()=>{if(!o)return;const c=t.current;ft(c,"Eager values not found");const{panelDataArray:u}=c,p=UN(n,o);ft(p!=null,`No group found for id "${n}"`);const h=Mf(n,o);ft(h,`No resize handles found for group id "${n}"`);const g=h.map(v=>{const w=v.getAttribute("data-panel-resize-handle-id");ft(w,"Resize handle element has no handle id attribute");const[S,b]=Lq(n,w,u,o);if(S==null||b==null)return()=>{};const P=R=>{if(!R.defaultPrevented)switch(R.key){case"Enter":{R.preventDefault();const _=u.findIndex(k=>k.id===S);if(_>=0){const k=u[_];ft(k,`No panel data found for index ${_}`);const E=r[_],{collapsedSize:N=0,collapsible:F,minSize:B=0}=k.constraints;if(E!=null&&F){const U=Fd({delta:Ar(E,N)?B-N:N-E,initialLayout:r,panelConstraints:u.map(G=>G.constraints),pivotIndices:zN(n,w,o),prevLayout:r,trigger:"keyboard"});r!==U&&a(U)}}break}}};return v.addEventListener("keydown",P),()=>{v.removeEventListener("keydown",P)}});return()=>{g.forEach(v=>v())}},[o,e,t,n,r,i,a])}function XP(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function VN(e,t){const n=e==="horizontal",{x:r,y:i}=Tv(t);return n?r:i}function Oq(e,t,n,r,i){const o=n==="horizontal",a=Pv(t,i);ft(a,`No resize handle element found for id "${t}"`);const c=a.getAttribute("data-panel-group-id");ft(c,"Resize handle element has no group id attribute");let{initialCursorPosition:u}=r;const p=VN(n,e),h=UN(c,i);ft(h,`No group element found for id "${c}"`);const g=h.getBoundingClientRect(),v=o?g.width:g.height;return(p-u)/v*100}function Aq(e,t,n,r,i,o){if(MN(e)){const a=n==="horizontal";let c=0;e.shiftKey?c=100:i!=null?c=i:c=10;let u=0;switch(e.key){case"ArrowDown":u=a?0:c;break;case"ArrowLeft":u=a?-c:0;break;case"ArrowRight":u=a?c:0;break;case"ArrowUp":u=a?0:-c;break;case"End":u=100;break;case"Home":u=-100;break}return u}else return r==null?0:Oq(e,t,n,r,o)}function Nq({panelDataArray:e}){const t=Array(e.length),n=e.map(o=>o.constraints);let r=0,i=100;for(let o=0;o<e.length;o++){const a=n[o];ft(a,`Panel constraints not found for index ${o}`);const{defaultSize:c}=a;c!=null&&(r++,t[o]=c,i-=c)}for(let o=0;o<e.length;o++){const a=n[o];ft(a,`Panel constraints not found for index ${o}`);const{defaultSize:c}=a;if(c!=null)continue;const u=e.length-r,p=i/u;r++,t[o]=p,i-=p}return t}function dc(e,t,n){t.forEach((r,i)=>{const o=e[i];ft(o,`Panel data not found for index ${i}`);const{callbacks:a,constraints:c,id:u}=o,{collapsedSize:p=0,collapsible:h}=c,g=n[u];if(g==null||r!==g){n[u]=r;const{onCollapse:v,onExpand:w,onResize:S}=a;S&&S(r,g),h&&(v||w)&&(w&&(g==null||Ls(g,p))&&!Ls(r,p)&&w(),v&&(g==null||!Ls(g,p))&&Ls(r,p)&&v())}})}function Uh(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Iq({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:i,precision:o=3}){const a=n[i];let c;return a==null?c=e!=null?e.toPrecision(o):"1":r.length===1?c="1":c=a.toPrecision(o),{flexBasis:0,flexGrow:c,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function jq(e,t=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...i)},t)}}function QP(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function HN(e){return`react-resizable-panels:${e}`}function WN(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:i,order:o}=t;return i?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function KN(e,t){try{const n=HN(e),r=t.getItem(n);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function Fq(e,t,n){var r,i;const o=(r=KN(e,n))!==null&&r!==void 0?r:{},a=WN(t);return(i=o[a])!==null&&i!==void 0?i:null}function Bq(e,t,n,r,i){var o;const a=HN(e),c=WN(t),u=(o=KN(e,i))!==null&&o!==void 0?o:{};u[c]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(a,JSON.stringify(u))}catch(p){console.error(p)}}function ZP({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((o,a)=>o+a,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!Ar(r,100)&&n.length>0)for(let o=0;o<t.length;o++){const a=n[o];ft(a!=null,`No layout data found for index ${o}`);const c=100/r*a;n[o]=c}let i=0;for(let o=0;o<t.length;o++){const a=n[o];ft(a!=null,`No layout data found for index ${o}`);const c=Lc({panelConstraints:t,panelIndex:o,size:a});a!=c&&(i+=a-c,n[o]=c)}if(!Ar(i,0))for(let o=0;o<t.length;o++){const a=n[o];ft(a!=null,`No layout data found for index ${o}`);const c=a+i,u=Lc({panelConstraints:t,panelIndex:o,size:c});if(a!==u&&(i-=u-a,n[o]=u,Ar(i,0)))break}return n}const $q=100,Bd={getItem:e=>(QP(Bd),Bd.getItem(e)),setItem:(e,t)=>{QP(Bd),Bd.setItem(e,t)}},JP={};function GN({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:i,id:o=null,onLayout:a=null,keyboardResizeBy:c=null,storage:u=Bd,style:p,tagName:h="div",...g}){const v=L1(o),w=Sr(null),[S,b]=qc(null),[P,R]=qc([]),_=Pq(),k=Sr({}),E=Sr(new Map),N=Sr(0),F=Sr({autoSaveId:e,direction:r,dragState:S,id:v,keyboardResizeBy:c,onLayout:a,storage:u}),B=Sr({layout:P,panelDataArray:[],panelDataArrayChanged:!1});Sr({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),kN(i,()=>({getId:()=>F.current.id,getLayout:()=>{const{layout:ae}=B.current;return ae},setLayout:ae=>{const{onLayout:pe}=F.current,{layout:we,panelDataArray:se}=B.current,ee=ZP({layout:ae,panelConstraints:se.map(ue=>ue.constraints)});XP(we,ee)||(R(ee),B.current.layout=ee,pe&&pe(ee),dc(se,ee,k.current))}}),[]),Ka(()=>{F.current.autoSaveId=e,F.current.direction=r,F.current.dragState=S,F.current.id=v,F.current.onLayout=a,F.current.storage=u}),Mq({committedValuesRef:F,eagerValuesRef:B,groupId:v,layout:P,panelDataArray:B.current.panelDataArray,setLayout:R,panelGroupElement:w.current}),Wa(()=>{const{panelDataArray:ae}=B.current;if(e){if(P.length===0||P.length!==ae.length)return;let pe=JP[e];pe==null&&(pe=jq(Bq,$q),JP[e]=pe);const we=[...ae],se=new Map(E.current);pe(e,we,se,P,u)}},[e,P,u]),Wa(()=>{});const U=br(ae=>{const{onLayout:pe}=F.current,{layout:we,panelDataArray:se}=B.current;if(ae.constraints.collapsible){const ee=se.map(ge=>ge.constraints),{collapsedSize:ue=0,panelSize:he,pivotIndices:Ee}=ka(se,ae,we);if(ft(he!=null,`Panel size not found for panel "${ae.id}"`),!Ls(he,ue)){E.current.set(ae.id,he);const Oe=yc(se,ae)===se.length-1?he-ue:ue-he,$e=Fd({delta:Oe,initialLayout:we,panelConstraints:ee,pivotIndices:Ee,prevLayout:we,trigger:"imperative-api"});Uh(we,$e)||(R($e),B.current.layout=$e,pe&&pe($e),dc(se,$e,k.current))}}},[]),G=br((ae,pe)=>{const{onLayout:we}=F.current,{layout:se,panelDataArray:ee}=B.current;if(ae.constraints.collapsible){const ue=ee.map(We=>We.constraints),{collapsedSize:he=0,panelSize:Ee=0,minSize:ge=0,pivotIndices:Oe}=ka(ee,ae,se),$e=pe??ge;if(Ls(Ee,he)){const We=E.current.get(ae.id),Rt=We!=null&&We>=$e?We:$e,ht=yc(ee,ae)===ee.length-1?Ee-Rt:Rt-Ee,xt=Fd({delta:ht,initialLayout:se,panelConstraints:ue,pivotIndices:Oe,prevLayout:se,trigger:"imperative-api"});Uh(se,xt)||(R(xt),B.current.layout=xt,we&&we(xt),dc(ee,xt,k.current))}}},[]),Q=br(ae=>{const{layout:pe,panelDataArray:we}=B.current,{panelSize:se}=ka(we,ae,pe);return ft(se!=null,`Panel size not found for panel "${ae.id}"`),se},[]),ie=br((ae,pe)=>{const{panelDataArray:we}=B.current,se=yc(we,ae);return Iq({defaultSize:pe,dragState:S,layout:P,panelData:we,panelIndex:se})},[S,P]),Y=br(ae=>{const{layout:pe,panelDataArray:we}=B.current,{collapsedSize:se=0,collapsible:ee,panelSize:ue}=ka(we,ae,pe);return ft(ue!=null,`Panel size not found for panel "${ae.id}"`),ee===!0&&Ls(ue,se)},[]),z=br(ae=>{const{layout:pe,panelDataArray:we}=B.current,{collapsedSize:se=0,collapsible:ee,panelSize:ue}=ka(we,ae,pe);return ft(ue!=null,`Panel size not found for panel "${ae.id}"`),!ee||nl(ue,se)>0},[]),V=br(ae=>{const{panelDataArray:pe}=B.current;pe.push(ae),pe.sort((we,se)=>{const ee=we.order,ue=se.order;return ee==null&&ue==null?0:ee==null?-1:ue==null?1:ee-ue}),B.current.panelDataArrayChanged=!0,_()},[_]);Ka(()=>{if(B.current.panelDataArrayChanged){B.current.panelDataArrayChanged=!1;const{autoSaveId:ae,onLayout:pe,storage:we}=F.current,{layout:se,panelDataArray:ee}=B.current;let ue=null;if(ae){const Ee=Fq(ae,ee,we);Ee&&(E.current=new Map(Object.entries(Ee.expandToSizes)),ue=Ee.layout)}ue==null&&(ue=Nq({panelDataArray:ee}));const he=ZP({layout:ue,panelConstraints:ee.map(Ee=>Ee.constraints)});XP(se,he)||(R(he),B.current.layout=he,pe&&pe(he),dc(ee,he,k.current))}}),Ka(()=>{const ae=B.current;return()=>{ae.layout=[]}},[]);const O=br(ae=>function(we){we.preventDefault();const se=w.current;if(!se)return()=>null;const{direction:ee,dragState:ue,id:he,keyboardResizeBy:Ee,onLayout:ge}=F.current,{layout:Oe,panelDataArray:$e}=B.current,{initialLayout:We}=ue??{},Rt=zN(he,ae,se);let st=Aq(we,ae,ee,ue,Ee,se);const ht=ee==="horizontal";document.dir==="rtl"&&ht&&(st=-st);const xt=$e.map(jt=>jt.constraints),At=Fd({delta:st,initialLayout:We??Oe,panelConstraints:xt,pivotIndices:Rt,prevLayout:Oe,trigger:MN(we)?"keyboard":"mouse-or-touch"}),je=!Uh(Oe,At);(ON(we)||AN(we))&&N.current!=st&&(N.current=st,!je&&st!==0?ht?e0(ae,st<0?IN:jN):e0(ae,st<0?FN:BN):e0(ae,0)),je&&(R(At),B.current.layout=At,ge&&ge(At),dc($e,At,k.current))},[]),X=br((ae,pe)=>{const{onLayout:we}=F.current,{layout:se,panelDataArray:ee}=B.current,ue=ee.map(We=>We.constraints),{panelSize:he,pivotIndices:Ee}=ka(ee,ae,se);ft(he!=null,`Panel size not found for panel "${ae.id}"`);const Oe=yc(ee,ae)===ee.length-1?he-pe:pe-he,$e=Fd({delta:Oe,initialLayout:se,panelConstraints:ue,pivotIndices:Ee,prevLayout:se,trigger:"imperative-api"});Uh(se,$e)||(R($e),B.current.layout=$e,we&&we($e),dc(ee,$e,k.current))},[]),oe=br((ae,pe)=>{const{layout:we,panelDataArray:se}=B.current,{collapsedSize:ee=0,collapsible:ue}=pe,{collapsedSize:he=0,collapsible:Ee,maxSize:ge=100,minSize:Oe=0}=ae.constraints,{panelSize:$e}=ka(se,ae,we);$e!=null&&(ue&&Ee&&Ls($e,ee)?Ls(ee,he)||X(ae,he):$e<Oe?X(ae,Oe):$e>ge&&X(ae,ge))},[X]),I=br((ae,pe)=>{const{direction:we}=F.current,{layout:se}=B.current;if(!w.current)return;const ee=Pv(ae,w.current);ft(ee,`Drag handle element not found for id "${ae}"`);const ue=VN(we,pe);b({dragHandleId:ae,dragHandleRect:ee.getBoundingClientRect(),initialCursorPosition:ue,initialLayout:se})},[]),j=br(()=>{b(null)},[]),K=br(ae=>{const{panelDataArray:pe}=B.current,we=yc(pe,ae);we>=0&&(pe.splice(we,1),delete k.current[ae.id],B.current.panelDataArrayChanged=!0,_())},[_]),Z=hq(()=>({collapsePanel:U,direction:r,dragState:S,expandPanel:G,getPanelSize:Q,getPanelStyle:ie,groupId:v,isPanelCollapsed:Y,isPanelExpanded:z,reevaluatePanelConstraints:oe,registerPanel:V,registerResizeHandle:O,resizePanel:X,startDragging:I,stopDragging:j,unregisterPanel:K,panelGroupElement:w.current}),[U,S,r,G,Q,ie,v,Y,z,oe,V,O,X,I,j,K]),xe={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return fu(Rv.Provider,{value:Z},fu(h,{...g,children:t,className:n,id:o,ref:w,style:{...xe,...p},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":v}))}const qN=EN((e,t)=>fu(GN,{...e,forwardedRef:t}));GN.displayName="PanelGroup";qN.displayName="forwardRef(PanelGroup)";function yc(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function ka(e,t,n){const r=yc(e,t),o=r===e.length-1?[r-1,r]:[r,r+1],a=n[r];return{...t.constraints,panelSize:a,pivotIndices:o}}function zq({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){Wa(()=>{if(e||n==null||r==null)return;const i=Pv(t,r);if(i==null)return;const o=a=>{if(!a.defaultPrevented)switch(a.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{a.preventDefault(),n(a);break}case"F6":{a.preventDefault();const c=i.getAttribute("data-panel-group-id");ft(c,`No group element found for id "${c}"`);const u=Mf(c,r),p=$N(c,t,r);ft(p!==null,`No resize element found for id "${t}"`);const h=a.shiftKey?p>0?p-1:u.length-1:p+1<u.length?p+1:0;u[h].focus();break}}};return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}},[r,e,t,n])}function YN({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:i,onBlur:o,onDragging:a,onFocus:c,style:u={},tabIndex:p=0,tagName:h="div",...g}){var v,w;const S=Sr(null),b=Sr({onDragging:a});Wa(()=>{b.current.onDragging=a});const P=PN(Rv);if(P===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:R,groupId:_,registerResizeHandle:k,startDragging:E,stopDragging:N,panelGroupElement:F}=P,B=L1(i),[U,G]=qc("inactive"),[Q,ie]=qc(!1),[Y,z]=qc(null),V=Sr({state:U});Ka(()=>{V.current.state=U}),Wa(()=>{if(n)z(null);else{const I=k(B);z(()=>I)}},[n,B,k]);const O=(v=r==null?void 0:r.coarse)!==null&&v!==void 0?v:15,X=(w=r==null?void 0:r.fine)!==null&&w!==void 0?w:5;return Wa(()=>{if(n||Y==null)return;const I=S.current;return ft(I,"Element ref not attached"),Eq(B,I,R,{coarse:O,fine:X},(K,Z,xe)=>{if(Z)switch(K){case"down":{G("drag"),ft(xe,'Expected event to be defined for "down" action'),E(B,xe);const{onDragging:ae}=b.current;ae&&ae(!0);break}case"move":{const{state:ae}=V.current;ae!=="drag"&&G("hover"),ft(xe,'Expected event to be defined for "move" action'),Y(xe);break}case"up":{G("hover"),N();const{onDragging:ae}=b.current;ae&&ae(!1);break}}else G("inactive")})},[O,R,n,X,k,B,Y,E,N]),zq({disabled:n,handleId:B,resizeHandler:Y,panelGroupElement:F}),fu(h,{...g,children:e,className:t,id:i,onBlur:()=>{ie(!1),o==null||o()},onFocus:()=>{ie(!0),c==null||c()},ref:S,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...u},tabIndex:p,"data-panel-group-direction":R,"data-panel-group-id":_,"data-resize-handle":"","data-resize-handle-active":U==="drag"?"pointer":Q?"keyboard":void 0,"data-resize-handle-state":U,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":B})}YN.displayName="PanelResizeHandle";const Uq=({className:e,...t})=>C.jsx(qN,{className:Ye("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t}),ek=LN,Vq=({withHandle:e,className:t,...n})=>C.jsx(YN,{className:Ye("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&C.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:C.jsx(dq,{className:"h-2.5 w-2.5"})})});function Vb(e,[t,n]){return Math.min(n,Math.max(t,e))}function N1(e){const t=e+"CollectionProvider",[n,r]=ds(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=w=>{const{scope:S,children:b}=w,P=bn.useRef(null),R=bn.useRef(new Map).current;return C.jsx(i,{scope:S,itemMap:R,collectionRef:P,children:b})};a.displayName=t;const c=e+"CollectionSlot",u=bn.forwardRef((w,S)=>{const{scope:b,children:P}=w,R=o(c,b),_=wt(S,R.collectionRef);return C.jsx(Zo,{ref:_,children:P})});u.displayName=c;const p=e+"CollectionItemSlot",h="data-radix-collection-item",g=bn.forwardRef((w,S)=>{const{scope:b,children:P,...R}=w,_=bn.useRef(null),k=wt(S,_),E=o(p,b);return bn.useEffect(()=>(E.itemMap.set(_,{ref:_,...R}),()=>void E.itemMap.delete(_))),C.jsx(Zo,{[h]:"",ref:k,children:P})});g.displayName=p;function v(w){const S=o(e+"CollectionConsumer",w);return bn.useCallback(()=>{const P=S.collectionRef.current;if(!P)return[];const R=Array.from(P.querySelectorAll(`[${h}]`));return Array.from(S.itemMap.values()).sort((E,N)=>R.indexOf(E.ref.current)-R.indexOf(N.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},v,r]}var Hq=x.createContext(void 0);function kv(e){const t=x.useContext(Hq);return e||t||"ltr"}const Wq=["top","right","bottom","left"],Jo=Math.min,Nr=Math.max,ug=Math.round,Vh=Math.floor,ea=e=>({x:e,y:e}),Kq={left:"right",right:"left",bottom:"top",top:"bottom"},Gq={start:"end",end:"start"};function Hb(e,t,n){return Nr(e,Jo(t,n))}function Ys(e,t){return typeof e=="function"?e(t):e}function Xs(e){return e.split("-")[0]}function Lu(e){return e.split("-")[1]}function I1(e){return e==="x"?"y":"x"}function j1(e){return e==="y"?"height":"width"}function ta(e){return["top","bottom"].includes(Xs(e))?"y":"x"}function F1(e){return I1(ta(e))}function qq(e,t,n){n===void 0&&(n=!1);const r=Lu(e),i=F1(e),o=j1(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=dg(a)),[a,dg(a)]}function Yq(e){const t=dg(e);return[Wb(e),t,Wb(t)]}function Wb(e){return e.replace(/start|end/g,t=>Gq[t])}function Xq(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:a;default:return[]}}function Qq(e,t,n,r){const i=Lu(e);let o=Xq(Xs(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(Wb)))),o}function dg(e){return e.replace(/left|right|bottom|top/g,t=>Kq[t])}function Zq(e){return{top:0,right:0,bottom:0,left:0,...e}}function XN(e){return typeof e!="number"?Zq(e):{top:e,right:e,bottom:e,left:e}}function fg(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function tk(e,t,n){let{reference:r,floating:i}=e;const o=ta(t),a=F1(t),c=j1(a),u=Xs(t),p=o==="y",h=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,v=r[c]/2-i[c]/2;let w;switch(u){case"top":w={x:h,y:r.y-i.height};break;case"bottom":w={x:h,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:g};break;case"left":w={x:r.x-i.width,y:g};break;default:w={x:r.x,y:r.y}}switch(Lu(t)){case"start":w[a]-=v*(n&&p?-1:1);break;case"end":w[a]+=v*(n&&p?-1:1);break}return w}const Jq=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,c=o.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let p=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:g}=tk(p,r,u),v=r,w={},S=0;for(let b=0;b<c.length;b++){const{name:P,fn:R}=c[b],{x:_,y:k,data:E,reset:N}=await R({x:h,y:g,initialPlacement:r,placement:v,strategy:i,middlewareData:w,rects:p,platform:a,elements:{reference:e,floating:t}});h=_??h,g=k??g,w={...w,[P]:{...w[P],...E}},N&&S<=50&&(S++,typeof N=="object"&&(N.placement&&(v=N.placement),N.rects&&(p=N.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):N.rects),{x:h,y:g}=tk(p,v,u)),b=-1)}return{x:h,y:g,placement:v,strategy:i,middlewareData:w}};async function Of(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:c,strategy:u}=e,{boundary:p="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:v=!1,padding:w=0}=Ys(t,e),S=XN(w),P=c[v?g==="floating"?"reference":"floating":g],R=fg(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(P)))==null||n?P:P.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:p,rootBoundary:h,strategy:u})),_=g==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),E=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},N=fg(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:_,offsetParent:k,strategy:u}):_);return{top:(R.top-N.top+S.top)/E.y,bottom:(N.bottom-R.bottom+S.bottom)/E.y,left:(R.left-N.left+S.left)/E.x,right:(N.right-R.right+S.right)/E.x}}const eY=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:c,middlewareData:u}=t,{element:p,padding:h=0}=Ys(e,t)||{};if(p==null)return{};const g=XN(h),v={x:n,y:r},w=F1(i),S=j1(w),b=await a.getDimensions(p),P=w==="y",R=P?"top":"left",_=P?"bottom":"right",k=P?"clientHeight":"clientWidth",E=o.reference[S]+o.reference[w]-v[w]-o.floating[S],N=v[w]-o.reference[w],F=await(a.getOffsetParent==null?void 0:a.getOffsetParent(p));let B=F?F[k]:0;(!B||!await(a.isElement==null?void 0:a.isElement(F)))&&(B=c.floating[k]||o.floating[S]);const U=E/2-N/2,G=B/2-b[S]/2-1,Q=Jo(g[R],G),ie=Jo(g[_],G),Y=Q,z=B-b[S]-ie,V=B/2-b[S]/2+U,O=Hb(Y,V,z),X=!u.arrow&&Lu(i)!=null&&V!==O&&o.reference[S]/2-(V<Y?Q:ie)-b[S]/2<0,oe=X?V<Y?V-Y:V-z:0;return{[w]:v[w]+oe,data:{[w]:O,centerOffset:V-O-oe,...X&&{alignmentOffset:oe}},reset:X}}}),tY=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:c,platform:u,elements:p}=t,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:b=!0,...P}=Ys(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const R=Xs(i),_=ta(c),k=Xs(c)===c,E=await(u.isRTL==null?void 0:u.isRTL(p.floating)),N=v||(k||!b?[dg(c)]:Yq(c)),F=S!=="none";!v&&F&&N.push(...Qq(c,b,S,E));const B=[c,...N],U=await Of(t,P),G=[];let Q=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&G.push(U[R]),g){const V=qq(i,a,E);G.push(U[V[0]],U[V[1]])}if(Q=[...Q,{placement:i,overflows:G}],!G.every(V=>V<=0)){var ie,Y;const V=(((ie=o.flip)==null?void 0:ie.index)||0)+1,O=B[V];if(O)return{data:{index:V,overflows:Q},reset:{placement:O}};let X=(Y=Q.filter(oe=>oe.overflows[0]<=0).sort((oe,I)=>oe.overflows[1]-I.overflows[1])[0])==null?void 0:Y.placement;if(!X)switch(w){case"bestFit":{var z;const oe=(z=Q.filter(I=>{if(F){const j=ta(I.placement);return j===_||j==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(j=>j>0).reduce((j,K)=>j+K,0)]).sort((I,j)=>I[1]-j[1])[0])==null?void 0:z[0];oe&&(X=oe);break}case"initialPlacement":X=c;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function nk(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function rk(e){return Wq.some(t=>e[t]>=0)}const nY=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Ys(e,t);switch(r){case"referenceHidden":{const o=await Of(t,{...i,elementContext:"reference"}),a=nk(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:rk(a)}}}case"escaped":{const o=await Of(t,{...i,altBoundary:!0}),a=nk(o,n.floating);return{data:{escapedOffsets:a,escaped:rk(a)}}}default:return{}}}}};async function rY(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Xs(n),c=Lu(n),u=ta(n)==="y",p=["left","top"].includes(a)?-1:1,h=o&&u?-1:1,g=Ys(t,e);let{mainAxis:v,crossAxis:w,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof S=="number"&&(w=c==="end"?S*-1:S),u?{x:w*h,y:v*p}:{x:v*p,y:w*h}}const iY=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:c}=t,u=await rY(t,e);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:a}}}}},sY=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:c={fn:P=>{let{x:R,y:_}=P;return{x:R,y:_}}},...u}=Ys(e,t),p={x:n,y:r},h=await Of(t,u),g=ta(Xs(i)),v=I1(g);let w=p[v],S=p[g];if(o){const P=v==="y"?"top":"left",R=v==="y"?"bottom":"right",_=w+h[P],k=w-h[R];w=Hb(_,w,k)}if(a){const P=g==="y"?"top":"left",R=g==="y"?"bottom":"right",_=S+h[P],k=S-h[R];S=Hb(_,S,k)}const b=c.fn({...t,[v]:w,[g]:S});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[v]:o,[g]:a}}}}}},oY=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:c=0,mainAxis:u=!0,crossAxis:p=!0}=Ys(e,t),h={x:n,y:r},g=ta(i),v=I1(g);let w=h[v],S=h[g];const b=Ys(c,t),P=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(u){const k=v==="y"?"height":"width",E=o.reference[v]-o.floating[k]+P.mainAxis,N=o.reference[v]+o.reference[k]-P.mainAxis;w<E?w=E:w>N&&(w=N)}if(p){var R,_;const k=v==="y"?"width":"height",E=["top","left"].includes(Xs(i)),N=o.reference[g]-o.floating[k]+(E&&((R=a.offset)==null?void 0:R[g])||0)+(E?0:P.crossAxis),F=o.reference[g]+o.reference[k]+(E?0:((_=a.offset)==null?void 0:_[g])||0)-(E?P.crossAxis:0);S<N?S=N:S>F&&(S=F)}return{[v]:w,[g]:S}}}},aY=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:a,elements:c}=t,{apply:u=()=>{},...p}=Ys(e,t),h=await Of(t,p),g=Xs(i),v=Lu(i),w=ta(i)==="y",{width:S,height:b}=o.floating;let P,R;g==="top"||g==="bottom"?(P=g,R=v===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(R=g,P=v==="end"?"top":"bottom");const _=b-h.top-h.bottom,k=S-h.left-h.right,E=Jo(b-h[P],_),N=Jo(S-h[R],k),F=!t.middlewareData.shift;let B=E,U=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(U=k),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(B=_),F&&!v){const Q=Nr(h.left,0),ie=Nr(h.right,0),Y=Nr(h.top,0),z=Nr(h.bottom,0);w?U=S-2*(Q!==0||ie!==0?Q+ie:Nr(h.left,h.right)):B=b-2*(Y!==0||z!==0?Y+z:Nr(h.top,h.bottom))}await u({...t,availableWidth:U,availableHeight:B});const G=await a.getDimensions(c.floating);return S!==G.width||b!==G.height?{reset:{rects:!0}}:{}}}};function Dv(){return typeof window<"u"}function Mu(e){return QN(e)?(e.nodeName||"").toLowerCase():"#document"}function $r(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fs(e){var t;return(t=(QN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function QN(e){return Dv()?e instanceof Node||e instanceof $r(e).Node:!1}function Li(e){return Dv()?e instanceof Element||e instanceof $r(e).Element:!1}function cs(e){return Dv()?e instanceof HTMLElement||e instanceof $r(e).HTMLElement:!1}function ik(e){return!Dv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $r(e).ShadowRoot}function fp(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Mi(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function lY(e){return["table","td","th"].includes(Mu(e))}function Lv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function B1(e){const t=$1(),n=Li(e)?Mi(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function cY(e){let t=na(e);for(;cs(t)&&!pu(t);){if(B1(t))return t;if(Lv(t))return null;t=na(t)}return null}function $1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function pu(e){return["html","body","#document"].includes(Mu(e))}function Mi(e){return $r(e).getComputedStyle(e)}function Mv(e){return Li(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function na(e){if(Mu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ik(e)&&e.host||fs(e);return ik(t)?t.host:t}function ZN(e){const t=na(e);return pu(t)?e.ownerDocument?e.ownerDocument.body:e.body:cs(t)&&fp(t)?t:ZN(t)}function Af(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=ZN(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=$r(i);if(o){const c=Kb(a);return t.concat(a,a.visualViewport||[],fp(i)?i:[],c&&n?Af(c):[])}return t.concat(i,Af(i,[],n))}function Kb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function JN(e){const t=Mi(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=cs(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,c=ug(n)!==o||ug(r)!==a;return c&&(n=o,r=a),{width:n,height:r,$:c}}function z1(e){return Li(e)?e:e.contextElement}function Xc(e){const t=z1(e);if(!cs(t))return ea(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=JN(t);let a=(o?ug(n.width):n.width)/r,c=(o?ug(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const uY=ea(0);function e2(e){const t=$r(e);return!$1()||!t.visualViewport?uY:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dY(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==$r(e)?!1:t}function rl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=z1(e);let a=ea(1);t&&(r?Li(r)&&(a=Xc(r)):a=Xc(e));const c=dY(o,n,r)?e2(o):ea(0);let u=(i.left+c.x)/a.x,p=(i.top+c.y)/a.y,h=i.width/a.x,g=i.height/a.y;if(o){const v=$r(o),w=r&&Li(r)?$r(r):r;let S=v,b=Kb(S);for(;b&&r&&w!==S;){const P=Xc(b),R=b.getBoundingClientRect(),_=Mi(b),k=R.left+(b.clientLeft+parseFloat(_.paddingLeft))*P.x,E=R.top+(b.clientTop+parseFloat(_.paddingTop))*P.y;u*=P.x,p*=P.y,h*=P.x,g*=P.y,u+=k,p+=E,S=$r(b),b=Kb(S)}}return fg({width:h,height:g,x:u,y:p})}function fY(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=fs(r),c=t?Lv(t.floating):!1;if(r===a||c&&o)return n;let u={scrollLeft:0,scrollTop:0},p=ea(1);const h=ea(0),g=cs(r);if((g||!g&&!o)&&((Mu(r)!=="body"||fp(a))&&(u=Mv(r)),cs(r))){const v=rl(r);p=Xc(r),h.x=v.x+r.clientLeft,h.y=v.y+r.clientTop}return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-u.scrollLeft*p.x+h.x,y:n.y*p.y-u.scrollTop*p.y+h.y}}function pY(e){return Array.from(e.getClientRects())}function Gb(e,t){const n=Mv(e).scrollLeft;return t?t.left+n:rl(fs(e)).left+n}function hY(e){const t=fs(e),n=Mv(e),r=e.ownerDocument.body,i=Nr(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Nr(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Gb(e);const c=-n.scrollTop;return Mi(r).direction==="rtl"&&(a+=Nr(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:c}}function mY(e,t){const n=$r(e),r=fs(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,c=0,u=0;if(i){o=i.width,a=i.height;const p=$1();(!p||p&&t==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}return{width:o,height:a,x:c,y:u}}function gY(e,t){const n=rl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=cs(e)?Xc(e):ea(1),a=e.clientWidth*o.x,c=e.clientHeight*o.y,u=i*o.x,p=r*o.y;return{width:a,height:c,x:u,y:p}}function sk(e,t,n){let r;if(t==="viewport")r=mY(e,n);else if(t==="document")r=hY(fs(e));else if(Li(t))r=gY(t,n);else{const i=e2(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return fg(r)}function t2(e,t){const n=na(e);return n===t||!Li(n)||pu(n)?!1:Mi(n).position==="fixed"||t2(n,t)}function vY(e,t){const n=t.get(e);if(n)return n;let r=Af(e,[],!1).filter(c=>Li(c)&&Mu(c)!=="body"),i=null;const o=Mi(e).position==="fixed";let a=o?na(e):e;for(;Li(a)&&!pu(a);){const c=Mi(a),u=B1(a);!u&&c.position==="fixed"&&(i=null),(o?!u&&!i:!u&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||fp(a)&&!u&&t2(e,a))?r=r.filter(h=>h!==a):i=c,a=na(a)}return t.set(e,r),r}function yY(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Lv(t)?[]:vY(t,this._c):[].concat(n),r],c=a[0],u=a.reduce((p,h)=>{const g=sk(t,h,i);return p.top=Nr(g.top,p.top),p.right=Jo(g.right,p.right),p.bottom=Jo(g.bottom,p.bottom),p.left=Nr(g.left,p.left),p},sk(t,c,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function wY(e){const{width:t,height:n}=JN(e);return{width:t,height:n}}function bY(e,t,n){const r=cs(t),i=fs(t),o=n==="fixed",a=rl(e,!0,o,t);let c={scrollLeft:0,scrollTop:0};const u=ea(0);if(r||!r&&!o)if((Mu(t)!=="body"||fp(i))&&(c=Mv(t)),r){const w=rl(t,!0,o,t);u.x=w.x+t.clientLeft,u.y=w.y+t.clientTop}else i&&(u.x=Gb(i));let p=0,h=0;if(i&&!r&&!o){const w=i.getBoundingClientRect();h=w.top+c.scrollTop,p=w.left+c.scrollLeft-Gb(i,w)}const g=a.left+c.scrollLeft-u.x-p,v=a.top+c.scrollTop-u.y-h;return{x:g,y:v,width:a.width,height:a.height}}function t0(e){return Mi(e).position==="static"}function ok(e,t){if(!cs(e)||Mi(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return fs(e)===n&&(n=n.ownerDocument.body),n}function n2(e,t){const n=$r(e);if(Lv(e))return n;if(!cs(e)){let i=na(e);for(;i&&!pu(i);){if(Li(i)&&!t0(i))return i;i=na(i)}return n}let r=ok(e,t);for(;r&&lY(r)&&t0(r);)r=ok(r,t);return r&&pu(r)&&t0(r)&&!B1(r)?n:r||cY(e)||n}const SY=async function(e){const t=this.getOffsetParent||n2,n=this.getDimensions,r=await n(e.floating);return{reference:bY(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xY(e){return Mi(e).direction==="rtl"}const _Y={convertOffsetParentRelativeRectToViewportRelativeRect:fY,getDocumentElement:fs,getClippingRect:yY,getOffsetParent:n2,getElementRects:SY,getClientRects:pY,getDimensions:wY,getScale:Xc,isElement:Li,isRTL:xY};function CY(e,t){let n=null,r;const i=fs(e);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),o();const{left:p,top:h,width:g,height:v}=e.getBoundingClientRect();if(c||t(),!g||!v)return;const w=Vh(h),S=Vh(i.clientWidth-(p+g)),b=Vh(i.clientHeight-(h+v)),P=Vh(p),_={rootMargin:-w+"px "+-S+"px "+-b+"px "+-P+"px",threshold:Nr(0,Jo(1,u))||1};let k=!0;function E(N){const F=N[0].intersectionRatio;if(F!==u){if(!k)return a();F?a(!1,F):r=setTimeout(()=>{a(!1,1e-7)},1e3)}k=!1}try{n=new IntersectionObserver(E,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,_)}n.observe(e)}return a(!0),o}function RY(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,p=z1(e),h=i||o?[...p?Af(p):[],...Af(t)]:[];h.forEach(R=>{i&&R.addEventListener("scroll",n,{passive:!0}),o&&R.addEventListener("resize",n)});const g=p&&c?CY(p,n):null;let v=-1,w=null;a&&(w=new ResizeObserver(R=>{let[_]=R;_&&_.target===p&&w&&(w.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=w)==null||k.observe(t)})),n()}),p&&!u&&w.observe(p),w.observe(t));let S,b=u?rl(e):null;u&&P();function P(){const R=rl(e);b&&(R.x!==b.x||R.y!==b.y||R.width!==b.width||R.height!==b.height)&&n(),b=R,S=requestAnimationFrame(P)}return n(),()=>{var R;h.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),g==null||g(),(R=w)==null||R.disconnect(),w=null,u&&cancelAnimationFrame(S)}}const TY=iY,EY=sY,PY=tY,kY=aY,DY=nY,ak=eY,LY=oY,MY=(e,t,n)=>{const r=new Map,i={platform:_Y,...n},o={...i.platform,_c:r};return Jq(e,t,{...i,platform:o})};var wm=typeof document<"u"?x.useLayoutEffect:x.useEffect;function pg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!pg(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!pg(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function r2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lk(e,t){const n=r2(e);return Math.round(t*n)/n}function n0(e){const t=x.useRef(e);return wm(()=>{t.current=e}),t}function OY(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:c=!0,whileElementsMounted:u,open:p}=e,[h,g]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,w]=x.useState(r);pg(v,r)||w(r);const[S,b]=x.useState(null),[P,R]=x.useState(null),_=x.useCallback(I=>{I!==F.current&&(F.current=I,b(I))},[]),k=x.useCallback(I=>{I!==B.current&&(B.current=I,R(I))},[]),E=o||S,N=a||P,F=x.useRef(null),B=x.useRef(null),U=x.useRef(h),G=u!=null,Q=n0(u),ie=n0(i),Y=n0(p),z=x.useCallback(()=>{if(!F.current||!B.current)return;const I={placement:t,strategy:n,middleware:v};ie.current&&(I.platform=ie.current),MY(F.current,B.current,I).then(j=>{const K={...j,isPositioned:Y.current!==!1};V.current&&!pg(U.current,K)&&(U.current=K,la.flushSync(()=>{g(K)}))})},[v,t,n,ie,Y]);wm(()=>{p===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,g(I=>({...I,isPositioned:!1})))},[p]);const V=x.useRef(!1);wm(()=>(V.current=!0,()=>{V.current=!1}),[]),wm(()=>{if(E&&(F.current=E),N&&(B.current=N),E&&N){if(Q.current)return Q.current(E,N,z);z()}},[E,N,z,Q,G]);const O=x.useMemo(()=>({reference:F,floating:B,setReference:_,setFloating:k}),[_,k]),X=x.useMemo(()=>({reference:E,floating:N}),[E,N]),oe=x.useMemo(()=>{const I={position:n,left:0,top:0};if(!X.floating)return I;const j=lk(X.floating,h.x),K=lk(X.floating,h.y);return c?{...I,transform:"translate("+j+"px, "+K+"px)",...r2(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:K}},[n,c,X.floating,h.x,h.y]);return x.useMemo(()=>({...h,update:z,refs:O,elements:X,floatingStyles:oe}),[h,z,O,X,oe])}const AY=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ak({element:r.current,padding:i}).fn(n):{}:r?ak({element:r,padding:i}).fn(n):{}}}},NY=(e,t)=>({...TY(e),options:[e,t]}),IY=(e,t)=>({...EY(e),options:[e,t]}),jY=(e,t)=>({...LY(e),options:[e,t]}),FY=(e,t)=>({...PY(e),options:[e,t]}),BY=(e,t)=>({...kY(e),options:[e,t]}),$Y=(e,t)=>({...DY(e),options:[e,t]}),zY=(e,t)=>({...AY(e),options:[e,t]});var UY="Arrow",i2=x.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return C.jsx(lt.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});i2.displayName=UY;var VY=i2;function HY(e){const[t,n]=x.useState(void 0);return Hn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,c;if("borderBoxSize"in o){const u=o.borderBoxSize,p=Array.isArray(u)?u[0]:u;a=p.inlineSize,c=p.blockSize}else a=e.offsetWidth,c=e.offsetHeight;n({width:a,height:c})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var U1="Popper",[s2,Ov]=ds(U1),[WY,o2]=s2(U1),a2=e=>{const{__scopePopper:t,children:n}=e,[r,i]=x.useState(null);return C.jsx(WY,{scope:t,anchor:r,onAnchorChange:i,children:n})};a2.displayName=U1;var l2="PopperAnchor",c2=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=o2(l2,n),a=x.useRef(null),c=wt(t,a);return x.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:C.jsx(lt.div,{...i,ref:c})});c2.displayName=l2;var V1="PopperContent",[KY,GY]=s2(V1),u2=x.forwardRef((e,t)=>{var ee,ue,he,Ee,ge,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:u=!0,collisionBoundary:p=[],collisionPadding:h=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:S,...b}=e,P=o2(V1,n),[R,_]=x.useState(null),k=wt(t,$e=>_($e)),[E,N]=x.useState(null),F=HY(E),B=(F==null?void 0:F.width)??0,U=(F==null?void 0:F.height)??0,G=r+(o!=="center"?"-"+o:""),Q=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},ie=Array.isArray(p)?p:[p],Y=ie.length>0,z={padding:Q,boundary:ie.filter(YY),altBoundary:Y},{refs:V,floatingStyles:O,placement:X,isPositioned:oe,middlewareData:I}=OY({strategy:"fixed",placement:G,whileElementsMounted:(...$e)=>RY(...$e,{animationFrame:w==="always"}),elements:{reference:P.anchor},middleware:[NY({mainAxis:i+U,alignmentAxis:a}),u&&IY({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?jY():void 0,...z}),u&&FY({...z}),BY({...z,apply:({elements:$e,rects:We,availableWidth:Rt,availableHeight:st})=>{const{width:ht,height:xt}=We.reference,At=$e.floating.style;At.setProperty("--radix-popper-available-width",`${Rt}px`),At.setProperty("--radix-popper-available-height",`${st}px`),At.setProperty("--radix-popper-anchor-width",`${ht}px`),At.setProperty("--radix-popper-anchor-height",`${xt}px`)}}),E&&zY({element:E,padding:c}),XY({arrowWidth:B,arrowHeight:U}),v&&$Y({strategy:"referenceHidden",...z})]}),[j,K]=p2(X),Z=xn(S);Hn(()=>{oe&&(Z==null||Z())},[oe,Z]);const xe=(ee=I.arrow)==null?void 0:ee.x,ae=(ue=I.arrow)==null?void 0:ue.y,pe=((he=I.arrow)==null?void 0:he.centerOffset)!==0,[we,se]=x.useState();return Hn(()=>{R&&se(window.getComputedStyle(R).zIndex)},[R]),C.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...O,transform:oe?O.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(Ee=I.transformOrigin)==null?void 0:Ee.x,(ge=I.transformOrigin)==null?void 0:ge.y].join(" "),...((Oe=I.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:C.jsx(KY,{scope:n,placedSide:j,onArrowChange:N,arrowX:xe,arrowY:ae,shouldHideArrow:pe,children:C.jsx(lt.div,{"data-side":j,"data-align":K,...b,ref:k,style:{...b.style,animation:oe?void 0:"none"}})})})});u2.displayName=V1;var d2="PopperArrow",qY={top:"bottom",right:"left",bottom:"top",left:"right"},f2=x.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=GY(d2,r),a=qY[o.placedSide];return C.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:C.jsx(VY,{...i,ref:n,style:{...i.style,display:"block"}})})});f2.displayName=d2;function YY(e){return e!==null}var XY=e=>({name:"transformOrigin",options:e,fn(t){var P,R,_;const{placement:n,rects:r,middlewareData:i}=t,a=((P=i.arrow)==null?void 0:P.centerOffset)!==0,c=a?0:e.arrowWidth,u=a?0:e.arrowHeight,[p,h]=p2(n),g={start:"0%",center:"50%",end:"100%"}[h],v=(((R=i.arrow)==null?void 0:R.x)??0)+c/2,w=(((_=i.arrow)==null?void 0:_.y)??0)+u/2;let S="",b="";return p==="bottom"?(S=a?g:`${v}px`,b=`${-u}px`):p==="top"?(S=a?g:`${v}px`,b=`${r.floating.height+u}px`):p==="right"?(S=`${-u}px`,b=a?g:`${w}px`):p==="left"&&(S=`${r.floating.width+u}px`,b=a?g:`${w}px`),{data:{x:S,y:b}}}});function p2(e){const[t,n="center"]=e.split("-");return[t,n]}var h2=a2,m2=c2,g2=u2,v2=f2;function QY(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ZY="VisuallyHidden",y2=x.forwardRef((e,t)=>C.jsx(lt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));y2.displayName=ZY;var w2=p1(),r0=function(){},Av=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:r0,onWheelCapture:r0,onTouchMoveCapture:r0}),i=r[0],o=r[1],a=e.forwardProps,c=e.children,u=e.className,p=e.removeScrollBar,h=e.enabled,g=e.shards,v=e.sideCar,w=e.noIsolation,S=e.inert,b=e.allowPinchZoom,P=e.as,R=P===void 0?"div":P,_=e.gapMode,k=Sv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=v,N=f1([n,t]),F=ln(ln({},k),i);return x.createElement(x.Fragment,null,h&&x.createElement(E,{sideCar:w2,removeScrollBar:p,shards:g,noIsolation:w,inert:S,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:_}),a?x.cloneElement(x.Children.only(c),ln(ln({},F),{ref:N})):x.createElement(R,ln({},F,{className:u,ref:N}),c))});Av.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Av.classNames={fullWidth:Wc,zeroRight:Hc};var qb=!1;if(typeof window<"u")try{var Hh=Object.defineProperty({},"passive",{get:function(){return qb=!0,!0}});window.addEventListener("test",Hh,Hh),window.removeEventListener("test",Hh,Hh)}catch{qb=!1}var fc=qb?{passive:!1}:!1,JY=function(e){return e.tagName==="TEXTAREA"},b2=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!JY(e)&&n[t]==="visible")},eX=function(e){return b2(e,"overflowY")},tX=function(e){return b2(e,"overflowX")},ck=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=S2(e,r);if(i){var o=x2(e,r),a=o[1],c=o[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},nX=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},rX=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},S2=function(e,t){return e==="v"?eX(t):tX(t)},x2=function(e,t){return e==="v"?nX(t):rX(t)},iX=function(e,t){return e==="h"&&t==="rtl"?-1:1},sX=function(e,t,n,r,i){var o=iX(e,window.getComputedStyle(t).direction),a=o*r,c=n.target,u=t.contains(c),p=!1,h=a>0,g=0,v=0;do{var w=x2(e,c),S=w[0],b=w[1],P=w[2],R=b-P-o*S;(S||R)&&S2(e,c)&&(g+=R,v+=S),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(h&&(i&&Math.abs(g)<1||!i&&a>g)||!h&&(i&&Math.abs(v)<1||!i&&-a>v))&&(p=!0),p},Wh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uk=function(e){return[e.deltaX,e.deltaY]},dk=function(e){return e&&"current"in e?e.current:e},oX=function(e,t){return e[0]===t[0]&&e[1]===t[1]},aX=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},lX=0,pc=[];function cX(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(lX++)[0],o=x.useState(_v)[0],a=x.useRef(e);x.useEffect(function(){a.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var b=d1([e.lockRef.current],(e.shards||[]).map(dk),!0).filter(Boolean);return b.forEach(function(P){return P.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(b,P){if("touches"in b&&b.touches.length===2)return!a.current.allowPinchZoom;var R=Wh(b),_=n.current,k="deltaX"in b?b.deltaX:_[0]-R[0],E="deltaY"in b?b.deltaY:_[1]-R[1],N,F=b.target,B=Math.abs(k)>Math.abs(E)?"h":"v";if("touches"in b&&B==="h"&&F.type==="range")return!1;var U=ck(B,F);if(!U)return!0;if(U?N=B:(N=B==="v"?"h":"v",U=ck(B,F)),!U)return!1;if(!r.current&&"changedTouches"in b&&(k||E)&&(r.current=N),!N)return!0;var G=r.current||N;return sX(G,P,b,G==="h"?k:E,!0)},[]),u=x.useCallback(function(b){var P=b;if(!(!pc.length||pc[pc.length-1]!==o)){var R="deltaY"in P?uk(P):Wh(P),_=t.current.filter(function(N){return N.name===P.type&&(N.target===P.target||P.target===N.shadowParent)&&oX(N.delta,R)})[0];if(_&&_.should){P.cancelable&&P.preventDefault();return}if(!_){var k=(a.current.shards||[]).map(dk).filter(Boolean).filter(function(N){return N.contains(P.target)}),E=k.length>0?c(P,k[0]):!a.current.noIsolation;E&&P.cancelable&&P.preventDefault()}}},[]),p=x.useCallback(function(b,P,R,_){var k={name:b,delta:P,target:R,should:_,shadowParent:uX(R)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(E){return E!==k})},1)},[]),h=x.useCallback(function(b){n.current=Wh(b),r.current=void 0},[]),g=x.useCallback(function(b){p(b.type,uk(b),b.target,c(b,e.lockRef.current))},[]),v=x.useCallback(function(b){p(b.type,Wh(b),b.target,c(b,e.lockRef.current))},[]);x.useEffect(function(){return pc.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",u,fc),document.addEventListener("touchmove",u,fc),document.addEventListener("touchstart",h,fc),function(){pc=pc.filter(function(b){return b!==o}),document.removeEventListener("wheel",u,fc),document.removeEventListener("touchmove",u,fc),document.removeEventListener("touchstart",h,fc)}},[]);var w=e.removeScrollBar,S=e.inert;return x.createElement(x.Fragment,null,S?x.createElement(o,{styles:aX(i)}):null,w?x.createElement(m1,{gapMode:e.gapMode}):null)}function uX(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const dX=h1(w2,cX);var _2=x.forwardRef(function(e,t){return x.createElement(Av,ln({},e,{ref:t,sideCar:dX}))});_2.classNames=Av.classNames;const fX=_2;var pX=[" ","Enter","ArrowUp","ArrowDown"],hX=[" ","Enter"],pp="Select",[Nv,Iv,mX]=N1(pp),[Ou,Dse]=ds(pp,[mX,Ov]),jv=Ov(),[gX,ha]=Ou(pp),[vX,yX]=Ou(pp),C2=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:c,onValueChange:u,dir:p,name:h,autoComplete:g,disabled:v,required:w}=e,S=jv(t),[b,P]=x.useState(null),[R,_]=x.useState(null),[k,E]=x.useState(!1),N=kv(p),[F=!1,B]=Df({prop:r,defaultProp:i,onChange:o}),[U,G]=Df({prop:a,defaultProp:c,onChange:u}),Q=x.useRef(null),ie=b?!!b.closest("form"):!0,[Y,z]=x.useState(new Set),V=Array.from(Y).map(O=>O.props.value).join(";");return C.jsx(h2,{...S,children:C.jsxs(gX,{required:w,scope:t,trigger:b,onTriggerChange:P,valueNode:R,onValueNodeChange:_,valueNodeHasChildren:k,onValueNodeHasChildrenChange:E,contentId:Is(),value:U,onValueChange:G,open:F,onOpenChange:B,dir:N,triggerPointerDownPosRef:Q,disabled:v,children:[C.jsx(Nv.Provider,{scope:t,children:C.jsx(vX,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(O=>{z(X=>new Set(X).add(O))},[]),onNativeOptionRemove:x.useCallback(O=>{z(X=>{const oe=new Set(X);return oe.delete(O),oe})},[]),children:n})}),ie?C.jsxs(Y2,{"aria-hidden":!0,required:w,tabIndex:-1,name:h,autoComplete:g,value:U,onChange:O=>G(O.target.value),disabled:v,children:[U===void 0?C.jsx("option",{value:""}):null,Array.from(Y)]},V):null]})})};C2.displayName=pp;var R2="SelectTrigger",T2=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=jv(n),a=ha(R2,n),c=a.disabled||r,u=wt(t,a.onTriggerChange),p=Iv(n),[h,g,v]=X2(S=>{const b=p().filter(_=>!_.disabled),P=b.find(_=>_.value===a.value),R=Q2(b,S,P);R!==void 0&&a.onValueChange(R.value)}),w=()=>{c||(a.onOpenChange(!0),v())};return C.jsx(m2,{asChild:!0,...o,children:C.jsx(lt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":q2(a.value)?"":void 0,...i,ref:u,onClick:ze(i.onClick,S=>{S.currentTarget.focus()}),onPointerDown:ze(i.onPointerDown,S=>{const b=S.target;b.hasPointerCapture(S.pointerId)&&b.releasePointerCapture(S.pointerId),S.button===0&&S.ctrlKey===!1&&(w(),a.triggerPointerDownPosRef.current={x:Math.round(S.pageX),y:Math.round(S.pageY)},S.preventDefault())}),onKeyDown:ze(i.onKeyDown,S=>{const b=h.current!=="";!(S.ctrlKey||S.altKey||S.metaKey)&&S.key.length===1&&g(S.key),!(b&&S.key===" ")&&pX.includes(S.key)&&(w(),S.preventDefault())})})})});T2.displayName=R2;var E2="SelectValue",P2=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...c}=e,u=ha(E2,n),{onValueNodeHasChildrenChange:p}=u,h=o!==void 0,g=wt(t,u.onValueNodeChange);return Hn(()=>{p(h)},[p,h]),C.jsx(lt.span,{...c,ref:g,style:{pointerEvents:"none"},children:q2(u.value)?C.jsx(C.Fragment,{children:a}):o})});P2.displayName=E2;var wX="SelectIcon",k2=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return C.jsx(lt.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});k2.displayName=wX;var bX="SelectPortal",D2=e=>C.jsx(bv,{asChild:!0,...e});D2.displayName=bX;var il="SelectContent",L2=x.forwardRef((e,t)=>{const n=ha(il,e.__scopeSelect),[r,i]=x.useState();if(Hn(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?la.createPortal(C.jsx(M2,{scope:e.__scopeSelect,children:C.jsx(Nv.Slot,{scope:e.__scopeSelect,children:C.jsx("div",{children:e.children})})}),o):null}return C.jsx(O2,{...e,ref:t})});L2.displayName=il;var ks=10,[M2,ma]=Ou(il),SX="SelectContentImpl",O2=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:c,sideOffset:u,align:p,alignOffset:h,arrowPadding:g,collisionBoundary:v,collisionPadding:w,sticky:S,hideWhenDetached:b,avoidCollisions:P,...R}=e,_=ha(il,n),[k,E]=x.useState(null),[N,F]=x.useState(null),B=wt(t,ee=>E(ee)),[U,G]=x.useState(null),[Q,ie]=x.useState(null),Y=Iv(n),[z,V]=x.useState(!1),O=x.useRef(!1);x.useEffect(()=>{if(k)return g1(k)},[k]),u1();const X=x.useCallback(ee=>{const[ue,...he]=Y().map(Oe=>Oe.ref.current),[Ee]=he.slice(-1),ge=document.activeElement;for(const Oe of ee)if(Oe===ge||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===ue&&N&&(N.scrollTop=0),Oe===Ee&&N&&(N.scrollTop=N.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==ge))return},[Y,N]),oe=x.useCallback(()=>X([U,k]),[X,U,k]);x.useEffect(()=>{z&&oe()},[z,oe]);const{onOpenChange:I,triggerPointerDownPosRef:j}=_;x.useEffect(()=>{if(k){let ee={x:0,y:0};const ue=Ee=>{var ge,Oe;ee={x:Math.abs(Math.round(Ee.pageX)-(((ge=j.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((Oe=j.current)==null?void 0:Oe.y)??0))}},he=Ee=>{ee.x<=10&&ee.y<=10?Ee.preventDefault():k.contains(Ee.target)||I(!1),document.removeEventListener("pointermove",ue),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",he,{capture:!0})}}},[k,I,j]),x.useEffect(()=>{const ee=()=>I(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[I]);const[K,Z]=X2(ee=>{const ue=Y().filter(ge=>!ge.disabled),he=ue.find(ge=>ge.ref.current===document.activeElement),Ee=Q2(ue,ee,he);Ee&&setTimeout(()=>Ee.ref.current.focus())}),xe=x.useCallback((ee,ue,he)=>{const Ee=!O.current&&!he;(_.value!==void 0&&_.value===ue||Ee)&&(G(ee),Ee&&(O.current=!0))},[_.value]),ae=x.useCallback(()=>k==null?void 0:k.focus(),[k]),pe=x.useCallback((ee,ue,he)=>{const Ee=!O.current&&!he;(_.value!==void 0&&_.value===ue||Ee)&&ie(ee)},[_.value]),we=r==="popper"?Yb:A2,se=we===Yb?{side:c,sideOffset:u,align:p,alignOffset:h,arrowPadding:g,collisionBoundary:v,collisionPadding:w,sticky:S,hideWhenDetached:b,avoidCollisions:P}:{};return C.jsx(M2,{scope:n,content:k,viewport:N,onViewportChange:F,itemRefCallback:xe,selectedItem:U,onItemLeave:ae,itemTextRefCallback:pe,focusSelectedItem:oe,selectedItemText:Q,position:r,isPositioned:z,searchRef:K,children:C.jsx(fX,{as:Zo,allowPinchZoom:!0,children:C.jsx(wv,{asChild:!0,trapped:_.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:ze(i,ee=>{var ue;(ue=_.trigger)==null||ue.focus({preventScroll:!0}),ee.preventDefault()}),children:C.jsx(yv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:C.jsx(we,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:ee=>ee.preventDefault(),...R,...se,onPlaced:()=>V(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:ze(R.onKeyDown,ee=>{const ue=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!ue&&ee.key.length===1&&Z(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let Ee=Y().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const ge=ee.target,Oe=Ee.indexOf(ge);Ee=Ee.slice(Oe+1)}setTimeout(()=>X(Ee)),ee.preventDefault()}})})})})})})});O2.displayName=SX;var xX="SelectItemAlignedPosition",A2=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=ha(il,n),a=ma(il,n),[c,u]=x.useState(null),[p,h]=x.useState(null),g=wt(t,B=>h(B)),v=Iv(n),w=x.useRef(!1),S=x.useRef(!0),{viewport:b,selectedItem:P,selectedItemText:R,focusSelectedItem:_}=a,k=x.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&p&&b&&P&&R){const B=o.trigger.getBoundingClientRect(),U=p.getBoundingClientRect(),G=o.valueNode.getBoundingClientRect(),Q=R.getBoundingClientRect();if(o.dir!=="rtl"){const ge=Q.left-U.left,Oe=G.left-ge,$e=B.left-Oe,We=B.width+$e,Rt=Math.max(We,U.width),st=window.innerWidth-ks,ht=Vb(Oe,[ks,st-Rt]);c.style.minWidth=We+"px",c.style.left=ht+"px"}else{const ge=U.right-Q.right,Oe=window.innerWidth-G.right-ge,$e=window.innerWidth-B.right-Oe,We=B.width+$e,Rt=Math.max(We,U.width),st=window.innerWidth-ks,ht=Vb(Oe,[ks,st-Rt]);c.style.minWidth=We+"px",c.style.right=ht+"px"}const ie=v(),Y=window.innerHeight-ks*2,z=b.scrollHeight,V=window.getComputedStyle(p),O=parseInt(V.borderTopWidth,10),X=parseInt(V.paddingTop,10),oe=parseInt(V.borderBottomWidth,10),I=parseInt(V.paddingBottom,10),j=O+X+z+I+oe,K=Math.min(P.offsetHeight*5,j),Z=window.getComputedStyle(b),xe=parseInt(Z.paddingTop,10),ae=parseInt(Z.paddingBottom,10),pe=B.top+B.height/2-ks,we=Y-pe,se=P.offsetHeight/2,ee=P.offsetTop+se,ue=O+X+ee,he=j-ue;if(ue<=pe){const ge=P===ie[ie.length-1].ref.current;c.style.bottom="0px";const Oe=p.clientHeight-b.offsetTop-b.offsetHeight,$e=Math.max(we,se+(ge?ae:0)+Oe+oe),We=ue+$e;c.style.height=We+"px"}else{const ge=P===ie[0].ref.current;c.style.top="0px";const $e=Math.max(pe,O+b.offsetTop+(ge?xe:0)+se)+he;c.style.height=$e+"px",b.scrollTop=ue-pe+b.offsetTop}c.style.margin=`${ks}px 0`,c.style.minHeight=K+"px",c.style.maxHeight=Y+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[v,o.trigger,o.valueNode,c,p,b,P,R,o.dir,r]);Hn(()=>k(),[k]);const[E,N]=x.useState();Hn(()=>{p&&N(window.getComputedStyle(p).zIndex)},[p]);const F=x.useCallback(B=>{B&&S.current===!0&&(k(),_==null||_(),S.current=!1)},[k,_]);return C.jsx(CX,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:w,onScrollButtonChange:F,children:C.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:C.jsx(lt.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});A2.displayName=xX;var _X="SelectPopperPosition",Yb=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ks,...o}=e,a=jv(n);return C.jsx(g2,{...a,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yb.displayName=_X;var[CX,H1]=Ou(il,{}),Xb="SelectViewport",N2=x.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=ma(Xb,n),a=H1(Xb,n),c=wt(t,o.onViewportChange),u=x.useRef(0);return C.jsxs(C.Fragment,{children:[C.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),C.jsx(Nv.Slot,{scope:n,children:C.jsx(lt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"auto",...i.style},onScroll:ze(i.onScroll,p=>{const h=p.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=a;if(v!=null&&v.current&&g){const w=Math.abs(u.current-h.scrollTop);if(w>0){const S=window.innerHeight-ks*2,b=parseFloat(g.style.minHeight),P=parseFloat(g.style.height),R=Math.max(b,P);if(R<S){const _=R+w,k=Math.min(S,_),E=_-k;g.style.height=k+"px",g.style.bottom==="0px"&&(h.scrollTop=E>0?E:0,g.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});N2.displayName=Xb;var I2="SelectGroup",[RX,TX]=Ou(I2),EX=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Is();return C.jsx(RX,{scope:n,id:i,children:C.jsx(lt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});EX.displayName=I2;var j2="SelectLabel",F2=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=TX(j2,n);return C.jsx(lt.div,{id:i.id,...r,ref:t})});F2.displayName=j2;var hg="SelectItem",[PX,B2]=Ou(hg),$2=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=e,c=ha(hg,n),u=ma(hg,n),p=c.value===r,[h,g]=x.useState(o??""),[v,w]=x.useState(!1),S=wt(t,R=>{var _;return(_=u.itemRefCallback)==null?void 0:_.call(u,R,r,i)}),b=Is(),P=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return C.jsx(PX,{scope:n,value:r,disabled:i,textId:b,isSelected:p,onItemTextChange:x.useCallback(R=>{g(_=>_||((R==null?void 0:R.textContent)??"").trim())},[]),children:C.jsx(Nv.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:C.jsx(lt.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":p&&v,"data-state":p?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:S,onFocus:ze(a.onFocus,()=>w(!0)),onBlur:ze(a.onBlur,()=>w(!1)),onPointerUp:ze(a.onPointerUp,P),onPointerMove:ze(a.onPointerMove,R=>{var _;i?(_=u.onItemLeave)==null||_.call(u):R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ze(a.onPointerLeave,R=>{var _;R.currentTarget===document.activeElement&&((_=u.onItemLeave)==null||_.call(u))}),onKeyDown:ze(a.onKeyDown,R=>{var k;((k=u.searchRef)==null?void 0:k.current)!==""&&R.key===" "||(hX.includes(R.key)&&P(),R.key===" "&&R.preventDefault())})})})})});$2.displayName=hg;var $d="SelectItemText",z2=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,a=ha($d,n),c=ma($d,n),u=B2($d,n),p=yX($d,n),[h,g]=x.useState(null),v=wt(t,R=>g(R),u.onItemTextChange,R=>{var _;return(_=c.itemTextRefCallback)==null?void 0:_.call(c,R,u.value,u.disabled)}),w=h==null?void 0:h.textContent,S=x.useMemo(()=>C.jsx("option",{value:u.value,disabled:u.disabled,children:w},u.value),[u.disabled,u.value,w]),{onNativeOptionAdd:b,onNativeOptionRemove:P}=p;return Hn(()=>(b(S),()=>P(S)),[b,P,S]),C.jsxs(C.Fragment,{children:[C.jsx(lt.span,{id:u.textId,...o,ref:v}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?la.createPortal(o.children,a.valueNode):null]})});z2.displayName=$d;var U2="SelectItemIndicator",V2=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return B2(U2,n).isSelected?C.jsx(lt.span,{"aria-hidden":!0,...r,ref:t}):null});V2.displayName=U2;var Qb="SelectScrollUpButton",H2=x.forwardRef((e,t)=>{const n=ma(Qb,e.__scopeSelect),r=H1(Qb,e.__scopeSelect),[i,o]=x.useState(!1),a=wt(t,r.onScrollButtonChange);return Hn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const p=u.scrollTop>0;o(p)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?C.jsx(K2,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop-u.offsetHeight)}}):null});H2.displayName=Qb;var Zb="SelectScrollDownButton",W2=x.forwardRef((e,t)=>{const n=ma(Zb,e.__scopeSelect),r=H1(Zb,e.__scopeSelect),[i,o]=x.useState(!1),a=wt(t,r.onScrollButtonChange);return Hn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const p=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<p;o(h)};const u=n.viewport;return c(),u.addEventListener("scroll",c),()=>u.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?C.jsx(K2,{...e,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:u}=n;c&&u&&(c.scrollTop=c.scrollTop+u.offsetHeight)}}):null});W2.displayName=Zb;var K2=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=ma("SelectScrollButton",n),a=x.useRef(null),c=Iv(n),u=x.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return x.useEffect(()=>()=>u(),[u]),Hn(()=>{var h;const p=c().find(g=>g.ref.current===document.activeElement);(h=p==null?void 0:p.ref.current)==null||h.scrollIntoView({block:"nearest"})},[c]),C.jsx(lt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:ze(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ze(i.onPointerMove,()=>{var p;(p=o.onItemLeave)==null||p.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ze(i.onPointerLeave,()=>{u()})})}),kX="SelectSeparator",G2=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return C.jsx(lt.div,{"aria-hidden":!0,...r,ref:t})});G2.displayName=kX;var Jb="SelectArrow",DX=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=jv(n),o=ha(Jb,n),a=ma(Jb,n);return o.open&&a.position==="popper"?C.jsx(v2,{...i,...r,ref:t}):null});DX.displayName=Jb;function q2(e){return e===""||e===void 0}var Y2=x.forwardRef((e,t)=>{const{value:n,...r}=e,i=x.useRef(null),o=wt(t,i),a=QY(n);return x.useEffect(()=>{const c=i.current,u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==n&&h){const g=new Event("change",{bubbles:!0});h.call(c,n),c.dispatchEvent(g)}},[a,n]),C.jsx(y2,{asChild:!0,children:C.jsx("select",{...r,ref:o,defaultValue:n})})});Y2.displayName="BubbleSelect";function X2(e){const t=xn(e),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(a=>{const c=n.current+a;t(c),function u(p){n.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(c)},[t]),o=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function Q2(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=LX(e,Math.max(o,0));i.length===1&&(a=a.filter(p=>p!==n));const u=a.find(p=>p.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function LX(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var MX=C2,Z2=T2,OX=P2,AX=k2,NX=D2,J2=L2,IX=N2,eI=F2,tI=$2,jX=z2,FX=V2,nI=H2,rI=W2,iI=G2;const BX=MX,$X=OX,sI=x.forwardRef(({className:e,children:t,...n},r)=>C.jsxs(Z2,{ref:r,className:Ye("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,C.jsx(AX,{asChild:!0,children:C.jsx(JG,{className:"h-4 w-4 opacity-50"})})]}));sI.displayName=Z2.displayName;const oI=x.forwardRef(({className:e,...t},n)=>C.jsx(nI,{ref:n,className:Ye("flex cursor-default items-center justify-center py-1",e),...t,children:C.jsx(oq,{})}));oI.displayName=nI.displayName;const aI=x.forwardRef(({className:e,...t},n)=>C.jsx(rI,{ref:n,className:Ye("flex cursor-default items-center justify-center py-1",e),...t,children:C.jsx(nq,{})}));aI.displayName=rI.displayName;const lI=x.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>C.jsx(NX,{children:C.jsxs(J2,{ref:i,className:Ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[C.jsx(oI,{}),C.jsx(IX,{className:Ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),C.jsx(aI,{})]})}));lI.displayName=J2.displayName;const zX=x.forwardRef(({className:e,...t},n)=>C.jsx(eI,{ref:n,className:Ye("px-2 py-1.5 text-sm font-semibold",e),...t}));zX.displayName=eI.displayName;const zd=x.forwardRef(({className:e,children:t,...n},r)=>C.jsxs(tI,{ref:r,className:Ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[C.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:C.jsx(FX,{children:C.jsx(RN,{className:"h-4 w-4"})})}),C.jsx(jX,{children:t})]}));zd.displayName=tI.displayName;const UX=x.forwardRef(({className:e,...t},n)=>C.jsx(iI,{ref:n,className:Ye("-mx-1 my-1 h-px bg-muted",e),...t}));UX.displayName=iI.displayName;const Fr=x.forwardRef(({className:e,type:t,...n},r)=>C.jsx("input",{type:t,className:Ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));Fr.displayName="Input";function VX(e,t){return x.useReducer((n,r)=>t[n][r]??n,e)}var W1="ScrollArea",[cI,Lse]=ds(W1),[HX,di]=cI(W1),uI=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...a}=e,[c,u]=x.useState(null),[p,h]=x.useState(null),[g,v]=x.useState(null),[w,S]=x.useState(null),[b,P]=x.useState(null),[R,_]=x.useState(0),[k,E]=x.useState(0),[N,F]=x.useState(!1),[B,U]=x.useState(!1),G=wt(t,ie=>u(ie)),Q=kv(i);return C.jsx(HX,{scope:n,type:r,dir:Q,scrollHideDelay:o,scrollArea:c,viewport:p,onViewportChange:h,content:g,onContentChange:v,scrollbarX:w,onScrollbarXChange:S,scrollbarXEnabled:N,onScrollbarXEnabledChange:F,scrollbarY:b,onScrollbarYChange:P,scrollbarYEnabled:B,onScrollbarYEnabledChange:U,onCornerWidthChange:_,onCornerHeightChange:E,children:C.jsx(lt.div,{dir:Q,...a,ref:G,style:{position:"relative","--radix-scroll-area-corner-width":R+"px","--radix-scroll-area-corner-height":k+"px",...e.style}})})});uI.displayName=W1;var dI="ScrollAreaViewport",fI=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=e,a=di(dI,n),c=x.useRef(null),u=wt(t,c,a.onViewportChange);return C.jsxs(C.Fragment,{children:[C.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),C.jsx(lt.div,{"data-radix-scroll-area-viewport":"",...o,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:C.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});fI.displayName=dI;var ps="ScrollAreaScrollbar",K1=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=di(ps,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:a}=i,c=e.orientation==="horizontal";return x.useEffect(()=>(c?o(!0):a(!0),()=>{c?o(!1):a(!1)}),[c,o,a]),i.type==="hover"?C.jsx(WX,{...r,ref:t,forceMount:n}):i.type==="scroll"?C.jsx(KX,{...r,ref:t,forceMount:n}):i.type==="auto"?C.jsx(pI,{...r,ref:t,forceMount:n}):i.type==="always"?C.jsx(G1,{...r,ref:t}):null});K1.displayName=ps;var WX=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=di(ps,e.__scopeScrollArea),[o,a]=x.useState(!1);return x.useEffect(()=>{const c=i.scrollArea;let u=0;if(c){const p=()=>{window.clearTimeout(u),a(!0)},h=()=>{u=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return c.addEventListener("pointerenter",p),c.addEventListener("pointerleave",h),()=>{window.clearTimeout(u),c.removeEventListener("pointerenter",p),c.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),C.jsx(ui,{present:n||o,children:C.jsx(pI,{"data-state":o?"visible":"hidden",...r,ref:t})})}),KX=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=di(ps,e.__scopeScrollArea),o=e.orientation==="horizontal",a=Bv(()=>u("SCROLL_END"),100),[c,u]=VX("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(c==="idle"){const p=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(p)}},[c,i.scrollHideDelay,u]),x.useEffect(()=>{const p=i.viewport,h=o?"scrollLeft":"scrollTop";if(p){let g=p[h];const v=()=>{const w=p[h];g!==w&&(u("SCROLL"),a()),g=w};return p.addEventListener("scroll",v),()=>p.removeEventListener("scroll",v)}},[i.viewport,o,u,a]),C.jsx(ui,{present:n||c!=="hidden",children:C.jsx(G1,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ze(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:ze(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),pI=x.forwardRef((e,t)=>{const n=di(ps,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,a]=x.useState(!1),c=e.orientation==="horizontal",u=Bv(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;a(c?p:h)}},10);return hu(n.viewport,u),hu(n.content,u),C.jsx(ui,{present:r||o,children:C.jsx(G1,{"data-state":o?"visible":"hidden",...i,ref:t})})}),G1=x.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=di(ps,e.__scopeScrollArea),o=x.useRef(null),a=x.useRef(0),[c,u]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=yI(c.viewport,c.content),h={...r,sizes:c,onSizesChange:u,hasThumb:p>0&&p<1,onThumbChange:v=>o.current=v,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:v=>a.current=v};function g(v,w){return ZX(v,a.current,c,w)}return n==="horizontal"?C.jsx(GX,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const v=i.viewport.scrollLeft,w=fk(v,c,i.dir);o.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:v=>{i.viewport&&(i.viewport.scrollLeft=v)},onDragScroll:v=>{i.viewport&&(i.viewport.scrollLeft=g(v,i.dir))}}):n==="vertical"?C.jsx(qX,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const v=i.viewport.scrollTop,w=fk(v,c);o.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:v=>{i.viewport&&(i.viewport.scrollTop=v)},onDragScroll:v=>{i.viewport&&(i.viewport.scrollTop=g(v))}}):null}),GX=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=di(ps,e.__scopeScrollArea),[a,c]=x.useState(),u=x.useRef(null),p=wt(t,u,o.onScrollbarXChange);return x.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),C.jsx(mI,{"data-orientation":"horizontal",...i,ref:p,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fv(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,g)=>{if(o.viewport){const v=o.viewport.scrollLeft+h.deltaX;e.onWheelScroll(v),bI(v,g)&&h.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:gg(a.paddingLeft),paddingEnd:gg(a.paddingRight)}})}})}),qX=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=di(ps,e.__scopeScrollArea),[a,c]=x.useState(),u=x.useRef(null),p=wt(t,u,o.onScrollbarYChange);return x.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),C.jsx(mI,{"data-orientation":"vertical",...i,ref:p,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fv(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,g)=>{if(o.viewport){const v=o.viewport.scrollTop+h.deltaY;e.onWheelScroll(v),bI(v,g)&&h.preventDefault()}},onResize:()=>{u.current&&o.viewport&&a&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:gg(a.paddingTop),paddingEnd:gg(a.paddingBottom)}})}})}),[YX,hI]=cI(ps),mI=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:a,onThumbPointerDown:c,onThumbPositionChange:u,onDragScroll:p,onWheelScroll:h,onResize:g,...v}=e,w=di(ps,n),[S,b]=x.useState(null),P=wt(t,G=>b(G)),R=x.useRef(null),_=x.useRef(""),k=w.viewport,E=r.content-r.viewport,N=xn(h),F=xn(u),B=Bv(g,10);function U(G){if(R.current){const Q=G.clientX-R.current.left,ie=G.clientY-R.current.top;p({x:Q,y:ie})}}return x.useEffect(()=>{const G=Q=>{const ie=Q.target;(S==null?void 0:S.contains(ie))&&N(Q,E)};return document.addEventListener("wheel",G,{passive:!1}),()=>document.removeEventListener("wheel",G,{passive:!1})},[k,S,E,N]),x.useEffect(F,[r,F]),hu(S,B),hu(w.content,B),C.jsx(YX,{scope:n,scrollbar:S,hasThumb:i,onThumbChange:xn(o),onThumbPointerUp:xn(a),onThumbPositionChange:F,onThumbPointerDown:xn(c),children:C.jsx(lt.div,{...v,ref:P,style:{position:"absolute",...v.style},onPointerDown:ze(e.onPointerDown,G=>{G.button===0&&(G.target.setPointerCapture(G.pointerId),R.current=S.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),U(G))}),onPointerMove:ze(e.onPointerMove,U),onPointerUp:ze(e.onPointerUp,G=>{const Q=G.target;Q.hasPointerCapture(G.pointerId)&&Q.releasePointerCapture(G.pointerId),document.body.style.webkitUserSelect=_.current,w.viewport&&(w.viewport.style.scrollBehavior=""),R.current=null})})})}),mg="ScrollAreaThumb",gI=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=hI(mg,e.__scopeScrollArea);return C.jsx(ui,{present:n||i.hasThumb,children:C.jsx(XX,{ref:t,...r})})}),XX=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,o=di(mg,n),a=hI(mg,n),{onThumbPositionChange:c}=a,u=wt(t,g=>a.onThumbChange(g)),p=x.useRef(),h=Bv(()=>{p.current&&(p.current(),p.current=void 0)},100);return x.useEffect(()=>{const g=o.viewport;if(g){const v=()=>{if(h(),!p.current){const w=JX(g,c);p.current=w,c()}};return c(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[o.viewport,h,c]),C.jsx(lt.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ze(e.onPointerDownCapture,g=>{const w=g.target.getBoundingClientRect(),S=g.clientX-w.left,b=g.clientY-w.top;a.onThumbPointerDown({x:S,y:b})}),onPointerUp:ze(e.onPointerUp,a.onThumbPointerUp)})});gI.displayName=mg;var q1="ScrollAreaCorner",vI=x.forwardRef((e,t)=>{const n=di(q1,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?C.jsx(QX,{...e,ref:t}):null});vI.displayName=q1;var QX=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=di(q1,n),[o,a]=x.useState(0),[c,u]=x.useState(0),p=!!(o&&c);return hu(i.scrollbarX,()=>{var g;const h=((g=i.scrollbarX)==null?void 0:g.offsetHeight)||0;i.onCornerHeightChange(h),u(h)}),hu(i.scrollbarY,()=>{var g;const h=((g=i.scrollbarY)==null?void 0:g.offsetWidth)||0;i.onCornerWidthChange(h),a(h)}),p?C.jsx(lt.div,{...r,ref:t,style:{width:o,height:c,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function gg(e){return e?parseInt(e,10):0}function yI(e,t){const n=e/t;return isNaN(n)?0:n}function Fv(e){const t=yI(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function ZX(e,t,n,r="ltr"){const i=Fv(n),o=i/2,a=t||o,c=i-a,u=n.scrollbar.paddingStart+a,p=n.scrollbar.size-n.scrollbar.paddingEnd-c,h=n.content-n.viewport,g=r==="ltr"?[0,h]:[h*-1,0];return wI([u,p],g)(e)}function fk(e,t,n="ltr"){const r=Fv(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,a=t.content-t.viewport,c=o-r,u=n==="ltr"?[0,a]:[a*-1,0],p=Vb(e,u);return wI([0,a],[0,c])(p)}function wI(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function bI(e,t){return e>0&&e<t}var JX=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},a=n.left!==o.left,c=n.top!==o.top;(a||c)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Bv(e,t){const n=xn(e),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function hu(e,t){const n=xn(t);Hn(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var SI=uI,eQ=fI,tQ=vI;const Y1=x.forwardRef(({className:e,children:t,...n},r)=>C.jsxs(SI,{ref:r,className:Ye("relative overflow-hidden",e),...n,children:[C.jsx(eQ,{className:"h-full w-full rounded-[inherit]",children:t}),C.jsx(xI,{}),C.jsx(tQ,{})]}));Y1.displayName=SI.displayName;const xI=x.forwardRef(({className:e,orientation:t="vertical",...n},r)=>C.jsx(K1,{ref:r,orientation:t,className:Ye("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:C.jsx(gI,{className:"relative flex-1 rounded-full bg-border"})}));xI.displayName=K1.displayName;const nQ=S1,rQ=x1,iQ=_1,_I=x.forwardRef(({className:e,...t},n)=>C.jsx(lp,{className:Ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));_I.displayName=lp.displayName;const sQ=vv("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),CI=x.forwardRef(({side:e="right",className:t,children:n,...r},i)=>C.jsxs(iQ,{children:[C.jsx(_I,{}),C.jsxs(cp,{ref:i,className:Ye(sQ({side:e}),t),...r,children:[C.jsxs(Cv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[C.jsx(TN,{className:"h-4 w-4"}),C.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));CI.displayName=cp.displayName;const RI=({className:e,...t})=>C.jsx("div",{className:Ye("flex flex-col space-y-2 text-center sm:text-left",e),...t});RI.displayName="SheetHeader";const TI=x.forwardRef(({className:e,...t},n)=>C.jsx(up,{ref:n,className:Ye("text-lg font-semibold text-foreground",e),...t}));TI.displayName=up.displayName;const EI=x.forwardRef(({className:e,...t},n)=>C.jsx(dp,{ref:n,className:Ye("text-sm text-muted-foreground",e),...t}));EI.displayName=dp.displayName;var i0="rovingFocusGroup.onEntryFocus",oQ={bubbles:!1,cancelable:!0},$v="RovingFocusGroup",[eS,PI,aQ]=N1($v),[lQ,kI]=ds($v,[aQ]),[cQ,uQ]=lQ($v),DI=x.forwardRef((e,t)=>C.jsx(eS.Provider,{scope:e.__scopeRovingFocusGroup,children:C.jsx(eS.Slot,{scope:e.__scopeRovingFocusGroup,children:C.jsx(dQ,{...e,ref:t})})}));DI.displayName=$v;var dQ=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:u,onEntryFocus:p,preventScrollOnEntryFocus:h=!1,...g}=e,v=x.useRef(null),w=wt(t,v),S=kv(o),[b=null,P]=Df({prop:a,defaultProp:c,onChange:u}),[R,_]=x.useState(!1),k=xn(p),E=PI(n),N=x.useRef(!1),[F,B]=x.useState(0);return x.useEffect(()=>{const U=v.current;if(U)return U.addEventListener(i0,k),()=>U.removeEventListener(i0,k)},[k]),C.jsx(cQ,{scope:n,orientation:r,dir:S,loop:i,currentTabStopId:b,onItemFocus:x.useCallback(U=>P(U),[P]),onItemShiftTab:x.useCallback(()=>_(!0),[]),onFocusableItemAdd:x.useCallback(()=>B(U=>U+1),[]),onFocusableItemRemove:x.useCallback(()=>B(U=>U-1),[]),children:C.jsx(lt.div,{tabIndex:R||F===0?-1:0,"data-orientation":r,...g,ref:w,style:{outline:"none",...e.style},onMouseDown:ze(e.onMouseDown,()=>{N.current=!0}),onFocus:ze(e.onFocus,U=>{const G=!N.current;if(U.target===U.currentTarget&&G&&!R){const Q=new CustomEvent(i0,oQ);if(U.currentTarget.dispatchEvent(Q),!Q.defaultPrevented){const ie=E().filter(X=>X.focusable),Y=ie.find(X=>X.active),z=ie.find(X=>X.id===b),O=[Y,z,...ie].filter(Boolean).map(X=>X.ref.current);OI(O,h)}}N.current=!1}),onBlur:ze(e.onBlur,()=>_(!1))})})}),LI="RovingFocusGroupItem",MI=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...a}=e,c=Is(),u=o||c,p=uQ(LI,n),h=p.currentTabStopId===u,g=PI(n),{onFocusableItemAdd:v,onFocusableItemRemove:w}=p;return x.useEffect(()=>{if(r)return v(),()=>w()},[r,v,w]),C.jsx(eS.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:C.jsx(lt.span,{tabIndex:h?0:-1,"data-orientation":p.orientation,...a,ref:t,onMouseDown:ze(e.onMouseDown,S=>{r?p.onItemFocus(u):S.preventDefault()}),onFocus:ze(e.onFocus,()=>p.onItemFocus(u)),onKeyDown:ze(e.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const b=hQ(S,p.orientation,p.dir);if(b!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let R=g().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")R.reverse();else if(b==="prev"||b==="next"){b==="prev"&&R.reverse();const _=R.indexOf(S.currentTarget);R=p.loop?mQ(R,_+1):R.slice(_+1)}setTimeout(()=>OI(R))}})})})});MI.displayName=LI;var fQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pQ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function hQ(e,t,n){const r=pQ(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return fQ[r]}function OI(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function mQ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var gQ=DI,vQ=MI,AI=p1(),s0=function(){},zv=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:s0,onWheelCapture:s0,onTouchMoveCapture:s0}),i=r[0],o=r[1],a=e.forwardProps,c=e.children,u=e.className,p=e.removeScrollBar,h=e.enabled,g=e.shards,v=e.sideCar,w=e.noIsolation,S=e.inert,b=e.allowPinchZoom,P=e.as,R=P===void 0?"div":P,_=e.gapMode,k=Sv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=v,N=f1([n,t]),F=ln(ln({},k),i);return x.createElement(x.Fragment,null,h&&x.createElement(E,{sideCar:AI,removeScrollBar:p,shards:g,noIsolation:w,inert:S,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:_}),a?x.cloneElement(x.Children.only(c),ln(ln({},F),{ref:N})):x.createElement(R,ln({},F,{className:u,ref:N}),c))});zv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zv.classNames={fullWidth:Wc,zeroRight:Hc};var tS=!1;if(typeof window<"u")try{var Kh=Object.defineProperty({},"passive",{get:function(){return tS=!0,!0}});window.addEventListener("test",Kh,Kh),window.removeEventListener("test",Kh,Kh)}catch{tS=!1}var hc=tS?{passive:!1}:!1,yQ=function(e){return e.tagName==="TEXTAREA"},NI=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!yQ(e)&&n[t]==="visible")},wQ=function(e){return NI(e,"overflowY")},bQ=function(e){return NI(e,"overflowX")},pk=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=II(e,r);if(i){var o=jI(e,r),a=o[1],c=o[2];if(a>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},SQ=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},xQ=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},II=function(e,t){return e==="v"?wQ(t):bQ(t)},jI=function(e,t){return e==="v"?SQ(t):xQ(t)},_Q=function(e,t){return e==="h"&&t==="rtl"?-1:1},CQ=function(e,t,n,r,i){var o=_Q(e,window.getComputedStyle(t).direction),a=o*r,c=n.target,u=t.contains(c),p=!1,h=a>0,g=0,v=0;do{var w=jI(e,c),S=w[0],b=w[1],P=w[2],R=b-P-o*S;(S||R)&&II(e,c)&&(g+=R,v+=S),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!u&&c!==document.body||u&&(t.contains(c)||t===c));return(h&&(i&&Math.abs(g)<1||!i&&a>g)||!h&&(i&&Math.abs(v)<1||!i&&-a>v))&&(p=!0),p},Gh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hk=function(e){return[e.deltaX,e.deltaY]},mk=function(e){return e&&"current"in e?e.current:e},RQ=function(e,t){return e[0]===t[0]&&e[1]===t[1]},TQ=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},EQ=0,mc=[];function PQ(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(EQ++)[0],o=x.useState(_v)[0],a=x.useRef(e);x.useEffect(function(){a.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var b=d1([e.lockRef.current],(e.shards||[]).map(mk),!0).filter(Boolean);return b.forEach(function(P){return P.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(b,P){if("touches"in b&&b.touches.length===2)return!a.current.allowPinchZoom;var R=Gh(b),_=n.current,k="deltaX"in b?b.deltaX:_[0]-R[0],E="deltaY"in b?b.deltaY:_[1]-R[1],N,F=b.target,B=Math.abs(k)>Math.abs(E)?"h":"v";if("touches"in b&&B==="h"&&F.type==="range")return!1;var U=pk(B,F);if(!U)return!0;if(U?N=B:(N=B==="v"?"h":"v",U=pk(B,F)),!U)return!1;if(!r.current&&"changedTouches"in b&&(k||E)&&(r.current=N),!N)return!0;var G=r.current||N;return CQ(G,P,b,G==="h"?k:E,!0)},[]),u=x.useCallback(function(b){var P=b;if(!(!mc.length||mc[mc.length-1]!==o)){var R="deltaY"in P?hk(P):Gh(P),_=t.current.filter(function(N){return N.name===P.type&&(N.target===P.target||P.target===N.shadowParent)&&RQ(N.delta,R)})[0];if(_&&_.should){P.cancelable&&P.preventDefault();return}if(!_){var k=(a.current.shards||[]).map(mk).filter(Boolean).filter(function(N){return N.contains(P.target)}),E=k.length>0?c(P,k[0]):!a.current.noIsolation;E&&P.cancelable&&P.preventDefault()}}},[]),p=x.useCallback(function(b,P,R,_){var k={name:b,delta:P,target:R,should:_,shadowParent:kQ(R)};t.current.push(k),setTimeout(function(){t.current=t.current.filter(function(E){return E!==k})},1)},[]),h=x.useCallback(function(b){n.current=Gh(b),r.current=void 0},[]),g=x.useCallback(function(b){p(b.type,hk(b),b.target,c(b,e.lockRef.current))},[]),v=x.useCallback(function(b){p(b.type,Gh(b),b.target,c(b,e.lockRef.current))},[]);x.useEffect(function(){return mc.push(o),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",u,hc),document.addEventListener("touchmove",u,hc),document.addEventListener("touchstart",h,hc),function(){mc=mc.filter(function(b){return b!==o}),document.removeEventListener("wheel",u,hc),document.removeEventListener("touchmove",u,hc),document.removeEventListener("touchstart",h,hc)}},[]);var w=e.removeScrollBar,S=e.inert;return x.createElement(x.Fragment,null,S?x.createElement(o,{styles:TQ(i)}):null,w?x.createElement(m1,{gapMode:e.gapMode}):null)}function kQ(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const DQ=h1(AI,PQ);var FI=x.forwardRef(function(e,t){return x.createElement(zv,ln({},e,{ref:t,sideCar:DQ}))});FI.classNames=zv.classNames;const LQ=FI;var nS=["Enter"," "],MQ=["ArrowDown","PageUp","Home"],BI=["ArrowUp","PageDown","End"],OQ=[...MQ,...BI],AQ={ltr:[...nS,"ArrowRight"],rtl:[...nS,"ArrowLeft"]},NQ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hp="Menu",[Nf,IQ,jQ]=N1(hp),[dl,$I]=ds(hp,[jQ,Ov,kI]),Uv=Ov(),zI=kI(),[FQ,fl]=dl(hp),[BQ,mp]=dl(hp),UI=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:a=!0}=e,c=Uv(t),[u,p]=x.useState(null),h=x.useRef(!1),g=xn(o),v=kv(i);return x.useEffect(()=>{const w=()=>{h.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>h.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),C.jsx(h2,{...c,children:C.jsx(FQ,{scope:t,open:n,onOpenChange:g,content:u,onContentChange:p,children:C.jsx(BQ,{scope:t,onClose:x.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:h,dir:v,modal:a,children:r})})})};UI.displayName=hp;var $Q="MenuAnchor",X1=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Uv(n);return C.jsx(m2,{...i,...r,ref:t})});X1.displayName=$Q;var Q1="MenuPortal",[zQ,VI]=dl(Q1,{forceMount:void 0}),HI=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=fl(Q1,t);return C.jsx(zQ,{scope:t,forceMount:n,children:C.jsx(ui,{present:n||o.open,children:C.jsx(bv,{asChild:!0,container:i,children:r})})})};HI.displayName=Q1;var ri="MenuContent",[UQ,Z1]=dl(ri),WI=x.forwardRef((e,t)=>{const n=VI(ri,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=fl(ri,e.__scopeMenu),a=mp(ri,e.__scopeMenu);return C.jsx(Nf.Provider,{scope:e.__scopeMenu,children:C.jsx(ui,{present:r||o.open,children:C.jsx(Nf.Slot,{scope:e.__scopeMenu,children:a.modal?C.jsx(VQ,{...i,ref:t}):C.jsx(HQ,{...i,ref:t})})})})}),VQ=x.forwardRef((e,t)=>{const n=fl(ri,e.__scopeMenu),r=x.useRef(null),i=wt(t,r);return x.useEffect(()=>{const o=r.current;if(o)return g1(o)},[]),C.jsx(J1,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ze(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),HQ=x.forwardRef((e,t)=>{const n=fl(ri,e.__scopeMenu);return C.jsx(J1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),J1=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:c,onEntryFocus:u,onEscapeKeyDown:p,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:v,onDismiss:w,disableOutsideScroll:S,...b}=e,P=fl(ri,n),R=mp(ri,n),_=Uv(n),k=zI(n),E=IQ(n),[N,F]=x.useState(null),B=x.useRef(null),U=wt(t,B,P.onContentChange),G=x.useRef(0),Q=x.useRef(""),ie=x.useRef(0),Y=x.useRef(null),z=x.useRef("right"),V=x.useRef(0),O=S?LQ:x.Fragment,X=S?{as:Zo,allowPinchZoom:!0}:void 0,oe=j=>{var ee,ue;const K=Q.current+j,Z=E().filter(he=>!he.disabled),xe=document.activeElement,ae=(ee=Z.find(he=>he.ref.current===xe))==null?void 0:ee.textValue,pe=Z.map(he=>he.textValue),we=nZ(pe,K,ae),se=(ue=Z.find(he=>he.textValue===we))==null?void 0:ue.ref.current;(function he(Ee){Q.current=Ee,window.clearTimeout(G.current),Ee!==""&&(G.current=window.setTimeout(()=>he(""),1e3))})(K),se&&setTimeout(()=>se.focus())};x.useEffect(()=>()=>window.clearTimeout(G.current),[]),u1();const I=x.useCallback(j=>{var Z,xe;return z.current===((Z=Y.current)==null?void 0:Z.side)&&iZ(j,(xe=Y.current)==null?void 0:xe.area)},[]);return C.jsx(UQ,{scope:n,searchRef:Q,onItemEnter:x.useCallback(j=>{I(j)&&j.preventDefault()},[I]),onItemLeave:x.useCallback(j=>{var K;I(j)||((K=B.current)==null||K.focus(),F(null))},[I]),onTriggerLeave:x.useCallback(j=>{I(j)&&j.preventDefault()},[I]),pointerGraceTimerRef:ie,onPointerGraceIntentChange:x.useCallback(j=>{Y.current=j},[]),children:C.jsx(O,{...X,children:C.jsx(wv,{asChild:!0,trapped:i,onMountAutoFocus:ze(o,j=>{var K;j.preventDefault(),(K=B.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:C.jsx(yv,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:p,onPointerDownOutside:h,onFocusOutside:g,onInteractOutside:v,onDismiss:w,children:C.jsx(gQ,{asChild:!0,...k,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:F,onEntryFocus:ze(u,j=>{R.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:C.jsx(g2,{role:"menu","aria-orientation":"vertical","data-state":aj(P.open),"data-radix-menu-content":"",dir:R.dir,..._,...b,ref:U,style:{outline:"none",...b.style},onKeyDown:ze(b.onKeyDown,j=>{const Z=j.target.closest("[data-radix-menu-content]")===j.currentTarget,xe=j.ctrlKey||j.altKey||j.metaKey,ae=j.key.length===1;Z&&(j.key==="Tab"&&j.preventDefault(),!xe&&ae&&oe(j.key));const pe=B.current;if(j.target!==pe||!OQ.includes(j.key))return;j.preventDefault();const se=E().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);BI.includes(j.key)&&se.reverse(),eZ(se)}),onBlur:ze(e.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(G.current),Q.current="")}),onPointerMove:ze(e.onPointerMove,If(j=>{const K=j.target,Z=V.current!==j.clientX;if(j.currentTarget.contains(K)&&Z){const xe=j.clientX>V.current?"right":"left";z.current=xe,V.current=j.clientX}}))})})})})})})});WI.displayName=ri;var WQ="MenuGroup",e_=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return C.jsx(lt.div,{role:"group",...r,ref:t})});e_.displayName=WQ;var KQ="MenuLabel",KI=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return C.jsx(lt.div,{...r,ref:t})});KI.displayName=KQ;var vg="MenuItem",gk="menu.itemSelect",Vv=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=x.useRef(null),a=mp(vg,e.__scopeMenu),c=Z1(vg,e.__scopeMenu),u=wt(t,o),p=x.useRef(!1),h=()=>{const g=o.current;if(!n&&g){const v=new CustomEvent(gk,{bubbles:!0,cancelable:!0});g.addEventListener(gk,w=>r==null?void 0:r(w),{once:!0}),LA(g,v),v.defaultPrevented?p.current=!1:a.onClose()}};return C.jsx(GI,{...i,ref:u,disabled:n,onClick:ze(e.onClick,h),onPointerDown:g=>{var v;(v=e.onPointerDown)==null||v.call(e,g),p.current=!0},onPointerUp:ze(e.onPointerUp,g=>{var v;p.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:ze(e.onKeyDown,g=>{const v=c.searchRef.current!=="";n||v&&g.key===" "||nS.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Vv.displayName=vg;var GI=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,a=Z1(vg,n),c=zI(n),u=x.useRef(null),p=wt(t,u),[h,g]=x.useState(!1),[v,w]=x.useState("");return x.useEffect(()=>{const S=u.current;S&&w((S.textContent??"").trim())},[o.children]),C.jsx(Nf.ItemSlot,{scope:n,disabled:r,textValue:i??v,children:C.jsx(vQ,{asChild:!0,...c,focusable:!r,children:C.jsx(lt.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:p,onPointerMove:ze(e.onPointerMove,If(S=>{r?a.onItemLeave(S):(a.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ze(e.onPointerLeave,If(S=>a.onItemLeave(S))),onFocus:ze(e.onFocus,()=>g(!0)),onBlur:ze(e.onBlur,()=>g(!1))})})})}),GQ="MenuCheckboxItem",qI=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return C.jsx(JI,{scope:e.__scopeMenu,checked:n,children:C.jsx(Vv,{role:"menuitemcheckbox","aria-checked":yg(n)?"mixed":n,...i,ref:t,"data-state":n_(n),onSelect:ze(i.onSelect,()=>r==null?void 0:r(yg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});qI.displayName=GQ;var YI="MenuRadioGroup",[qQ,YQ]=dl(YI,{value:void 0,onValueChange:()=>{}}),XI=x.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,o=xn(r);return C.jsx(qQ,{scope:e.__scopeMenu,value:n,onValueChange:o,children:C.jsx(e_,{...i,ref:t})})});XI.displayName=YI;var QI="MenuRadioItem",ZI=x.forwardRef((e,t)=>{const{value:n,...r}=e,i=YQ(QI,e.__scopeMenu),o=n===i.value;return C.jsx(JI,{scope:e.__scopeMenu,checked:o,children:C.jsx(Vv,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":n_(o),onSelect:ze(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});ZI.displayName=QI;var t_="MenuItemIndicator",[JI,XQ]=dl(t_,{checked:!1}),ej=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=XQ(t_,n);return C.jsx(ui,{present:r||yg(o.checked)||o.checked===!0,children:C.jsx(lt.span,{...i,ref:t,"data-state":n_(o.checked)})})});ej.displayName=t_;var QQ="MenuSeparator",tj=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return C.jsx(lt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});tj.displayName=QQ;var ZQ="MenuArrow",nj=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Uv(n);return C.jsx(v2,{...i,...r,ref:t})});nj.displayName=ZQ;var JQ="MenuSub",[Mse,rj]=dl(JQ),Ud="MenuSubTrigger",ij=x.forwardRef((e,t)=>{const n=fl(Ud,e.__scopeMenu),r=mp(Ud,e.__scopeMenu),i=rj(Ud,e.__scopeMenu),o=Z1(Ud,e.__scopeMenu),a=x.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:u}=o,p={__scopeMenu:e.__scopeMenu},h=x.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return x.useEffect(()=>h,[h]),x.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),u(null)}},[c,u]),C.jsx(X1,{asChild:!0,...p,children:C.jsx(GI,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":aj(n.open),...e,ref:gv(t,i.onTriggerChange),onClick:g=>{var v;(v=e.onClick)==null||v.call(e,g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ze(e.onPointerMove,If(g=>{o.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ze(e.onPointerLeave,If(g=>{var w,S;h();const v=(w=n.content)==null?void 0:w.getBoundingClientRect();if(v){const b=(S=n.content)==null?void 0:S.dataset.side,P=b==="right",R=P?-5:5,_=v[P?"left":"right"],k=v[P?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+R,y:g.clientY},{x:_,y:v.top},{x:k,y:v.top},{x:k,y:v.bottom},{x:_,y:v.bottom}],side:b}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ze(e.onKeyDown,g=>{var w;const v=o.searchRef.current!=="";e.disabled||v&&g.key===" "||AQ[r.dir].includes(g.key)&&(n.onOpenChange(!0),(w=n.content)==null||w.focus(),g.preventDefault())})})})});ij.displayName=Ud;var sj="MenuSubContent",oj=x.forwardRef((e,t)=>{const n=VI(ri,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=fl(ri,e.__scopeMenu),a=mp(ri,e.__scopeMenu),c=rj(sj,e.__scopeMenu),u=x.useRef(null),p=wt(t,u);return C.jsx(Nf.Provider,{scope:e.__scopeMenu,children:C.jsx(ui,{present:r||o.open,children:C.jsx(Nf.Slot,{scope:e.__scopeMenu,children:C.jsx(J1,{id:c.contentId,"aria-labelledby":c.triggerId,...i,ref:p,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var g;a.isUsingKeyboardRef.current&&((g=u.current)==null||g.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ze(e.onFocusOutside,h=>{h.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ze(e.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:ze(e.onKeyDown,h=>{var w;const g=h.currentTarget.contains(h.target),v=NQ[a.dir].includes(h.key);g&&v&&(o.onOpenChange(!1),(w=c.trigger)==null||w.focus(),h.preventDefault())})})})})})});oj.displayName=sj;function aj(e){return e?"open":"closed"}function yg(e){return e==="indeterminate"}function n_(e){return yg(e)?"indeterminate":e?"checked":"unchecked"}function eZ(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function tZ(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function nZ(e,t,n){const i=t.length>1&&Array.from(t).every(p=>p===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=tZ(e,Math.max(o,0));i.length===1&&(a=a.filter(p=>p!==n));const u=a.find(p=>p.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function rZ(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const c=t[o].x,u=t[o].y,p=t[a].x,h=t[a].y;u>r!=h>r&&n<(p-c)*(r-u)/(h-u)+c&&(i=!i)}return i}function iZ(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return rZ(n,t)}function If(e){return t=>t.pointerType==="mouse"?e(t):void 0}var sZ=UI,oZ=X1,aZ=HI,lZ=WI,cZ=e_,uZ=KI,dZ=Vv,fZ=qI,pZ=XI,hZ=ZI,mZ=ej,gZ=tj,vZ=nj,yZ=ij,wZ=oj,r_="DropdownMenu",[bZ,Ose]=ds(r_,[$I]),vr=$I(),[SZ,lj]=bZ(r_),cj=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:a,modal:c=!0}=e,u=vr(t),p=x.useRef(null),[h=!1,g]=Df({prop:i,defaultProp:o,onChange:a});return C.jsx(SZ,{scope:t,triggerId:Is(),triggerRef:p,contentId:Is(),open:h,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(v=>!v),[g]),modal:c,children:C.jsx(sZ,{...u,open:h,onOpenChange:g,dir:r,modal:c,children:n})})};cj.displayName=r_;var uj="DropdownMenuTrigger",dj=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=lj(uj,n),a=vr(n);return C.jsx(oZ,{asChild:!0,...a,children:C.jsx(lt.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:gv(t,o.triggerRef),onPointerDown:ze(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:ze(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});dj.displayName=uj;var xZ="DropdownMenuPortal",fj=e=>{const{__scopeDropdownMenu:t,...n}=e,r=vr(t);return C.jsx(aZ,{...r,...n})};fj.displayName=xZ;var pj="DropdownMenuContent",hj=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=lj(pj,n),o=vr(n),a=x.useRef(!1);return C.jsx(lZ,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:t,onCloseAutoFocus:ze(e.onCloseAutoFocus,c=>{var u;a.current||(u=i.triggerRef.current)==null||u.focus(),a.current=!1,c.preventDefault()}),onInteractOutside:ze(e.onInteractOutside,c=>{const u=c.detail.originalEvent,p=u.button===0&&u.ctrlKey===!0,h=u.button===2||p;(!i.modal||h)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hj.displayName=pj;var _Z="DropdownMenuGroup",CZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vr(n);return C.jsx(cZ,{...i,...r,ref:t})});CZ.displayName=_Z;var RZ="DropdownMenuLabel",mj=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vr(n);return C.jsx(uZ,{...i,...r,ref:t})});mj.displayName=RZ;var TZ="DropdownMenuItem",gj=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vr(n);return C.jsx(dZ,{...i,...r,ref:t})});gj.displayName=TZ;var EZ="DropdownMenuCheckboxItem",vj=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vr(n);return C.jsx(fZ,{...i,...r,ref:t})});vj.displayName=EZ;var PZ="DropdownMenuRadioGroup",kZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vr(n);return C.jsx(pZ,{...i,...r,ref:t})});kZ.displayName=PZ;var DZ="DropdownMenuRadioItem",yj=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vr(n);return C.jsx(hZ,{...i,...r,ref:t})});yj.displayName=DZ;var LZ="DropdownMenuItemIndicator",wj=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vr(n);return C.jsx(mZ,{...i,...r,ref:t})});wj.displayName=LZ;var MZ="DropdownMenuSeparator",bj=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vr(n);return C.jsx(gZ,{...i,...r,ref:t})});bj.displayName=MZ;var OZ="DropdownMenuArrow",AZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vr(n);return C.jsx(vZ,{...i,...r,ref:t})});AZ.displayName=OZ;var NZ="DropdownMenuSubTrigger",Sj=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vr(n);return C.jsx(yZ,{...i,...r,ref:t})});Sj.displayName=NZ;var IZ="DropdownMenuSubContent",xj=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vr(n);return C.jsx(wZ,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xj.displayName=IZ;var jZ=cj,FZ=dj,BZ=fj,_j=hj,Cj=mj,Rj=gj,Tj=vj,Ej=yj,Pj=wj,kj=bj,Dj=Sj,Lj=xj;const $Z=jZ,zZ=FZ,UZ=x.forwardRef(({className:e,inset:t,children:n,...r},i)=>C.jsxs(Dj,{ref:i,className:Ye("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,C.jsx(iq,{className:"ml-auto h-4 w-4"})]}));UZ.displayName=Dj.displayName;const VZ=x.forwardRef(({className:e,...t},n)=>C.jsx(Lj,{ref:n,className:Ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));VZ.displayName=Lj.displayName;const Mj=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>C.jsx(BZ,{children:C.jsx(_j,{ref:r,sideOffset:t,className:Ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Mj.displayName=_j.displayName;const rS=x.forwardRef(({className:e,inset:t,...n},r)=>C.jsx(Rj,{ref:r,className:Ye("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));rS.displayName=Rj.displayName;const HZ=x.forwardRef(({className:e,children:t,checked:n,...r},i)=>C.jsxs(Tj,{ref:i,className:Ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[C.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:C.jsx(Pj,{children:C.jsx(RN,{className:"h-4 w-4"})})}),t]}));HZ.displayName=Tj.displayName;const WZ=x.forwardRef(({className:e,children:t,...n},r)=>C.jsxs(Ej,{ref:r,className:Ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[C.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:C.jsx(Pj,{children:C.jsx(cq,{className:"h-4 w-4 fill-current"})})}),t]}));WZ.displayName=Ej.displayName;const KZ=x.forwardRef(({className:e,inset:t,...n},r)=>C.jsx(Cj,{ref:r,className:Ye("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));KZ.displayName=Cj.displayName;const GZ=x.forwardRef(({className:e,...t},n)=>C.jsx(kj,{ref:n,className:Ye("-mx-1 my-1 h-px bg-muted",e),...t}));GZ.displayName=kj.displayName;/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oj=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...c},u)=>x.createElement("svg",{ref:u,...YZ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Oj("lucide",i),...c},[...a.map(([p,h])=>x.createElement(p,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=(e,t)=>{const n=x.forwardRef(({className:r,...i},o)=>x.createElement(XZ,{ref:o,iconNode:t,className:Oj(`lucide-${qZ(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=hs("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=hs("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=hs("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=hs("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=hs("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=hs("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=hs("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=hs("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=hs("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=hs("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);function oJ({currentUser:e,role:t,access:n,members:r,handleKick:i,handlePromote:o}){const[a,c]=x.useState("");return C.jsxs(nQ,{children:[C.jsx(rQ,{asChild:!0,children:C.jsxs(Gt,{variant:"outline",className:"flex gap-1",children:[r.length,C.jsx(rJ,{className:" h-4 w-4"})]})}),C.jsxs(CI,{children:[C.jsxs(RI,{children:[C.jsx(TI,{children:"Room Members"}),C.jsx(EI,{children:"View and manage room members here."}),C.jsx(Fr,{placeholder:"Search People...",onChange:u=>c(u.target.value)})]}),C.jsxs(Y1,{className:"h-[calc(100vh-8rem)] mt-4",children:[r.filter(u=>u.username.toLowerCase().includes(a.toLowerCase())).map(u=>{const p=u.socketId==e.socketId&&n;return C.jsxs("div",{className:"flex items-center justify-between py-2",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{children:u.username}),C.jsx("span",{className:"text-gray-400",children:u.socketId==e.socketId&&"(You)"})]}),u.role=="owner"?C.jsx(vk,{className:"mr-3 h-4 w-4 text-yellow-500"}):C.jsxs($Z,{children:[C.jsx(zZ,{asChild:!0,children:C.jsx(Gt,{variant:"ghost",size:"sm",children:C.jsx(ZZ,{className:"h-4 w-4"})})}),C.jsxs(Mj,{children:[C.jsxs(rS,{className:"text-red-500 hover:text-red-700",disabled:!p,onClick:()=>{},"data-target-name":u.username,"data-target-user":u.socketId,children:[C.jsx(nJ,{className:"mr-2 h-4 w-4"})," Kick"]}),C.jsxs(rS,{className:"text-green-500 hover:text-green-700",onClick:h=>o(h),"data-target-name":u.username,"data-target-user":u.socketId,children:[C.jsx(vk,{className:"mr-2 h-4 w-4"}),"Promote to Owner"]})]})]})]},u.socketId)}),r.filter(u=>u.username.toLowerCase().includes(a.toLowerCase())).length===0&&C.jsx("div",{className:"flex items-center justify-center py-2",children:C.jsx("span",{children:"No username"})})]})]})]})}const Aj=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Hv=x.createContext({}),Wv=x.createContext(null),Kv=typeof document<"u",i_=Kv?x.useLayoutEffect:x.useEffect,Nj=x.createContext({strict:!1}),s_=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),aJ="framerAppearId",Ij="data-"+s_(aJ),jj={skipAnimations:!1,useManualTiming:!1};class yk{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function lJ(e){let t=new yk,n=new yk,r=0,i=!1,o=!1;const a=new WeakSet,c={schedule:(u,p=!1,h=!1)=>{const g=h&&i,v=g?t:n;return p&&a.add(u),v.add(u)&&g&&i&&(r=t.order.length),u},cancel:u=>{n.remove(u),a.delete(u)},process:u=>{if(i){o=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let p=0;p<r;p++){const h=t.order[p];a.has(h)&&(c.schedule(h),e()),h(u)}i=!1,o&&(o=!1,c.process(u))}};return c}const qh=["prepare","read","update","preRender","render","postRender"],cJ=40;function Fj(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=qh.reduce((g,v)=>(g[v]=lJ(()=>n=!0),g),{}),a=g=>{o[g].process(i)},c=()=>{const g=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(g-i.timestamp,cJ),1),i.timestamp=g,i.isProcessing=!0,qh.forEach(a),i.isProcessing=!1,n&&t&&(r=!1,e(c))},u=()=>{n=!0,r=!0,i.isProcessing||e(c)};return{schedule:qh.reduce((g,v)=>{const w=o[v];return g[v]=(S,b=!1,P=!1)=>(n||u(),w.schedule(S,b,P)),g},{}),cancel:g=>qh.forEach(v=>o[v].cancel(g)),state:i,steps:o}}const{schedule:o_,cancel:Ase}=Fj(queueMicrotask,!1);function uJ(e,t,n,r){const{visualElement:i}=x.useContext(Hv),o=x.useContext(Nj),a=x.useContext(Wv),c=x.useContext(Aj).reducedMotion,u=x.useRef();r=r||o.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const p=u.current;x.useInsertionEffect(()=>{p&&p.update(n,a)});const h=x.useRef(!!(n[Ij]&&!window.HandoffComplete));return i_(()=>{p&&(o_.postRender(p.render),h.current&&p.animationState&&p.animationState.animateChanges())}),x.useEffect(()=>{p&&(p.updateFeatures(),!h.current&&p.animationState&&p.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),p}function Mc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function dJ(e,t,n){return x.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Mc(n)&&(n.current=r))},[t])}function jf(e){return typeof e=="string"||Array.isArray(e)}function Gv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const a_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],l_=["initial",...a_];function qv(e){return Gv(e.animate)||l_.some(t=>jf(e[t]))}function Bj(e){return!!(qv(e)||e.variants)}function fJ(e,t){if(qv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||jf(n)?n:void 0,animate:jf(r)?r:void 0}}return e.inherit!==!1?t:{}}function pJ(e){const{initial:t,animate:n}=fJ(e,x.useContext(Hv));return x.useMemo(()=>({initial:t,animate:n}),[wk(t),wk(n)])}function wk(e){return Array.isArray(e)?e.join(" "):e}const bk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ff={};for(const e in bk)Ff[e]={isEnabled:t=>bk[e].some(n=>!!t[n])};function hJ(e){for(const t in e)Ff[t]={...Ff[t],...e[t]}}const c_=x.createContext({}),$j=x.createContext({}),mJ=Symbol.for("motionComponentSymbol");function gJ({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&hJ(e);function o(c,u){let p;const h={...x.useContext(Aj),...c,layoutId:vJ(c)},{isStatic:g}=h,v=pJ(c),w=r(c,g);if(!g&&Kv){v.visualElement=uJ(i,w,h,t);const S=x.useContext($j),b=x.useContext(Nj).strict;v.visualElement&&(p=v.visualElement.loadFeatures(h,b,e,S))}return x.createElement(Hv.Provider,{value:v},p&&v.visualElement?x.createElement(p,{visualElement:v.visualElement,...h}):null,n(i,c,dJ(w,v.visualElement,u),w,g,v.visualElement))}const a=x.forwardRef(o);return a[mJ]=i,a}function vJ({layoutId:e}){const t=x.useContext(c_).id;return t&&e!==void 0?t+"-"+e:e}function yJ(e){function t(r,i={}){return gJ(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const wJ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function u_(e){return typeof e!="string"||e.includes("-")?!1:!!(wJ.indexOf(e)>-1||/[A-Z]/.test(e))}const wg={};function bJ(e){Object.assign(wg,e)}const gp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pl=new Set(gp);function zj(e,{layout:t,layoutId:n}){return pl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!wg[e]||e==="opacity")}const kr=e=>!!(e&&e.getVelocity),SJ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xJ=gp.length;function _J(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let o="";for(let a=0;a<xJ;a++){const c=gp[a];if(e[c]!==void 0){const u=SJ[c]||c;o+=`${u}(${e[c]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,r?"":o):n&&r&&(o="none"),o}const Uj=e=>t=>typeof t=="string"&&t.startsWith(e),Vj=Uj("--"),CJ=Uj("var(--"),bg=e=>CJ(e)?RJ.test(e.split("/*")[0].trim()):!1,RJ=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)$/i,TJ=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ra=(e,t,n)=>n>t?t:n<e?e:n,Au={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},rf={...Au,transform:e=>ra(0,1,e)},Yh={...Au,default:1},sf=e=>Math.round(e*1e5)/1e5,d_=/(-)?([\d]*\.?[\d])+/g,EJ=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,PJ=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function vp(e){return typeof e=="string"}const yp=e=>({test:t=>vp(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),To=yp("deg"),os=yp("%"),et=yp("px"),kJ=yp("vh"),DJ=yp("vw"),Sk={...os,parse:e=>os.parse(e)/100,transform:e=>os.transform(e*100)},xk={...Au,transform:Math.round},Hj={borderWidth:et,borderTopWidth:et,borderRightWidth:et,borderBottomWidth:et,borderLeftWidth:et,borderRadius:et,radius:et,borderTopLeftRadius:et,borderTopRightRadius:et,borderBottomRightRadius:et,borderBottomLeftRadius:et,width:et,maxWidth:et,height:et,maxHeight:et,size:et,top:et,right:et,bottom:et,left:et,padding:et,paddingTop:et,paddingRight:et,paddingBottom:et,paddingLeft:et,margin:et,marginTop:et,marginRight:et,marginBottom:et,marginLeft:et,rotate:To,rotateX:To,rotateY:To,rotateZ:To,scale:Yh,scaleX:Yh,scaleY:Yh,scaleZ:Yh,skew:To,skewX:To,skewY:To,distance:et,translateX:et,translateY:et,translateZ:et,x:et,y:et,z:et,perspective:et,transformPerspective:et,opacity:rf,originX:Sk,originY:Sk,originZ:et,zIndex:xk,fillOpacity:rf,strokeOpacity:rf,numOctaves:xk};function f_(e,t,n,r){const{style:i,vars:o,transform:a,transformOrigin:c}=e;let u=!1,p=!1,h=!0;for(const g in t){const v=t[g];if(Vj(g)){o[g]=v;continue}const w=Hj[g],S=TJ(v,w);if(pl.has(g)){if(u=!0,a[g]=S,!h)continue;v!==(w.default||0)&&(h=!1)}else g.startsWith("origin")?(p=!0,c[g]=S):i[g]=S}if(t.transform||(u||r?i.transform=_J(e.transform,n,h,r):i.transform&&(i.transform="none")),p){const{originX:g="50%",originY:v="50%",originZ:w=0}=c;i.transformOrigin=`${g} ${v} ${w}`}}const p_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Wj(e,t,n){for(const r in t)!kr(t[r])&&!zj(r,n)&&(e[r]=t[r])}function LJ({transformTemplate:e},t,n){return x.useMemo(()=>{const r=p_();return f_(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function MJ(e,t,n){const r=e.style||{},i={};return Wj(i,r,e),Object.assign(i,LJ(e,t,n)),i}function OJ(e,t,n){const r={},i=MJ(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const AJ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Sg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||AJ.has(e)}let Kj=e=>!Sg(e);function NJ(e){e&&(Kj=t=>t.startsWith("on")?!Sg(t):e(t))}try{NJ(require("@emotion/is-prop-valid").default)}catch{}function IJ(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Kj(i)||n===!0&&Sg(i)||!t&&!Sg(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function _k(e,t,n){return typeof e=="string"?e:et.transform(t+n*e)}function jJ(e,t,n){const r=_k(t,e.x,e.width),i=_k(n,e.y,e.height);return`${r} ${i}`}const FJ={offset:"stroke-dashoffset",array:"stroke-dasharray"},BJ={offset:"strokeDashoffset",array:"strokeDasharray"};function $J(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?FJ:BJ;e[o.offset]=et.transform(-r);const a=et.transform(t),c=et.transform(n);e[o.array]=`${a} ${c}`}function h_(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:o,pathLength:a,pathSpacing:c=1,pathOffset:u=0,...p},h,g,v){if(f_(e,p,h,v),g){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:w,style:S,dimensions:b}=e;w.transform&&(b&&(S.transform=w.transform),delete w.transform),b&&(i!==void 0||o!==void 0||S.transform)&&(S.transformOrigin=jJ(b,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(w.x=t),n!==void 0&&(w.y=n),r!==void 0&&(w.scale=r),a!==void 0&&$J(w,a,c,u,!1)}const Gj=()=>({...p_(),attrs:{}}),m_=e=>typeof e=="string"&&e.toLowerCase()==="svg";function zJ(e,t,n,r){const i=x.useMemo(()=>{const o=Gj();return h_(o,t,{enableHardwareAcceleration:!1},m_(r),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Wj(o,e.style,e),i.style={...o,...i.style}}return i}function UJ(e=!1){return(n,r,i,{latestValues:o},a)=>{const u=(u_(n)?zJ:OJ)(r,o,a,n),p=IJ(r,typeof n=="string",e),h=n!==x.Fragment?{...p,...u,ref:i}:{},{children:g}=r,v=x.useMemo(()=>kr(g)?g.get():g,[g]);return x.createElement(n,{...h,children:v})}}function qj(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}const Yj=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Xj(e,t,n,r){qj(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Yj.has(i)?i:s_(i),t.attrs[i])}function g_(e,t){const{style:n}=e,r={};for(const i in n)(kr(n[i])||t.style&&kr(t.style[i])||zj(i,e))&&(r[i]=n[i]);return r}function Qj(e,t){const n=g_(e,t);for(const r in e)if(kr(e[r])||kr(t[r])){const i=gp.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function v_(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function Zj(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const xg=e=>Array.isArray(e),VJ=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),HJ=e=>xg(e)?e[e.length-1]||0:e;function bm(e){const t=kr(e)?e.get():e;return VJ(t)?t.toValue():t}function WJ({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,o){const a={latestValues:KJ(r,i,o,e),renderState:t()};return n&&(a.mount=c=>n(r,c,a)),a}const Jj=e=>(t,n)=>{const r=x.useContext(Hv),i=x.useContext(Wv),o=()=>WJ(e,t,r,i);return n?o():Zj(o)};function KJ(e,t,n,r){const i={},o=r(e,{});for(const v in o)i[v]=bm(o[v]);let{initial:a,animate:c}=e;const u=qv(e),p=Bj(e);t&&p&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),c===void 0&&(c=t.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const g=h?c:a;return g&&typeof g!="boolean"&&!Gv(g)&&(Array.isArray(g)?g:[g]).forEach(w=>{const S=v_(e,w);if(!S)return;const{transitionEnd:b,transition:P,...R}=S;for(const _ in R){let k=R[_];if(Array.isArray(k)){const E=h?k.length-1:0;k=k[E]}k!==null&&(i[_]=k)}for(const _ in b)i[_]=b[_]}),i}const mn=e=>e,{schedule:Yt,cancel:Qs,state:Yn,steps:o0}=Fj(typeof requestAnimationFrame<"u"?requestAnimationFrame:mn,!0),GJ={useVisualState:Jj({scrapeMotionValuesFromProps:Qj,createRenderState:Gj,onMount:(e,t,{renderState:n,latestValues:r})=>{Yt.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Yt.render(()=>{h_(n,r,{enableHardwareAcceleration:!1},m_(t.tagName),e.transformTemplate),Xj(t,n)})}})},qJ={useVisualState:Jj({scrapeMotionValuesFromProps:g_,createRenderState:p_})};function YJ(e,{forwardMotionProps:t=!1},n,r){return{...u_(e)?GJ:qJ,preloadedFeatures:n,useRender:UJ(t),createVisualElement:r,Component:e}}function As(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const e3=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Yv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const XJ=e=>t=>e3(t)&&e(t,Yv(t));function js(e,t,n,r){return As(e,t,XJ(n),r)}const QJ=(e,t)=>n=>t(e(n)),Fs=(...e)=>e.reduce(QJ);function t3(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Ck=t3("dragHorizontal"),Rk=t3("dragVertical");function n3(e){let t=!1;if(e==="y")t=Rk();else if(e==="x")t=Ck();else{const n=Ck(),r=Rk();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function r3(){const e=n3(!0);return e?(e(),!1):!0}class ga{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Tk(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(o,a)=>{if(o.pointerType==="touch"||r3())return;const c=e.getProps();e.animationState&&c.whileHover&&e.animationState.setActive("whileHover",t),c[r]&&Yt.update(()=>c[r](o,a))};return js(e.current,n,i,{passive:!e.getProps()[r]})}class ZJ extends ga{mount(){this.unmount=Fs(Tk(this.node,!0),Tk(this.node,!1))}unmount(){}}class JJ extends ga{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fs(As(this.node.current,"focus",()=>this.onFocus()),As(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const i3=(e,t)=>t?e===t?!0:i3(e,t.parentElement):!1;function a0(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Yv(n))}class eee extends ga{constructor(){super(...arguments),this.removeStartListeners=mn,this.removeEndListeners=mn,this.removeAccessibleListeners=mn,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=js(window,"pointerup",(c,u)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:h,globalTapTarget:g}=this.node.getProps();Yt.update(()=>{!g&&!i3(this.node.current,c.target)?h&&h(c,u):p&&p(c,u)})},{passive:!(r.onTap||r.onPointerUp)}),a=js(window,"pointercancel",(c,u)=>this.cancelPress(c,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Fs(o,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const a=c=>{c.key!=="Enter"||!this.checkPressEnd()||a0("up",(u,p)=>{const{onTap:h}=this.node.getProps();h&&Yt.update(()=>h(u,p))})};this.removeEndListeners(),this.removeEndListeners=As(this.node.current,"keyup",a),a0("down",(c,u)=>{this.startPress(c,u)})},n=As(this.node.current,"keydown",t),r=()=>{this.isPressing&&a0("cancel",(o,a)=>this.cancelPress(o,a))},i=As(this.node.current,"blur",r);this.removeAccessibleListeners=Fs(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Yt.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!r3()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Yt.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=js(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=As(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fs(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const iS=new WeakMap,l0=new WeakMap,tee=e=>{const t=iS.get(e.target);t&&t(e)},nee=e=>{e.forEach(tee)};function ree({root:e,...t}){const n=e||document;l0.has(n)||l0.set(n,{});const r=l0.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(nee,{root:e,...t})),r[i]}function iee(e,t,n){const r=ree(t);return iS.set(e,n),r.observe(e),()=>{iS.delete(e),r.unobserve(e)}}const see={some:0,all:1};class oee extends ga{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:see[i]},c=u=>{const{isIntersecting:p}=u;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:h,onViewportLeave:g}=this.node.getProps(),v=p?h:g;v&&v(u)};return iee(this.node.current,a,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(aee(t,n))&&this.startObserver()}unmount(){}}function aee({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const lee={inView:{Feature:oee},tap:{Feature:eee},focus:{Feature:JJ},hover:{Feature:ZJ}};function s3(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function cee(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function uee(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Xv(e,t,n){const r=e.getProps();return v_(r,t,n!==void 0?n:r.custom,cee(e),uee(e))}let dee=mn,y_=mn;const qo=e=>e*1e3,Bs=e=>e/1e3,fee={current:!1},o3=e=>Array.isArray(e)&&typeof e[0]=="number";function a3(e){return!!(!e||typeof e=="string"&&l3[e]||o3(e)||Array.isArray(e)&&e.every(a3))}const Vd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,l3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vd([0,.65,.55,1]),circOut:Vd([.55,0,1,.45]),backIn:Vd([.31,.01,.66,-.59]),backOut:Vd([.33,1.53,.69,.99])};function c3(e){if(e)return o3(e)?Vd(e):Array.isArray(e)?e.map(c3):l3[e]}function pee(e,t,n,{delay:r=0,duration:i,repeat:o=0,repeatType:a="loop",ease:c,times:u}={}){const p={[t]:n};u&&(p.offset=u);const h=c3(c);return Array.isArray(h)&&(p.easing=h),e.animate(p,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal"})}function hee(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const u3=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,mee=1e-7,gee=12;function vee(e,t,n,r,i){let o,a,c=0;do a=t+(n-t)/2,o=u3(a,r,i)-e,o>0?n=a:t=a;while(Math.abs(o)>mee&&++c<gee);return a}function wp(e,t,n,r){if(e===t&&n===r)return mn;const i=o=>vee(o,0,1,e,n);return o=>o===0||o===1?o:u3(i(o),t,r)}const yee=wp(.42,0,1,1),wee=wp(0,0,.58,1),d3=wp(.42,0,.58,1),bee=e=>Array.isArray(e)&&typeof e[0]!="number",f3=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,p3=e=>t=>1-e(1-t),w_=e=>1-Math.sin(Math.acos(e)),h3=p3(w_),See=f3(w_),m3=wp(.33,1.53,.69,.99),b_=p3(m3),xee=f3(b_),_ee=e=>(e*=2)<1?.5*b_(e):.5*(2-Math.pow(2,-10*(e-1))),Cee={linear:mn,easeIn:yee,easeInOut:d3,easeOut:wee,circIn:w_,circInOut:See,circOut:h3,backIn:b_,backInOut:xee,backOut:m3,anticipate:_ee},Ek=e=>{if(Array.isArray(e)){y_(e.length===4);const[t,n,r,i]=e;return wp(t,n,r,i)}else if(typeof e=="string")return Cee[e];return e},Bf=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Jt=(e,t,n)=>e+(t-e)*n;function c0(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ree({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,a=0;if(!t)i=o=a=n;else{const c=n<.5?n*(1+t):n+t-n*t,u=2*n-c;i=c0(u,c,e+1/3),o=c0(u,c,e),a=c0(u,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:r}}const S_=(e,t)=>n=>!!(vp(n)&&PJ.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),g3=(e,t,n)=>r=>{if(!vp(r))return r;const[i,o,a,c]=r.match(d_);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:c!==void 0?parseFloat(c):1}},Tee=e=>ra(0,255,e),u0={...Au,transform:e=>Math.round(Tee(e))},za={test:S_("rgb","red"),parse:g3("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+u0.transform(e)+", "+u0.transform(t)+", "+u0.transform(n)+", "+sf(rf.transform(r))+")"};function Eee(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const sS={test:S_("#"),parse:Eee,transform:za.transform},Oc={test:S_("hsl","hue"),parse:g3("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+os.transform(sf(t))+", "+os.transform(sf(n))+", "+sf(rf.transform(r))+")"},d0=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Pee=[sS,za,Oc],kee=e=>Pee.find(t=>t.test(e));function Pk(e){const t=kee(e);let n=t.parse(e);return t===Oc&&(n=Ree(n)),n}const kk=(e,t)=>{const n=Pk(e),r=Pk(t),i={...n};return o=>(i.red=d0(n.red,r.red,o),i.green=d0(n.green,r.green,o),i.blue=d0(n.blue,r.blue,o),i.alpha=Jt(n.alpha,r.alpha,o),za.transform(i))},rr={test:e=>za.test(e)||sS.test(e)||Oc.test(e),parse:e=>za.test(e)?za.parse(e):Oc.test(e)?Oc.parse(e):sS.parse(e),transform:e=>vp(e)?e:e.hasOwnProperty("red")?za.transform(e):Oc.transform(e)};function Dee(e){var t,n;return isNaN(e)&&vp(e)&&(((t=e.match(d_))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(EJ))===null||n===void 0?void 0:n.length)||0)>0}const v3="number",y3="color",Lee="var",Mee="var(",Dk="${}",Lk=/(var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\))|(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))|((-)?([\d]*\.?[\d])+)/gi;function _g(e){const t=e.toString(),n=t.match(Lk)||[],r=[],i={color:[],number:[],var:[]},o=[];for(let u=0;u<n.length;u++){const p=n[u];rr.test(p)?(i.color.push(u),o.push(y3),r.push(rr.parse(p))):p.startsWith(Mee)?(i.var.push(u),o.push(Lee),r.push(p)):(i.number.push(u),o.push(v3),r.push(parseFloat(p)))}const c=t.replace(Lk,Dk).split(Dk);return{values:r,split:c,indexes:i,types:o}}function w3(e){return _g(e).values}function b3(e){const{split:t,types:n}=_g(e),r=t.length;return i=>{let o="";for(let a=0;a<r;a++)if(o+=t[a],i[a]!==void 0){const c=n[a];c===v3?o+=sf(i[a]):c===y3?o+=rr.transform(i[a]):o+=i[a]}return o}}const Oee=e=>typeof e=="number"?0:e;function Aee(e){const t=w3(e);return b3(e)(t.map(Oee))}const ia={test:Dee,parse:w3,createTransformer:b3,getAnimatableNone:Aee};function oS(e,t){return n=>n>0?t:e}function Nee(e,t){return n=>Jt(e,t,n)}function x_(e){return typeof e=="number"?Nee:typeof e=="string"?bg(e)?oS:rr.test(e)?kk:Fee:Array.isArray(e)?S3:typeof e=="object"?rr.test(e)?kk:Iee:oS}function S3(e,t){const n=[...e],r=n.length,i=e.map((o,a)=>x_(o)(o,t[a]));return o=>{for(let a=0;a<r;a++)n[a]=i[a](o);return n}}function Iee(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=x_(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function jee(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const a=t.types[o],c=e.indexes[a][i[a]],u=(n=e.values[c])!==null&&n!==void 0?n:0;r[o]=u,i[a]++}return r}const Fee=(e,t)=>{const n=ia.createTransformer(t),r=_g(e),i=_g(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Fs(S3(jee(r,i),i.values),n):oS(e,t)};function x3(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Jt(e,t,n):x_(e)(e,t)}function Bee(e,t,n){const r=[],i=n||x3,o=e.length-1;for(let a=0;a<o;a++){let c=i(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||mn:t;c=Fs(u,c)}r.push(c)}return r}function $ee(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(y_(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Bee(t,r,i),c=a.length,u=p=>{let h=0;if(c>1)for(;h<e.length-2&&!(p<e[h+1]);h++);const g=Bf(e[h],e[h+1],p);return a[h](g)};return n?p=>u(ra(e[0],e[o-1],p)):u}function zee(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Bf(0,t,r);e.push(Jt(n,1,i))}}function Uee(e){const t=[0];return zee(t,e.length-1),t}function Vee(e,t){return e.map(n=>n*t)}function Hee(e,t){return e.map(()=>t||d3).splice(0,e.length-1)}function Cg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=bee(r)?r.map(Ek):Ek(r),o={done:!1,value:t[0]},a=Vee(n&&n.length===t.length?n:Uee(t),e),c=$ee(a,t,{ease:Array.isArray(i)?i:Hee(t,i)});return{calculatedDuration:e,next:u=>(o.value=c(u),o.done=u>=e,o)}}function _3(e,t){return t?e*(1e3/t):0}const Wee=5;function C3(e,t,n){const r=Math.max(t-Wee,0);return _3(n-e(r),t-r)}const f0=.001,Kee=.01,Mk=10,Gee=.05,qee=1;function Yee({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o;dee(e<=qo(Mk));let a=1-t;a=ra(Gee,qee,a),e=ra(Kee,Mk,Bs(e)),a<1?(i=p=>{const h=p*a,g=h*e,v=h-n,w=aS(p,a),S=Math.exp(-g);return f0-v/w*S},o=p=>{const g=p*a*e,v=g*n+n,w=Math.pow(a,2)*Math.pow(p,2)*e,S=Math.exp(-g),b=aS(Math.pow(p,2),a);return(-i(p)+f0>0?-1:1)*((v-w)*S)/b}):(i=p=>{const h=Math.exp(-p*e),g=(p-n)*e+1;return-f0+h*g},o=p=>{const h=Math.exp(-p*e),g=(n-p)*(e*e);return h*g});const c=5/e,u=Qee(i,o,c);if(e=qo(e),isNaN(u))return{stiffness:100,damping:10,duration:e};{const p=Math.pow(u,2)*r;return{stiffness:p,damping:a*2*Math.sqrt(r*p),duration:e}}}const Xee=12;function Qee(e,t,n){let r=n;for(let i=1;i<Xee;i++)r=r-e(r)/t(r);return r}function aS(e,t){return e*Math.sqrt(1-t*t)}const Zee=["duration","bounce"],Jee=["stiffness","damping","mass"];function Ok(e,t){return t.some(n=>e[n]!==void 0)}function ete(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Ok(e,Jee)&&Ok(e,Zee)){const n=Yee(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function R3({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],o=e[e.length-1],a={done:!1,value:i},{stiffness:c,damping:u,mass:p,duration:h,velocity:g,isResolvedFromDuration:v}=ete({...r,velocity:-Bs(r.velocity||0)}),w=g||0,S=u/(2*Math.sqrt(c*p)),b=o-i,P=Bs(Math.sqrt(c/p)),R=Math.abs(b)<5;n||(n=R?.01:2),t||(t=R?.005:.5);let _;if(S<1){const k=aS(P,S);_=E=>{const N=Math.exp(-S*P*E);return o-N*((w+S*P*b)/k*Math.sin(k*E)+b*Math.cos(k*E))}}else if(S===1)_=k=>o-Math.exp(-P*k)*(b+(w+P*b)*k);else{const k=P*Math.sqrt(S*S-1);_=E=>{const N=Math.exp(-S*P*E),F=Math.min(k*E,300);return o-N*((w+S*P*b)*Math.sinh(F)+k*b*Math.cosh(F))/k}}return{calculatedDuration:v&&h||null,next:k=>{const E=_(k);if(v)a.done=k>=h;else{let N=w;k!==0&&(S<1?N=C3(_,k,E):N=0);const F=Math.abs(N)<=n,B=Math.abs(o-E)<=t;a.done=F&&B}return a.value=a.done?o:E,a}}}function Ak({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:a,min:c,max:u,restDelta:p=.5,restSpeed:h}){const g=e[0],v={done:!1,value:g},w=U=>c!==void 0&&U<c||u!==void 0&&U>u,S=U=>c===void 0?u:u===void 0||Math.abs(c-U)<Math.abs(u-U)?c:u;let b=n*t;const P=g+b,R=a===void 0?P:a(P);R!==P&&(b=R-g);const _=U=>-b*Math.exp(-U/r),k=U=>R+_(U),E=U=>{const G=_(U),Q=k(U);v.done=Math.abs(G)<=p,v.value=v.done?R:Q};let N,F;const B=U=>{w(v.value)&&(N=U,F=R3({keyframes:[v.value,S(v.value)],velocity:C3(k,U,v.value),damping:i,stiffness:o,restDelta:p,restSpeed:h}))};return B(0),{calculatedDuration:null,next:U=>{let G=!1;return!F&&N===void 0&&(G=!0,E(U),B(U)),N!==void 0&&U>N?F.next(U-N):(!G&&E(U),v)}}}let Sm;function tte(){Sm=void 0}const Ga={now:()=>(Sm===void 0&&Ga.set(Yn.isProcessing||jj.useManualTiming?Yn.timestamp:performance.now()),Sm),set:e=>{Sm=e,queueMicrotask(tte)}},nte=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Yt.update(t,!0),stop:()=>Qs(t),now:()=>Yn.isProcessing?Yn.timestamp:Ga.now()}},Nk=2e4;function Ik(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Nk;)t+=n,r=e.next(t);return t>=Nk?1/0:t}const rte={decay:Ak,inertia:Ak,tween:Cg,keyframes:Cg,spring:R3},ite=e=>e/100;function Rg({autoplay:e=!0,delay:t=0,driver:n=nte,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:c="loop",onPlay:u,onStop:p,onComplete:h,onUpdate:g,...v}){let w=1,S=!1,b,P;const R=()=>{P=new Promise(Z=>{b=Z})};R();let _;const k=rte[i]||Cg;let E;k!==Cg&&typeof r[0]!="number"&&(E=Fs(ite,x3(r[0],r[1])),r=[0,100]);const N=k({...v,keyframes:r});let F;c==="mirror"&&(F=k({...v,keyframes:[...r].reverse(),velocity:-(v.velocity||0)}));let B="idle",U=null,G=null,Q=null;N.calculatedDuration===null&&o&&(N.calculatedDuration=Ik(N));const{calculatedDuration:ie}=N;let Y=1/0,z=1/0;ie!==null&&(Y=ie+a,z=Y*(o+1)-a);let V=0;const O=Z=>{if(G===null)return;w>0&&(G=Math.min(G,Z)),w<0&&(G=Math.min(Z-z/w,G)),U!==null?V=U:V=Math.round(Z-G)*w;const xe=V-t*(w>=0?1:-1),ae=w>=0?xe<0:xe>z;V=Math.max(xe,0),B==="finished"&&U===null&&(V=z);let pe=V,we=N;if(o){const he=Math.min(V,z)/Y;let Ee=Math.floor(he),ge=he%1;!ge&&he>=1&&(ge=1),ge===1&&Ee--,Ee=Math.min(Ee,o+1),!!(Ee%2)&&(c==="reverse"?(ge=1-ge,a&&(ge-=a/Y)):c==="mirror"&&(we=F)),pe=ra(0,1,ge)*Y}const se=ae?{done:!1,value:r[0]}:we.next(pe);E&&(se.value=E(se.value));let{done:ee}=se;!ae&&ie!==null&&(ee=w>=0?V>=z:V<=0);const ue=U===null&&(B==="finished"||B==="running"&&ee);return g&&g(se.value),ue&&I(),se},X=()=>{_&&_.stop(),_=void 0},oe=()=>{B="idle",X(),b(),R(),G=Q=null},I=()=>{B="finished",h&&h(),X(),b()},j=()=>{if(S)return;_||(_=n(O));const Z=_.now();u&&u(),U!==null?G=Z-U:(!G||B==="finished")&&(G=Z),B==="finished"&&R(),Q=G,U=null,B="running",_.start()};e&&j();const K={then(Z,xe){return P.then(Z,xe)},get time(){return Bs(V)},set time(Z){Z=qo(Z),V=Z,U!==null||!_||w===0?U=Z:G=_.now()-Z/w},get duration(){const Z=N.calculatedDuration===null?Ik(N):N.calculatedDuration;return Bs(Z)},get speed(){return w},set speed(Z){Z===w||!_||(w=Z,K.time=Bs(V))},get state(){return B},play:j,pause:()=>{B="paused",U=V},stop:()=>{S=!0,B!=="idle"&&(B="idle",p&&p(),oe())},cancel:()=>{Q!==null&&O(Q),oe()},complete:()=>{B="finished"},sample:Z=>(G=0,O(Z))};return K}function ste(e){let t;return()=>(t===void 0&&(t=e()),t)}const ote=ste(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ate=new Set(["opacity","clipPath","filter","transform"]),Xh=10,lte=2e4,cte=(e,t)=>t.type==="spring"||e==="backgroundColor"||!a3(t.ease);function ute(e,t,{onUpdate:n,onComplete:r,...i}){if(!(ote()&&ate.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,c,u,p=!1;const h=()=>{u=new Promise(k=>{c=k})};h();let{keyframes:g,duration:v=300,ease:w,times:S}=i;if(cte(t,i)){const k=Rg({...i,repeat:0,delay:0});let E={done:!1,value:g[0]};const N=[];let F=0;for(;!E.done&&F<lte;)E=k.sample(F),N.push(E.value),F+=Xh;S=void 0,g=N,v=F-Xh,w="linear"}const b=pee(e.owner.current,t,g,{...i,duration:v,ease:w,times:S}),P=()=>{p=!1,b.cancel()},R=()=>{p=!0,Yt.update(P),c(),h()};return b.onfinish=()=>{p||(e.set(hee(g,i)),r&&r(),R())},{then(k,E){return u.then(k,E)},attachTimeline(k){return b.timeline=k,b.onfinish=null,mn},get time(){return Bs(b.currentTime||0)},set time(k){b.currentTime=qo(k)},get speed(){return b.playbackRate},set speed(k){b.playbackRate=k},get duration(){return Bs(v)},play:()=>{a||(b.play(),Qs(P))},pause:()=>b.pause(),stop:()=>{if(a=!0,b.playState==="idle")return;const{currentTime:k}=b;if(k){const E=Rg({...i,autoplay:!1});e.setWithVelocity(E.sample(k-Xh).value,E.sample(k).value,Xh)}R()},complete:()=>{p||b.finish()},cancel:R}}function dte({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:mn,pause:mn,stop:mn,then:o=>(o(),Promise.resolve()),cancel:mn,complete:mn});return t?Rg({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const fte={type:"spring",stiffness:500,damping:25,restSpeed:10},pte=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),hte={type:"keyframes",duration:.8},mte={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gte=(e,{keyframes:t})=>t.length>2?hte:pl.has(e)?e.startsWith("scale")?pte(t[1]):fte:mte,lS=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ia.test(t)||t==="0")&&!t.startsWith("url(")),vte=new Set(["brightness","contrast","saturate","opacity"]);function yte(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(d_)||[];if(!r)return e;const i=n.replace(r,"");let o=vte.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const wte=/([a-z-]*)\(.*?\)/g,cS={...ia,getAnimatableNone:e=>{const t=e.match(wte);return t?t.map(yte).join(" "):e}},bte={...Hj,color:rr,backgroundColor:rr,outlineColor:rr,fill:rr,stroke:rr,borderColor:rr,borderTopColor:rr,borderRightColor:rr,borderBottomColor:rr,borderLeftColor:rr,filter:cS,WebkitFilter:cS},__=e=>bte[e];function T3(e,t){let n=__(e);return n!==cS&&(n=ia),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const E3=e=>/^0[^.\s]+$/.test(e);function Ste(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||E3(e)}function xte(e,t,n,r){const i=lS(t,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const a=r.from!==void 0?r.from:e.get();let c;const u=[];for(let p=0;p<o.length;p++)o[p]===null&&(o[p]=p===0?a:o[p-1]),Ste(o[p])&&u.push(p),typeof o[p]=="string"&&o[p]!=="none"&&o[p]!=="0"&&(c=o[p]);if(i&&u.length&&c)for(let p=0;p<u.length;p++){const h=u[p];o[h]=T3(t,c)}return o}function _te({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:a,repeatDelay:c,from:u,elapsed:p,...h}){return!!Object.keys(h).length}function C_(e,t){return e[t]||e.default||e}const R_=(e,t,n,r={})=>i=>{const o=C_(r,e)||{},a=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-qo(a);const u=xte(t,e,n,o),p=u[0],h=u[u.length-1],g=lS(e,p),v=lS(e,h);let w={keyframes:u,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-c,onUpdate:S=>{t.set(S),o.onUpdate&&o.onUpdate(S)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(_te(o)||(w={...w,...gte(e,w)}),w.duration&&(w.duration=qo(w.duration)),w.repeatDelay&&(w.repeatDelay=qo(w.repeatDelay)),!g||!v||fee.current||o.type===!1||jj.skipAnimations)return dte(w);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const S=ute(t,e,w);if(S)return S}return Rg(w)};function Tg(e){return!!(kr(e)&&e.add)}const P3=e=>/^\-?\d*\.?\d+$/.test(e);function T_(e,t){e.indexOf(t)===-1&&e.push(t)}function E_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class P_{constructor(){this.subscriptions=[]}add(t){return T_(this.subscriptions,t),()=>E_(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const a=this.subscriptions[o];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jk=30,Cte=e=>!isNaN(parseFloat(e));class Rte{constructor(t,n={}){this.version="11.0.7",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Ga.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.canTrackVelocity=Cte(this.current),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ga.now()}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new P_);const r=this.events[t].add(n);return t==="change"?()=>{r(),Yt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ga.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>jk)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,jk);return _3(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mu(e,t){return new Rte(e,t)}const k3=e=>t=>t.test(e),Tte={test:e=>e==="auto",parse:e=>e},D3=[Au,et,os,To,DJ,kJ,Tte],Dd=e=>D3.find(k3(e)),Ete=[...D3,rr,ia],Pte=e=>Ete.find(k3(e));function kte(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,mu(n))}function Dte(e,t){const n=Xv(e,t);let{transitionEnd:r={},transition:i={},...o}=n?e.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const a in o){const c=HJ(o[a]);kte(e,a,c)}}function Lte(e,t,n){var r,i;const o=Object.keys(t).filter(c=>!e.hasValue(c)),a=o.length;if(a)for(let c=0;c<a;c++){const u=o[c],p=t[u];let h=null;Array.isArray(p)&&(h=p[0]),h===null&&(h=(i=(r=n[u])!==null&&r!==void 0?r:e.readValue(u))!==null&&i!==void 0?i:t[u]),h!=null&&(typeof h=="string"&&(P3(h)||E3(h))?h=parseFloat(h):!Pte(h)&&ia.test(p)&&(h=T3(u,p)),e.addValue(u,mu(h,{owner:e})),n[u]===void 0&&(n[u]=h),h!==null&&e.setBaseTarget(u,h))}}function Mte(e,t){return t?(t[e]||t.default||t).from:void 0}function Ote(e,t,n){const r={};for(const i in e){const o=Mte(i,t);if(o!==void 0)r[i]=o;else{const a=n.getValue(i);a&&(r[i]=a.get())}}return r}function Ate({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Nte(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function L3(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...c}=e.makeTargetAnimatable(t);const u=e.getValue("willChange");r&&(o=r);const p=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const g in c){const v=e.getValue(g),w=c[g];if(!v||w===void 0||h&&Ate(h,g))continue;const S={delay:n,elapsed:0,...C_(o||{},g)};if(window.HandoffAppearAnimations){const R=e.getProps()[Ij];if(R){const _=window.HandoffAppearAnimations(R,g,v,Yt);_!==null&&(S.elapsed=_,S.isHandoff=!0)}}let b=!S.isHandoff&&!Nte(v,w);if(S.type==="spring"&&(v.getVelocity()||S.velocity)&&(b=!1),v.animation&&(b=!1),b)continue;v.start(R_(g,v,w,e.shouldReduceMotion&&pl.has(g)?{type:!1}:S));const P=v.animation;Tg(u)&&(u.add(g),P.then(()=>u.remove(g))),p.push(P)}return a&&Promise.all(p).then(()=>{a&&Dte(e,a)}),p}function uS(e,t,n={}){const r=Xv(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(L3(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:p=0,staggerChildren:h,staggerDirection:g}=i;return Ite(e,t,p+u,h,g,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,p]=c==="beforeChildren"?[o,a]:[a,o];return u().then(()=>p())}else return Promise.all([o(),a(n.delay)])}function Ite(e,t,n=0,r=0,i=1,o){const a=[],c=(e.variantChildren.size-1)*r,u=i===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(e.variantChildren).sort(jte).forEach((p,h)=>{p.notify("AnimationStart",t),a.push(uS(p,t,{...o,delay:n+u(h)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(a)}function jte(e,t){return e.sortNodePosition(t)}function Fte(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>uS(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=uS(e,t,n);else{const i=typeof t=="function"?Xv(e,t,n.custom):t;r=Promise.all(L3(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Bte=[...a_].reverse(),$te=a_.length;function zte(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Fte(e,n,r)))}function Ute(e){let t=zte(e);const n=Hte();let r=!0;const i=(u,p)=>{const h=Xv(e,p);if(h){const{transition:g,transitionEnd:v,...w}=h;u={...u,...w,...v}}return u};function o(u){t=u(e)}function a(u,p){const h=e.getProps(),g=e.getVariantContext(!0)||{},v=[],w=new Set;let S={},b=1/0;for(let R=0;R<$te;R++){const _=Bte[R],k=n[_],E=h[_]!==void 0?h[_]:g[_],N=jf(E),F=_===p?k.isActive:null;F===!1&&(b=R);let B=E===g[_]&&E!==h[_]&&N;if(B&&r&&e.manuallyAnimateOnMount&&(B=!1),k.protectedKeys={...S},!k.isActive&&F===null||!E&&!k.prevProp||Gv(E)||typeof E=="boolean")continue;let G=Vte(k.prevProp,E)||_===p&&k.isActive&&!B&&N||R>b&&N,Q=!1;const ie=Array.isArray(E)?E:[E];let Y=ie.reduce(i,{});F===!1&&(Y={});const{prevResolvedValues:z={}}=k,V={...z,...Y},O=X=>{G=!0,w.has(X)&&(Q=!0,w.delete(X)),k.needsAnimating[X]=!0};for(const X in V){const oe=Y[X],I=z[X];if(S.hasOwnProperty(X))continue;let j=!1;xg(oe)&&xg(I)?j=!s3(oe,I):j=oe!==I,j?oe!==void 0?O(X):w.add(X):oe!==void 0&&w.has(X)?O(X):k.protectedKeys[X]=!0}k.prevProp=E,k.prevResolvedValues=Y,k.isActive&&(S={...S,...Y}),r&&e.blockInitialAnimation&&(G=!1),G&&(!B||Q)&&v.push(...ie.map(X=>({animation:X,options:{type:_,...u}})))}if(w.size){const R={};w.forEach(_=>{const k=e.getBaseTarget(_);k!==void 0&&(R[_]=k)}),v.push({animation:R})}let P=!!v.length;return r&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(P=!1),r=!1,P?t(v):Promise.resolve()}function c(u,p,h){var g;if(n[u].isActive===p)return Promise.resolve();(g=e.variantChildren)===null||g===void 0||g.forEach(w=>{var S;return(S=w.animationState)===null||S===void 0?void 0:S.setActive(u,p)}),n[u].isActive=p;const v=a(h,u);for(const w in n)n[w].protectedKeys={};return v}return{animateChanges:a,setActive:c,setAnimateFunction:o,getState:()=>n}}function Vte(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!s3(t,e):!1}function Da(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hte(){return{animate:Da(!0),whileInView:Da(),whileHover:Da(),whileTap:Da(),whileDrag:Da(),whileFocus:Da(),exit:Da()}}class Wte extends ga{constructor(t){super(t),t.animationState||(t.animationState=Ute(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Gv(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Kte=0;class Gte extends ga{constructor(){super(...arguments),this.id=Kte++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const qte={animation:{Feature:Wte},exit:{Feature:Gte}},Fk=(e,t)=>Math.abs(e-t);function Yte(e,t){const n=Fk(e.x,t.x),r=Fk(e.y,t.y);return Math.sqrt(n**2+r**2)}class M3{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=h0(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=Yte(g.offset,{x:0,y:0})>=3;if(!v&&!w)return;const{point:S}=g,{timestamp:b}=Yn;this.history.push({...S,timestamp:b});const{onStart:P,onMove:R}=this.handlers;v||(P&&P(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=p0(v,this.transformPagePoint),Yt.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=h0(g.type==="pointercancel"?this.lastMoveEventInfo:p0(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,P),S&&S(g,P)},!e3(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=Yv(t),c=p0(a,this.transformPagePoint),{point:u}=c,{timestamp:p}=Yn;this.history=[{...u,timestamp:p}];const{onSessionStart:h}=n;h&&h(t,h0(c,this.history)),this.removeListeners=Fs(js(this.contextWindow,"pointermove",this.handlePointerMove),js(this.contextWindow,"pointerup",this.handlePointerUp),js(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Qs(this.updatePoint)}}function p0(e,t){return t?{point:t(e.point)}:e}function Bk(e,t){return{x:e.x-t.x,y:e.y-t.y}}function h0({point:e},t){return{point:e,delta:Bk(e,O3(t)),offset:Bk(e,Xte(t)),velocity:Qte(t,.1)}}function Xte(e){return e[0]}function O3(e){return e[e.length-1]}function Qte(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=O3(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>qo(t)));)n--;if(!r)return{x:0,y:0};const o=Bs(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Vr(e){return e.max-e.min}function dS(e,t=0,n=.01){return Math.abs(e-t)<=n}function $k(e,t,n,r=.5){e.origin=r,e.originPoint=Jt(t.min,t.max,e.origin),e.scale=Vr(n)/Vr(t),(dS(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Jt(n.min,n.max,e.origin)-e.originPoint,(dS(e.translate)||isNaN(e.translate))&&(e.translate=0)}function of(e,t,n,r){$k(e.x,t.x,n.x,r?r.originX:void 0),$k(e.y,t.y,n.y,r?r.originY:void 0)}function zk(e,t,n){e.min=n.min+t.min,e.max=e.min+Vr(t)}function Zte(e,t,n){zk(e.x,t.x,n.x),zk(e.y,t.y,n.y)}function Uk(e,t,n){e.min=t.min-n.min,e.max=e.min+Vr(t)}function af(e,t,n){Uk(e.x,t.x,n.x),Uk(e.y,t.y,n.y)}function Jte(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Jt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Jt(n,e,r.max):Math.min(e,n)),e}function Vk(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ene(e,{top:t,left:n,bottom:r,right:i}){return{x:Vk(e.x,n,i),y:Vk(e.y,t,r)}}function Hk(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function tne(e,t){return{x:Hk(e.x,t.x),y:Hk(e.y,t.y)}}function nne(e,t){let n=.5;const r=Vr(e),i=Vr(t);return i>r?n=Bf(t.min,t.max-r,e.min):r>i&&(n=Bf(e.min,e.max-i,t.min)),ra(0,1,n)}function rne(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const fS=.35;function ine(e=fS){return e===!1?e=0:e===!0&&(e=fS),{x:Wk(e,"left","right"),y:Wk(e,"top","bottom")}}function Wk(e,t,n){return{min:Kk(e,t),max:Kk(e,n)}}function Kk(e,t){return typeof e=="number"?e:e[t]||0}const Gk=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ac=()=>({x:Gk(),y:Gk()}),qk=()=>({min:0,max:0}),pn=()=>({x:qk(),y:qk()});function Yr(e){return[e("x"),e("y")]}function A3({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function sne({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function one(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function m0(e){return e===void 0||e===1}function pS({scale:e,scaleX:t,scaleY:n}){return!m0(e)||!m0(t)||!m0(n)}function Aa(e){return pS(e)||N3(e)||e.z||e.rotate||e.rotateX||e.rotateY}function N3(e){return Yk(e.x)||Yk(e.y)}function Yk(e){return e&&e!=="0%"}function Eg(e,t,n){const r=e-n,i=t*r;return n+i}function Xk(e,t,n,r,i){return i!==void 0&&(e=Eg(e,i,r)),Eg(e,n,r)+t}function hS(e,t=0,n=1,r,i){e.min=Xk(e.min,t,n,r,i),e.max=Xk(e.max,t,n,r,i)}function I3(e,{x:t,y:n}){hS(e.x,t.translate,t.scale,t.originPoint),hS(e.y,n.translate,n.scale,n.originPoint)}function ane(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,a;for(let c=0;c<i;c++){o=n[c],a=o.projectionDelta;const u=o.instance;u&&u.style&&u.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Nc(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,I3(e,a)),r&&Aa(o.latestValues)&&Nc(e,o.latestValues))}t.x=Qk(t.x),t.y=Qk(t.y)}function Qk(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function ko(e,t){e.min=e.min+t,e.max=e.max+t}function Zk(e,t,[n,r,i]){const o=t[i]!==void 0?t[i]:.5,a=Jt(e.min,e.max,o);hS(e,t[n],t[r],a,t.scale)}const lne=["x","scaleX","originX"],cne=["y","scaleY","originY"];function Nc(e,t){Zk(e.x,t,lne),Zk(e.y,t,cne)}function j3(e,t){return A3(one(e.getBoundingClientRect(),t))}function une(e,t,n){const r=j3(e,n),{scroll:i}=t;return i&&(ko(r.x,i.offset.x),ko(r.y,i.offset.y)),r}const F3=({current:e})=>e?e.ownerDocument.defaultView:null,dne=new WeakMap;class fne{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yv(h,"page").point)},o=(h,g)=>{const{drag:v,dragPropagation:w,onDragStart:S}=this.getProps();if(v&&!w&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=n3(v),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yr(P=>{let R=this.getAxisMotionValue(P).get()||0;if(os.test(R)){const{projection:_}=this.visualElement;if(_&&_.layout){const k=_.layout.layoutBox[P];k&&(R=Vr(k)*(parseFloat(R)/100))}}this.originPoint[P]=R}),S&&Yt.update(()=>S(h,g),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(h,g)=>{const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:S,onDrag:b}=this.getProps();if(!v&&!this.openGlobalLock)return;const{offset:P}=g;if(w&&this.currentDirection===null){this.currentDirection=pne(P),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,P),this.updateAxis("y",g.point,P),this.visualElement.render(),b&&b(h,g)},c=(h,g)=>this.stop(h,g),u=()=>Yr(h=>{var g;return this.getAnimationState(h)==="paused"&&((g=this.getAxisMotionValue(h).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new M3(t,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:F3(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Yt.update(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Qh(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=Jte(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;n&&Mc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=ene(i.layoutBox,n):this.constraints=!1,this.elastic=ine(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Yr(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=rne(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Mc(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=une(r,i.root,this.visualElement.getTransformPagePoint());let a=tne(i.layout.layoutBox,o);if(n){const c=n(sne(a));this.hasMutatedConstraints=!!c,c&&(a=A3(c))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},p=Yr(h=>{if(!Qh(h,n,this.currentDirection))return;let g=u&&u[h]||{};a&&(g={min:0,max:0});const v=i?200:1e6,w=i?40:1e7,S={type:"inertia",velocity:r?t[h]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(h,S)});return Promise.all(p).then(c)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(R_(t,r,0,n))}stopAnimation(){Yr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Yr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Yr(n=>{const{drag:r}=this.getProps();if(!Qh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:c}=i.layout.layoutBox[n];o.set(t[n]-Jt(a,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Mc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Yr(a=>{const c=this.getAxisMotionValue(a);if(c){const u=c.get();i[a]=nne({min:u,max:u},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Yr(a=>{if(!Qh(a,t,null))return;const c=this.getAxisMotionValue(a),{min:u,max:p}=this.constraints[a];c.set(Jt(u,p,i[a]))})}addListeners(){if(!this.visualElement.current)return;dne.set(this.visualElement,this);const t=this.visualElement.current,n=js(t,"pointerdown",u=>{const{drag:p,dragListener:h=!0}=this.getProps();p&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Mc(u)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const a=As(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:p})=>{this.isDragging&&p&&(Yr(h=>{const g=this.getAxisMotionValue(h);g&&(this.originPoint[h]+=u[h].translate,g.set(g.get()+u[h].translate))}),this.visualElement.render())});return()=>{a(),n(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:a=fS,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:a,dragMomentum:c}}}function Qh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function pne(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class hne extends ga{constructor(t){super(t),this.removeGroupControls=mn,this.removeListeners=mn,this.controls=new fne(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Jk=e=>(t,n)=>{e&&Yt.update(()=>e(t,n))};class mne extends ga{constructor(){super(...arguments),this.removePointerDownListener=mn}onPointerDown(t){this.session=new M3(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:F3(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Jk(t),onStart:Jk(n),onMove:r,onEnd:(o,a)=>{delete this.session,i&&Yt.update(()=>i(o,a))}}}mount(){this.removePointerDownListener=js(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function gne(){const e=x.useContext(Wv);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=x.useId();return x.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const xm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ld={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(et.test(e))e=parseFloat(e);else return e;const n=eD(e,t.target.x),r=eD(e,t.target.y);return`${n}% ${r}%`}},vne={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ia.parse(e);if(i.length>5)return r;const o=ia.createTransformer(e),a=typeof i[0]!="number"?1:0,c=n.x.scale*t.x,u=n.y.scale*t.y;i[0+a]/=c,i[1+a]/=u;const p=Jt(c,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=p),typeof i[3+a]=="number"&&(i[3+a]/=p),o(i)}};class yne extends bn.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;bJ(wne),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),xm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,a=r.projection;return a&&(a.isPresent=o,i||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||Yt.postRender(()=>{const c=a.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),o_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function B3(e){const[t,n]=gne(),r=x.useContext(c_);return bn.createElement(yne,{...e,layoutGroup:r,switchLayoutGroup:x.useContext($j),isPresent:t,safeToRemove:n})}const wne={borderRadius:{...Ld,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ld,borderTopRightRadius:Ld,borderBottomLeftRadius:Ld,borderBottomRightRadius:Ld,boxShadow:vne},$3=["TopLeft","TopRight","BottomLeft","BottomRight"],bne=$3.length,tD=e=>typeof e=="string"?parseFloat(e):e,nD=e=>typeof e=="number"||et.test(e);function Sne(e,t,n,r,i,o){i?(e.opacity=Jt(0,n.opacity!==void 0?n.opacity:1,xne(r)),e.opacityExit=Jt(t.opacity!==void 0?t.opacity:1,0,_ne(r))):o&&(e.opacity=Jt(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<bne;a++){const c=`border${$3[a]}Radius`;let u=rD(t,c),p=rD(n,c);if(u===void 0&&p===void 0)continue;u||(u=0),p||(p=0),u===0||p===0||nD(u)===nD(p)?(e[c]=Math.max(Jt(tD(u),tD(p),r),0),(os.test(p)||os.test(u))&&(e[c]+="%")):e[c]=p}(t.rotate||n.rotate)&&(e.rotate=Jt(t.rotate||0,n.rotate||0,r))}function rD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const xne=z3(0,.5,h3),_ne=z3(.5,.95,mn);function z3(e,t,n){return r=>r<e?0:r>t?1:n(Bf(e,t,r))}function iD(e,t){e.min=t.min,e.max=t.max}function qr(e,t){iD(e.x,t.x),iD(e.y,t.y)}function sD(e,t,n,r,i){return e-=t,e=Eg(e,1/n,r),i!==void 0&&(e=Eg(e,1/i,r)),e}function Cne(e,t=0,n=1,r=.5,i,o=e,a=e){if(os.test(t)&&(t=parseFloat(t),t=Jt(a.min,a.max,t/100)-a.min),typeof t!="number")return;let c=Jt(o.min,o.max,r);e===o&&(c-=t),e.min=sD(e.min,t,n,c,i),e.max=sD(e.max,t,n,c,i)}function oD(e,t,[n,r,i],o,a){Cne(e,t[n],t[r],t[i],t.scale,o,a)}const Rne=["x","scaleX","originX"],Tne=["y","scaleY","originY"];function aD(e,t,n,r){oD(e.x,t,Rne,n?n.x:void 0,r?r.x:void 0),oD(e.y,t,Tne,n?n.y:void 0,r?r.y:void 0)}function lD(e){return e.translate===0&&e.scale===1}function U3(e){return lD(e.x)&&lD(e.y)}function Ene(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function V3(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function cD(e){return Vr(e.x)/Vr(e.y)}class Pne{constructor(){this.members=[]}add(t){T_(this.members,t),t.scheduleRender()}remove(t){if(E_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uD(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:u,rotateX:p,rotateY:h}=n;u&&(r+=`rotate(${u}deg) `),p&&(r+=`rotateX(${p}deg) `),h&&(r+=`rotateY(${h}deg) `)}const a=e.x.scale*t.x,c=e.y.scale*t.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const kne=(e,t)=>e.depth-t.depth;class Dne{constructor(){this.children=[],this.isDirty=!1}add(t){T_(this.children,t),this.isDirty=!0}remove(t){E_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kne),this.isDirty=!1,this.children.forEach(t)}}function Lne(e,t){const n=Ga.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Qs(r),e(o-t))};return Yt.read(r,!0),()=>Qs(r)}function Mne(e){window.MotionDebug&&window.MotionDebug.record(e)}function One(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Ane(e,t,n){const r=kr(e)?e:mu(e);return r.start(R_("",r,t,n)),r.animation}const dD=["","X","Y","Z"],Nne={visibility:"hidden"},fD=1e3;let Ine=0;const Na={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function H3({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},c=t==null?void 0:t()){this.id=Ine++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Na.totalNodes=Na.resolvedTargetDeltas=Na.recalculatedProjection=0,this.nodes.forEach(Bne),this.nodes.forEach(Hne),this.nodes.forEach(Wne),this.nodes.forEach($ne),Mne(Na)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Dne)}addEventListener(a,c){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new P_),this.eventHandlers.get(a).add(c)}notifyListeners(a,...c){const u=this.eventHandlers.get(a);u&&u.notify(...c)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=One(a),this.instance=a;const{layoutId:u,layout:p,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||u)&&(this.isLayoutDirty=!0),e){let g;const v=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=Lne(v,250),xm.hasAnimatedSinceResize&&(xm.hasAnimatedSinceResize=!1,this.nodes.forEach(hD))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeTargetChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||Xne,{onLayoutAnimationStart:P,onLayoutAnimationComplete:R}=h.getProps(),_=!this.targetLayout||!V3(this.targetLayout,S)||w,k=!v&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||v&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,k);const E={...C_(b,"layout"),onPlay:P,onComplete:R};(h.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else v||hD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Kne),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pD);return}this.isUpdating||this.nodes.forEach(Une),this.isUpdating=!1,this.nodes.forEach(Vne),this.nodes.forEach(jne),this.nodes.forEach(Fne),this.clearAllSnapshots();const c=Ga.now();Yn.delta=ra(0,1e3/60,c-Yn.timestamp),Yn.timestamp=c,Yn.isProcessing=!0,o0.update.process(Yn),o0.preRender.process(Yn),o0.render.process(Yn),Yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,o_.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(zne),this.sharedNodes.forEach(Gne)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!U3(this.projectionDelta),u=this.getTransformTemplate(),p=u?u(this.latestValues,""):void 0,h=p!==this.prevTransformTemplateValue;a&&(c||Aa(this.latestValues)||h)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return a&&(u=this.removeTransform(u)),Qne(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return pn();const c=a.measureViewportBox(),{scroll:u}=this.root;return u&&(ko(c.x,u.offset.x),ko(c.y,u.offset.y)),c}removeElementScroll(a){const c=pn();qr(c,a);for(let u=0;u<this.path.length;u++){const p=this.path[u],{scroll:h,options:g}=p;if(p!==this.root&&h&&g.layoutScroll){if(h.isRoot){qr(c,a);const{scroll:v}=this.root;v&&(ko(c.x,-v.offset.x),ko(c.y,-v.offset.y))}ko(c.x,h.offset.x),ko(c.y,h.offset.y)}}return c}applyTransform(a,c=!1){const u=pn();qr(u,a);for(let p=0;p<this.path.length;p++){const h=this.path[p];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Nc(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Aa(h.latestValues)&&Nc(u,h.latestValues)}return Aa(this.latestValues)&&Nc(u,this.latestValues),u}removeTransform(a){const c=pn();qr(c,a);for(let u=0;u<this.path.length;u++){const p=this.path[u];if(!p.instance||!Aa(p.latestValues))continue;pS(p.latestValues)&&p.updateSnapshot();const h=pn(),g=p.measurePageBox();qr(h,g),aD(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,h)}return Aa(this.latestValues)&&aD(c,this.latestValues),c}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var c;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==u;if(!(a||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=Yn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),af(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pn(),this.targetWithTransforms=pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Zte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qr(this.target,this.layout.layoutBox),I3(this.target,this.targetDelta)):qr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),af(this.relativeTargetOrigin,this.target,w.target),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Na.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||pS(this.parent.latestValues)||N3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(p=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Yn.timestamp&&(p=!1),p)return;const{layout:h,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||g))return;qr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;ane(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=pn());const{target:S}=c;if(!S){this.projectionTransform&&(this.projectionDelta=Ac(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ac(),this.projectionDeltaWithTransform=Ac());const b=this.projectionTransform;of(this.projectionDelta,this.layoutCorrected,S,this.latestValues),this.projectionTransform=uD(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==v||this.treeScale.y!==w)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),Na.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,c=!1){const u=this.snapshot,p=u?u.latestValues:{},h={...this.latestValues},g=Ac();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const v=pn(),w=u?u.source:void 0,S=this.layout?this.layout.source:void 0,b=w!==S,P=this.getStack(),R=!P||P.members.length<=1,_=!!(b&&!R&&this.options.crossfade===!0&&!this.path.some(Yne));this.animationProgress=0;let k;this.mixTargetDelta=E=>{const N=E/1e3;mD(g.x,a.x,N),mD(g.y,a.y,N),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(af(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qne(this.relativeTarget,this.relativeTargetOrigin,v,N),k&&Ene(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=pn()),qr(k,this.relativeTarget)),b&&(this.animationValues=h,Sne(h,p,this.latestValues,N,_,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yt.update(()=>{xm.hasAnimatedSinceResize=!0,this.currentAnimation=Ane(0,fD,{...a,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:c,target:u,layout:p,latestValues:h}=a;if(!(!c||!u||!p)){if(this!==a&&this.layout&&p&&W3(this.options.animationType,this.layout.layoutBox,p.layoutBox)){u=this.target||pn();const g=Vr(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+g;const v=Vr(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+v}qr(c,u),Nc(c,h),of(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(a,c){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Pne),this.sharedNodes.get(a).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:c}=this.options;return c?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:c}=this.options;return c?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:c,preserveFollowOpacity:u}={}){const p=this.getStack();p&&p.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let c=!1;const{latestValues:u}=a;if((u.rotate||u.rotateX||u.rotateY||u.rotateZ)&&(c=!0),!c)return;const p={};for(let h=0;h<dD.length;h++){const g="rotate"+dD[h];u[g]&&(p[g]=u[g],a.setStaticValue(g,0))}a.render();for(const h in p)a.setStaticValue(h,p[h]);a.scheduleRender()}getProjectionStyles(a){var c,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Nne;const p={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=bm(a==null?void 0:a.pointerEvents)||"",p.transform=h?h(this.latestValues,""):"none",p;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=bm(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Aa(this.latestValues)&&(b.transform=h?h({},""):"none",this.hasProjected=!1),b}const v=g.animationValues||g.latestValues;this.applyTransformsToTarget(),p.transform=uD(this.projectionDeltaWithTransform,this.treeScale,v),h&&(p.transform=h(v,p.transform));const{x:w,y:S}=this.projectionDelta;p.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,g.animationValues?p.opacity=g===this?(u=(c=v.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:p.opacity=g===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const b in wg){if(v[b]===void 0)continue;const{correct:P,applyTo:R}=wg[b],_=p.transform==="none"?v[b]:P(v[b],g);if(R){const k=R.length;for(let E=0;E<k;E++)p[R[E]]=_}else p[b]=_}return this.options.layoutId&&(p.pointerEvents=g===this?bm(a==null?void 0:a.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var c;return(c=a.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(pD),this.root.sharedNodes.clear()}}}function jne(e){e.updateLayout()}function Fne(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,a=n.source!==e.layout.source;o==="size"?Yr(g=>{const v=a?n.measuredBox[g]:n.layoutBox[g],w=Vr(v);v.min=r[g].min,v.max=v.min+w}):W3(o,n.layoutBox,r)&&Yr(g=>{const v=a?n.measuredBox[g]:n.layoutBox[g],w=Vr(r[g]);v.max=v.min+w,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+w)});const c=Ac();of(c,r,n.layoutBox);const u=Ac();a?of(u,e.applyTransform(i,!0),n.measuredBox):of(u,r,n.layoutBox);const p=!U3(c);let h=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:w}=g;if(v&&w){const S=pn();af(S,n.layoutBox,v.layoutBox);const b=pn();af(b,r,w.layoutBox),V3(S,b)||(h=!0),g.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=S,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Bne(e){Na.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $ne(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function zne(e){e.clearSnapshot()}function pD(e){e.clearMeasurements()}function Une(e){e.isLayoutDirty=!1}function Vne(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Hne(e){e.resolveTargetDelta()}function Wne(e){e.calcProjection()}function Kne(e){e.resetRotation()}function Gne(e){e.removeLeadSnapshot()}function mD(e,t,n){e.translate=Jt(t.translate,0,n),e.scale=Jt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function gD(e,t,n,r){e.min=Jt(t.min,n.min,r),e.max=Jt(t.max,n.max,r)}function qne(e,t,n,r){gD(e.x,t.x,n.x,r),gD(e.y,t.y,n.y,r)}function Yne(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Xne={duration:.45,ease:[.4,0,.1,1]},vD=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),yD=vD("applewebkit/")&&!vD("chrome/")?Math.round:mn;function wD(e){e.min=yD(e.min),e.max=yD(e.max)}function Qne(e){wD(e.x),wD(e.y)}function W3(e,t,n){return e==="position"||e==="preserve-aspect"&&!dS(cD(t),cD(n),.2)}const Zne=H3({attachResizeListener:(e,t)=>As(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),g0={current:void 0},K3=H3({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!g0.current){const e=new Zne({});e.mount(window),e.setOptions({layoutScroll:!0}),g0.current=e}return g0.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Jne={pan:{Feature:mne},drag:{Feature:hne,ProjectionNode:K3,MeasureLayout:B3}},ere=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function tre(e){const t=ere.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function mS(e,t,n=1){const[r,i]=tre(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const a=o.trim();return P3(a)?parseFloat(a):a}else return bg(i)?mS(i,t,n+1):i}function nre(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const o=i.get();if(!bg(o))return;const a=mS(o,r);a&&i.set(a)});for(const i in t){const o=t[i];if(!bg(o))continue;const a=mS(o,r);a&&(t[i]=a,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:t,transitionEnd:n}}const rre=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),G3=e=>rre.has(e),ire=e=>Object.keys(e).some(G3),bD=e=>e===Au||e===et,SD=(e,t)=>parseFloat(e.split(", ")[t]),xD=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return SD(i[1],t);{const o=r.match(/^matrix\((.+)\)$/);return o?SD(o[1],e):0}},sre=new Set(["x","y","z"]),ore=gp.filter(e=>!sre.has(e));function are(e){const t=[];return ore.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const gu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:xD(4,13),y:xD(5,14)};gu.translateX=gu.x;gu.translateY=gu.y;const lre=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:a}=o,c={};a==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(p=>{c[p]=gu[p](r,o)}),t.render();const u=t.measureViewportBox();return n.forEach(p=>{const h=t.getValue(p);h&&h.jump(c[p]),e[p]=gu[p](u,o)}),e},cre=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(G3);let o=[],a=!1;const c=[];if(i.forEach(u=>{const p=e.getValue(u);if(!e.hasValue(u))return;let h=n[u],g=Dd(h);const v=t[u];let w;if(xg(v)){const S=v.length,b=v[0]===null?1:0;h=v[b],g=Dd(h);for(let P=b;P<S&&v[P]!==null;P++)w?y_(Dd(v[P])===w):w=Dd(v[P])}else w=Dd(v);if(g!==w)if(bD(g)&&bD(w)){const S=p.get();typeof S=="string"&&p.set(parseFloat(S)),typeof v=="string"?t[u]=parseFloat(v):Array.isArray(v)&&w===et&&(t[u]=v.map(parseFloat))}else g!=null&&g.transform&&(w!=null&&w.transform)&&(h===0||v===0)?h===0?p.set(w.transform(h)):t[u]=g.transform(v):(a||(o=are(e),a=!0),c.push(u),r[u]=r[u]!==void 0?r[u]:t[u],p.jump(v))}),c.length){const u=c.indexOf("height")>=0?window.pageYOffset:null,p=lre(t,e,c);return o.length&&o.forEach(([h,g])=>{e.getValue(h).set(g)}),e.render(),Kv&&u!==null&&window.scrollTo({top:u}),{target:p,transitionEnd:r}}else return{target:t,transitionEnd:r}};function ure(e,t,n,r){return ire(t)?cre(e,t,n,r):{target:t,transitionEnd:r}}const dre=(e,t,n,r)=>{const i=nre(e,t,r);return t=i.target,r=i.transitionEnd,ure(e,t,n,r)},gS={current:null},q3={current:!1};function fre(){if(q3.current=!0,!!Kv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>gS.current=e.matches;e.addListener(t),t()}else gS.current=!1}function pre(e,t,n){const{willChange:r}=t;for(const i in t){const o=t[i],a=n[i];if(kr(o))e.addValue(i,o),Tg(r)&&r.add(i);else if(kr(a))e.addValue(i,mu(o,{owner:e})),Tg(r)&&r.remove(i);else if(a!==o)if(e.hasValue(i)){const c=e.getValue(i);!c.hasAnimated&&c.set(o)}else{const c=e.getStaticValue(i);e.addValue(i,mu(c!==void 0?c:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const _D=new WeakMap,Y3=Object.keys(Ff),hre=Y3.length,CD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],mre=l_.length;class gre{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Yt.render(this.render,!1,!0);const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=qv(n),this.isVariantNode=Bj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...h}=this.scrapeMotionValuesFromProps(n,{});for(const g in h){const v=h[g];c[g]!==void 0&&kr(v)&&(v.set(c[g],!1),Tg(p)&&p.add(g))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,_D.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),q3.current||fre(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){_D.delete(this.current),this.projection&&this.projection.unmount(),Qs(this.notifyUpdate),Qs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=pl.has(t),i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Yt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,o){let a,c;for(let u=0;u<hre;u++){const p=Y3[u],{isEnabled:h,Feature:g,ProjectionNode:v,MeasureLayout:w}=Ff[p];v&&(a=v),h(n)&&(!this.features[p]&&g&&(this.features[p]=new g(this)),w&&(c=w))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:p,drag:h,dragConstraints:g,layoutScroll:v,layoutRoot:w}=n;this.projection.setOptions({layoutId:u,layout:p,alwaysMeasureLayout:!!h||g&&Mc(g),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:o,layoutScroll:v,layoutRoot:w})}return c}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<CD.length;r++){const i=CD[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=t["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=pre(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<mre;r++){const i=l_[r],o=this.props[i];(jf(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=mu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=v_(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!kr(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new P_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class X3 extends gre{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},i){const o=Ote(r,t||{},this);if(i){Lte(this,r,o);const a=dre(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function vre(e){return window.getComputedStyle(e)}class yre extends X3{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(pl.has(n)){const r=__(n);return r&&r.default||0}else{const r=vre(t),i=(Vj(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return j3(t,n)}build(t,n,r,i){f_(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return g_(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;kr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){qj(t,n,r,i)}}class wre extends X3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(pl.has(n)){const r=__(n);return r&&r.default||0}return n=Yj.has(n)?n:s_(n),t.getAttribute(n)}measureInstanceViewportBox(){return pn()}scrapeMotionValuesFromProps(t,n){return Qj(t,n)}build(t,n,r,i){h_(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){Xj(t,n,r,i)}mount(t){this.isSVGTag=m_(t.tagName),super.mount(t)}}const bre=(e,t)=>u_(e)?new wre(t,{enableHardwareAcceleration:!1}):new yre(t,{enableHardwareAcceleration:!0}),Sre={layout:{ProjectionNode:K3,MeasureLayout:B3}},xre={...qte,...lee,...Jne,...Sre},vS=yJ((e,t)=>YJ(e,t,xre,bre));function Q3(){const e=x.useRef(!1);return i_(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function _re(){const e=Q3(),[t,n]=x.useState(0),r=x.useCallback(()=>{e.current&&n(t+1)},[t]);return[x.useCallback(()=>Yt.postRender(r),[r]),t]}class Cre extends x.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Rre({children:e,isPresent:t}){const n=x.useId(),r=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0});return x.useInsertionEffect(()=>{const{width:o,height:a,top:c,left:u}=i.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),x.createElement(Cre,{isPresent:t,childRef:r,sizeRef:i},x.cloneElement(e,{ref:r}))}const v0=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:a})=>{const c=Zj(Tre),u=x.useId(),p=x.useMemo(()=>({id:u,initial:t,isPresent:n,custom:i,onExitComplete:h=>{c.set(h,!0);for(const g of c.values())if(!g)return;r&&r()},register:h=>(c.set(h,!1),()=>c.delete(h))}),o?void 0:[n]);return x.useMemo(()=>{c.forEach((h,g)=>c.set(g,!1))},[n]),x.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),a==="popLayout"&&(e=x.createElement(Rre,{isPresent:n},e)),x.createElement(Wv.Provider,{value:p},e)};function Tre(){return new Map}function Ere(e){return x.useEffect(()=>()=>e(),[])}const Ia=e=>e.key||"";function Pre(e,t){e.forEach(n=>{const r=Ia(n);t.set(r,n)})}function kre(e){const t=[];return x.Children.forEach(e,n=>{x.isValidElement(n)&&t.push(n)}),t}const Z3=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:a="sync"})=>{const c=x.useContext(c_).forceRender||_re()[0],u=Q3(),p=kre(e);let h=p;const g=x.useRef(new Map).current,v=x.useRef(h),w=x.useRef(new Map).current,S=x.useRef(!0);if(i_(()=>{S.current=!1,Pre(p,w),v.current=h}),Ere(()=>{S.current=!0,w.clear(),g.clear()}),S.current)return x.createElement(x.Fragment,null,h.map(_=>x.createElement(v0,{key:Ia(_),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:a},_)));h=[...h];const b=v.current.map(Ia),P=p.map(Ia),R=b.length;for(let _=0;_<R;_++){const k=b[_];P.indexOf(k)===-1&&!g.has(k)&&g.set(k,void 0)}return a==="wait"&&g.size&&(h=[]),g.forEach((_,k)=>{if(P.indexOf(k)!==-1)return;const E=w.get(k);if(!E)return;const N=b.indexOf(k);let F=_;if(!F){const B=()=>{g.delete(k);const U=Array.from(w.keys()).filter(G=>!P.includes(G));if(U.forEach(G=>w.delete(G)),v.current=p.filter(G=>{const Q=Ia(G);return Q===k||U.includes(Q)}),!g.size){if(u.current===!1)return;c(),r&&r()}};F=x.createElement(v0,{key:Ia(E),isPresent:!1,onExitComplete:B,custom:t,presenceAffectsLayout:o,mode:a},E),g.set(k,F)}h.splice(N,0,F)}),h=h.map(_=>{const k=_.key;return g.has(k)?_:x.createElement(v0,{key:Ia(_),isPresent:!0,presenceAffectsLayout:o,mode:a},_)}),x.createElement(x.Fragment,null,g.size?h:h.map(_=>x.cloneElement(_)))},RD=({stream:e,username:t,muted:n=!1,isAudioEnabled:r=!0,isVideoEnabled:i=!0})=>{console.log("debug: video stream received",e);const o=x.useRef(null),[a,c]=x.useState(!1);x.useEffect(()=>{o.current&&e&&(o.current.srcObject=e,o.current.muted=n,(async()=>{var g;try{await((g=o.current)==null?void 0:g.play()),c(!1)}catch(v){v instanceof DOMException&&v.name==="NotAllowedError"?c(!0):console.error("Error playing video:",v)}})())},[e,n,r,i]);const u=async()=>{try{o.current&&(await o.current.play(),c(!1))}catch(h){console.error("Error playing video on click:",h)}},p=async()=>{console.log(`Attempting to recover playback for ${t}`);try{o.current&&(o.current.srcObject=null,o.current.srcObject=e,await o.current.play(),c(!1))}catch(h){console.error("Recovery failed:",h),c(!0)}};return x.useEffect(()=>{const h=o.current;return h&&h.addEventListener("error",p),()=>{h&&h.removeEventListener("error",p)}},[]),C.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-muted",children:[C.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:n,style:{width:"100%",height:"100%",objectFit:"cover"},onClick:u}),C.jsx("div",{className:"absolute bottom-2 left-2 text-white text-sm font-medium bg-black/50 px-2 py-1 rounded",children:t||"Unknown User"}),a&&!n&&C.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 cursor-pointer",onClick:u,children:C.jsx("div",{className:"bg-white/90 p-2 rounded-lg text-sm",children:"Click to enable audio"})})]})},Dre=({localStream:e,remoteStreams:t,onToggleAudio:n,onToggleVideo:r,isAudioEnabled:i,isVideoEnabled:o,username:a,remoteStates:c=new Map})=>{const[u,p]=x.useState(!1);return C.jsxs(vS.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:`fixed bottom-4 right-4 bg-background border rounded-lg shadow-lg ${u?"w-48":"w-[800px]"}`,children:[C.jsxs("div",{className:"p-2 flex justify-between items-center",children:[C.jsx("h3",{className:"text-sm font-medium",children:"Video Call"}),C.jsx(Gt,{variant:"ghost",size:"sm",onClick:()=>p(!u),children:u?"Expand":"Minimize"})]}),C.jsx(Z3,{children:!u&&C.jsxs(vS.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"grid gap-2 p-2 auto-rows-fr",style:{gridTemplateColumns:`repeat(${Math.ceil(Math.sqrt(t.size+1))}, 1fr)`},children:[e&&C.jsx(RD,{stream:e,username:`${a} (You)`,muted:!0,isAudioEnabled:i,isVideoEnabled:o}),Array.from(t.entries()).map(([h,{stream:g,username:v}])=>{const w=(c==null?void 0:c.get(h))||{isAudioEnabled:!0,isVideoEnabled:!0};return C.jsx(RD,{stream:g,username:v,isAudioEnabled:w.isAudioEnabled,isVideoEnabled:w.isVideoEnabled},h)})]})}),C.jsxs("div",{className:"p-2 flex justify-center gap-2 border-t",children:[C.jsx(Gt,{variant:"ghost",size:"sm",onClick:n,className:i?"":"text-destructive",children:i?C.jsx(eJ,{className:"h-4 w-4"}):C.jsx(JZ,{className:"h-4 w-4"})}),C.jsx(Gt,{variant:"ghost",size:"sm",onClick:r,className:o?"":"text-destructive",children:o?C.jsx(sJ,{className:"h-4 w-4"}):C.jsx(iJ,{className:"h-4 w-4"})})]})]})},Lre=({socket:e,roomId:t,username:n})=>{const[r,i]=x.useState(),[o,a]=x.useState(new Map),[c,u]=x.useState(!0),[p,h]=x.useState(!0),[g,v]=x.useState(new Map),w=x.useRef(),S=x.useRef(),b=x.useRef(),P=x.useRef(new Map),R=x.useRef(new Map),_=x.useRef(!1),k=x.useRef([]),E=(z,V)=>{const X=`${new Date().toISOString()}: ${z}`;console.log(X,V),k.current.push(X),V&&k.current.push(JSON.stringify(V))},N=async()=>{var z;try{if(_.current){E("Device already initialized, skipping");return}E("Initializing mediasoup device");const{rtpCapabilities:V}=await((z=e.current)==null?void 0:z.emitWithAck("getRtpCapabilities",{roomId:t}));if(!V)throw new Error("Failed to get RTP capabilities from server");w.current=new Vx.Device,await w.current.load({routerRtpCapabilities:V}),E("MediaSoup device initialized successfully",{canProduce:w.current.canProduce("audio")&&w.current.canProduce("video"),loaded:w.current.loaded}),_.current=!0}catch(V){throw E("Failed to initialize device",V),_.current=!1,V}},F=async()=>{var z,V;try{if(!((z=w.current)!=null&&z.loaded))throw new Error("Device not initialized");if(S.current&&!S.current.closed)return E("Send transport already exists, reusing existing transport"),S.current;E("Creating send WebRTC transport");const{params:O}=await((V=e.current)==null?void 0:V.emitWithAck("createWebRtcTransport",{sender:!0,roomId:t,socketId:e.current.id}));if(!O||O.error)throw new Error((O==null?void 0:O.error)||"Failed to create send transport");E("Send transport parameters received",{id:O.id,transportId:O.transportId});const X=w.current.createSendTransport({id:O.id,iceParameters:O.iceParameters,iceCandidates:O.iceCandidates,dtlsParameters:O.dtlsParameters,sctpParameters:O.sctpParameters,iceServers:[{urls:"stun:stun.l.google.com:19302"}]});return X.on("connect",async({dtlsParameters:oe},I,j)=>{var K;E("Send transport connect event triggered");try{const Z=await((K=e.current)==null?void 0:K.emitWithAck("transport-connect",{transportId:O.transportId,dtlsParameters:oe}));Z!=null&&Z.error?(E("Send transport connect error from server",Z.error),j(new Error(Z.error))):(E("Send transport connected successfully"),I())}catch(Z){E("Send transport connection failed",Z),j(Z)}}),X.on("produce",async(oe,I,j)=>{var K;try{E("Send transport produce event triggered",{kind:oe.kind});const{id:Z}=await((K=e.current)==null?void 0:K.emitWithAck("transport-produce",{transportId:O.transportId,kind:oe.kind,rtpParameters:oe.rtpParameters,appData:{...oe.appData,roomId:t}}));E("Producer created successfully",{id:Z}),I({id:Z})}catch(Z){E("Producer creation failed",Z),j(Z)}}),X.on("connectionstatechange",oe=>{E(`Send transport connection state changed to ${oe}`),(oe==="failed"||oe==="disconnected")&&E("Send transport connection failed, attempting to reconnect")}),S.current=X,X}catch(O){throw E("Failed to create send transport",O),O}},B=async()=>{var z,V;try{if(!((z=w.current)!=null&&z.loaded))throw new Error("Device not initialized");if(b.current&&!b.current.closed)return E("Receive transport already exists, reusing existing transport"),b.current;E("Creating receive WebRTC transport");const{params:O}=await((V=e.current)==null?void 0:V.emitWithAck("createWebRtcTransport",{sender:!1,roomId:t,socketId:e.current.id}));if(!O||O.error)throw new Error((O==null?void 0:O.error)||"Failed to create receive transport");E("Receive transport parameters received",{id:O.id,transportId:O.transportId});const X=w.current.createRecvTransport({id:O.id,iceParameters:O.iceParameters,iceCandidates:O.iceCandidates,dtlsParameters:O.dtlsParameters,sctpParameters:O.sctpParameters,iceServers:[{urls:"stun:stun.l.google.com:19302"}]});return X.on("connect",async({dtlsParameters:oe},I,j)=>{var K;E("Receive transport connect event triggered");try{const Z=await((K=e.current)==null?void 0:K.emitWithAck("transport-connect",{transportId:O.transportId,dtlsParameters:oe}));Z!=null&&Z.error?(E("Receive transport connect error from server",Z.error),j(new Error(Z.error))):(E("Receive transport connected successfully"),I())}catch(Z){E("Receive transport connection failed",Z),j(Z)}}),X.on("connectionstatechange",oe=>{E(`Receive transport connection state changed to ${oe}`),(oe==="failed"||oe==="disconnected")&&E("Receive transport connection failed")}),b.current=X,X}catch(O){throw E("Failed to create receive transport",O),O}},U=async()=>{var z;try{E("Starting media streaming"),await N(),await F(),await B();const V=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},frameRate:{ideal:30}},audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}).catch(O=>(E("Failed to get user media with full constraints",O),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).catch(X=>(E("Failed to get basic user media",X),navigator.mediaDevices.getUserMedia({audio:!0,video:!1})))));E("User media obtained successfully",{audio:V.getAudioTracks().length>0,video:V.getVideoTracks().length>0}),V.getTracks().forEach(O=>{O.enabled=!0}),i(V);for(const O of V.getTracks()){E(`Producing ${O.kind} track`);const X=await S.current.produce({track:O,codecOptions:O.kind==="video"?{videoGoogleStartBitrate:1e3}:void 0,encodings:O.kind==="video"?[{maxBitrate:5e5,scaleResolutionDownBy:2}]:void 0,appData:{roomId:t,username:n}});E(`${O.kind} producer created`,{id:X.id}),P.current.set(O.kind,X),(z=e.current)==null||z.emit("producer-ready",{producerId:X.id,kind:O.kind,roomId:t,username:n})}E("Media streaming started successfully")}catch(V){throw E("Failed to start streaming",V),V}},G=async(z,V,O,X)=>{var oe,I,j,K;try{if(!((oe=w.current)!=null&&oe.loaded))throw new Error("Device not initialized");(!b.current||b.current.closed)&&await B(),E(`Consuming ${X} stream from ${O}`,{producerId:z,socketId:V,transportId:b.current.id});const{id:Z,rtpParameters:xe,producerPaused:ae}=await((I=e.current)==null?void 0:I.emitWithAck("consume",{rtpCapabilities:w.current.rtpCapabilities,remoteProducerId:z,transportId:b.current.id,roomId:t}));if(!Z)throw new Error("Failed to get consumer ID from server");E("Consumer parameters received",{id:Z,kind:X,producerPaused:ae});const pe=await b.current.consume({id:Z,producerId:z,kind:X,rtpParameters:xe});return E("Consumer created",{id:pe.id,track:pe.track?{kind:pe.track.kind,enabled:pe.track.enabled,readyState:pe.track.readyState}:"No track"}),R.current.has(V)||R.current.set(V,new Map),(j=R.current.get(V))==null||j.set(X,pe),a(we=>{const se=new Map(we),ee=se.get(V);if(ee){const he=ee.stream.getTracks().find(Ee=>Ee.kind===X);he&&(ee.stream.removeTrack(he),he.stop()),ee.stream.addTrack(pe.track),se.set(V,ee)}else{const ue=new MediaStream([pe.track]);se.set(V,{stream:ue,username:O})}return se}),await pe.resume(),await((K=e.current)==null?void 0:K.emitWithAck("consumer-resume",{consumerId:pe.id,roomId:t})),E(`Consumer ${Z} resumed successfully`),pe.on("transportclose",()=>{E(`Consumer ${pe.id} transport closed`),Q(V,X)}),pe.on("trackended",()=>{E(`Consumer ${pe.id} track ended`),Q(V,X)}),pe}catch(Z){throw E(`Error consuming stream from ${V}`,Z),Z}},Q=(z,V)=>{const O=R.current.get(z);if(O)if(V){const X=O.get(V);X&&(E(`Closing ${V} consumer for ${z}`),X.close(),O.delete(V),a(oe=>{const I=new Map(oe),j=I.get(z);if(j){const K=j.stream.getTracks().find(Z=>Z.kind===V);K&&(j.stream.removeTrack(K),K.stop()),j.stream.getTracks().length===0&&I.delete(z)}return I})),O.size===0&&R.current.delete(z)}else O.forEach(X=>{E(`Closing all consumers for ${z}`),X.close()}),R.current.delete(z),a(X=>{const oe=new Map(X),I=oe.get(z);return I&&(I.stream.getTracks().forEach(j=>j.stop()),oe.delete(z)),oe})},ie=()=>{var V,O;const z=P.current.get("audio");z&&(c?(z.pause(),(V=e.current)==null||V.emit("producer-pause",{kind:"audio",roomId:t})):(z.resume(),(O=e.current)==null||O.emit("producer-resume",{kind:"audio",roomId:t})),u(!c),r==null||r.getAudioTracks().forEach(X=>{X.enabled=!c}))},Y=()=>{var V,O;const z=P.current.get("video");z&&(p?(z.pause(),(V=e.current)==null||V.emit("producer-pause",{kind:"video",roomId:t})):(z.resume(),(O=e.current)==null||O.emit("producer-resume",{kind:"video",roomId:t})),h(!p),r==null||r.getVideoTracks().forEach(X=>{X.enabled=!p}))};return x.useEffect(()=>{if(e.current)return N().catch(z=>{E("Failed to initialize device on mount",z)}),e.current.on("existing-producers",async({producers:z})=>{E("Received existing producers",z);for(const{producerId:V,socketId:O,kind:X,username:oe}of z)try{await G(V,O,oe,X)}catch(I){E(`Failed to consume existing producer: ${V}`,I)}}),e.current.on("new-producer",async({producerId:z,socketId:V,kind:O,username:X})=>{E("New producer detected",{producerId:z,socketId:V,kind:O,username:X});try{await G(z,V,X,O)}catch(oe){E(`Failed to consume new producer: ${z}`,oe)}}),e.current.on("producer-closed",({socketId:z,kind:V,producerId:O})=>{E("Producer closed",{socketId:z,kind:V,producerId:O}),Q(z,V)}),e.current.on("producer-pause",({socketId:z,kind:V})=>{E(`Producer paused: ${z}, kind: ${V}`),v(O=>{const X=new Map(O),oe=X.get(z)||{isAudioEnabled:!0,isVideoEnabled:!0};return X.set(z,{...oe,[V==="audio"?"isAudioEnabled":"isVideoEnabled"]:!1}),X})}),e.current.on("producer-resume",({socketId:z,kind:V})=>{E(`Producer resumed: ${z}, kind: ${V}`),v(O=>{const X=new Map(O),oe=X.get(z)||{isAudioEnabled:!0,isVideoEnabled:!0};return X.set(z,{...oe,[V==="audio"?"isAudioEnabled":"isVideoEnabled"]:!0}),X})}),()=>{var z,V,O,X,oe;(z=e.current)==null||z.off("existing-producers"),(V=e.current)==null||V.off("new-producer"),(O=e.current)==null||O.off("producer-closed"),(X=e.current)==null||X.off("producer-pause"),(oe=e.current)==null||oe.off("producer-resume"),r==null||r.getTracks().forEach(I=>I.stop()),P.current.forEach(I=>I.close()),R.current.forEach(I=>{I.forEach(j=>{j.close()})}),S.current&&!S.current.closed&&S.current.close(),b.current&&!b.current.closed&&b.current.close()}},[e.current,t]),{localStream:r,remoteStreams:o,remoteStates:g,isAudioEnabled:c,isVideoEnabled:p,toggleAudio:ie,toggleVideo:Y,startStreaming:U,debugLogs:()=>k.current}},Mre=({localStream:e,remoteStreams:t})=>C.jsxs("div",{style:{position:"fixed",bottom:0,right:0,background:"#000",padding:"10px",color:"#fff",maxWidth:"300px"},children:[C.jsx("h3",{children:"Stream Debug Info"}),C.jsx("h4",{children:"Local Stream:"}),e?C.jsx("div",{children:e.getTracks().map(n=>C.jsxs("div",{children:[n.kind,": ",n.enabled?"✅":"❌",n.muted?" (Muted)":" (Unmuted)"]},n.id))}):"No local stream",C.jsx("h4",{children:"Remote Streams:"}),Array.from(t.entries()).map(([n,{stream:r,username:i}])=>C.jsxs("div",{children:[C.jsxs("strong",{children:[i,":"]}),r.getTracks().map(o=>C.jsxs("div",{children:[o.kind,": ",o.enabled?"✅":"❌",o.muted?" (Muted)":" (Unmuted)"]},o.id))]},n))]});function Ore(){const e=Oi(),t=ua(),n=x.useRef(),r=x.useRef(""),i=x.useRef(),[o,a]=x.useState(""),[c,u]=x.useState([]),{RoomId:p}=M6(),[h]=Px(),g=h.get("queryRoom"),[v,w]=x.useState(),[S,b]=x.useState([]),[P,R]=x.useState({}),[_,k]=x.useState(["js","javascript"]),[E,N]=x.useState(),[F,B]=x.useState(!1),U=x.useRef();x.useRef();const G=x.useRef(),[Q,ie]=x.useState({socketId:"string",role:"member",username:"",email:""}),[Y,z]=x.useState({active:!1,Header:"",Message:"",success:null,error:null,timeout:0}),[V,O]=x.useState(!1),X=x.useRef(null),[oe,I]=x.useState(),j=x.useRef(null),K=x.useRef(null),Z=x.useRef(null),[xe,ae]=x.useState(!0),pe=Ge=>{Ge=="owner"||Ge=="cohost"?(B(!0),n.current&&n.current.setOption("readOnly",!1),console.log("editor=>",n.current)):n.current&&n.current.setOption("readOnly","nocursor")};x.useEffect(()=>{var ye;if((e==null?void 0:e.state)==null){console.log("emtpy"),t("/",{state:{RoomId:g}});return}const{username:Ge,email:ot,role:kt}=e.state,Me=((ye=e==null?void 0:e.state)==null?void 0:ye.RoomId)||g;async function ve(){n.current=sz.fromTextArea(document.getElementById("codeeditor"),{mode:{name:`${_[0]=="js"?"javascript":"text/x-javascript"}`,json:!0},theme:"dracula",autoCloseBrackets:!0,autoclosetags:!0,lineNumbers:!0,autoRefresh:!0,dragDrop:!0,autofocus:!0,extraKeys:{"Ctrl-Space":"autocomplete"}})}return(async()=>{await ve(),i.current=await Xz({RoomId:Me}),i.current.on("connect_error",Ce=>In.error(`Hello ${Ce.message}`)),i.current.on("connect_failed",Ce=>In.error("Not Able to connect right now!")),console.log("Socket current=>",i.current);let qe;n.current&&n.current.on("change",(Ce,Ue)=>{r.current=Ce.getValue(),clearTimeout(qe),ae(!1),qe=setTimeout(()=>{Ue.origin!="setValue"&&(ae(!0),console.log("emitting code"),i.current.emit("Code Change",{RoomId:Me,language:_,username:Ge,code:Ce.getValue()},()=>{ae(!1)}))},800),ae(!1)}),i.current.on("connect",()=>{console.log("Connected to the Server!"),i.current.emit("UserJoin",{RoomId:Me,username:Ge,email:ot,role:kt},Ce=>{I(Ce),j.current=EP(Ce,j),console.log(j.current)}),i.current.on("Joined",({client:Ce,socketId:Ue,username:Ie,role:bt,email:ne})=>{var De;console.log(Ce),b(Ce),R(Ke=>({...Ke,...Ce.reduce((Ne,{socketId:ut,email:Le})=>(Ne[ut]=Le,Ne),{}),[Ue]:ne})),((De=i.current)==null?void 0:De.id)==Ue?(In.success("You joined a Room!"),pe(bt),N(bt)):In.success(`${Ie} Joined the Room!`),r.current&&console.log(r.current)}),i.current.on("ROLE",({role:Ce,access:Ue})=>{ae(!0),pe(Ce),N(Ce),ae(!1)}),i.current.on("Userleave",({User:Ce,socketId:Ue})=>{console.log(`${Ce.username} left...`),b(Ie=>Ie.filter(bt=>bt.socketId!==Ue)),console.log(S),In.error(`${Ce.username} left the room!`)}),i.current.on("Code Sync",Ce=>{console.log("Got some changes..."),console.log(Ce),w(Ce.username),n.current&&(n.current.setValue(Ce.code),n.current.setCursor(n.current.lineCount(),0))}),i.current.on("Result",({result:Ce})=>{console.log(Ce),In(Ce.output||Ce.error)}),i.current.on("message receive",({message:Ce,sender:Ue,username:Ie})=>{console.log("client received",Ce);const bt=new Date;u(ne=>{if(ne.length>0&&ne[ne.length-1].sender===Ue){const De=ne[ne.length-1],Ke={...De,message:`${De.message}
${Ce}`,time:[bt.getHours(),bt.getMinutes()]};return[...ne.slice(0,-1),Ke]}else return[...ne,{sender:Ue,message:Ce,username:Ie,time:[bt.getHours(),bt.getMinutes()]}]}),console.log(c)}),i.current.on("PROMOTED",({role:Ce})=>{console.log("PROMOTED"),pe(Ce),N(Ce),Ce=="cohost"&&In.success("Promoted to Co-Host!")}),i.current.on("Kicked",({email:Ce,socketId:Ue})=>{var Ie,bt;((Ie=i.current)==null?void 0:Ie.id)==Ue&&(In.error("You have been Kicked Out!"),(bt=i.current)==null||bt.disconnect(),z({Header:"You have been kicked out from the Room",Message:"You can Join the Room after 1 Hour.",error:"Leave Room!",success:null,timeout:15e3,active:!0}))})}),i.current.on("connection_failed",()=>{In.error("No Connection established!")})})(),console.log("role=>",kt),()=>{i.current.disconnect(),i.current.close(),i.current.off("Joined")}},[]),x.useEffect(()=>{switch(console.log("ModeChange",_[0]),_[0]){case"js":n==null||n.current.setValue("let text = `Hello World!`; \n console.log(text)");break;case"java":n==null||n.current.setValue(`/* HelloWorld.java
 */

public class HelloWorld
{
…rgs) {
		System.out.println('Hello World!');
	}
}`)}},[_]),x.useEffect(()=>{var Ge;console.log("working...."),(Ge=G.current)==null||Ge.scrollIntoView({behavior:"smooth"})},[c]);const we=Ge=>{if(Ge.preventDefault(),o==""){In.error("Message field cannot be empty!");return}i.current.emit("chat message",{RoomId:p,message:o,sender:i.current.id,username:e.state.username}),console.log("emitting..."),a("")},se=()=>{t("/Home"),In.dismiss()},ee=async()=>{In.success("Room ID copied!"),await navigator.clipboard.writeText(p)},ue=async Ge=>{Ge.preventDefault(),O(!0),console.log(r.current),i.current.emit("Compile",{code:r.current,RoomId:p,language:_[0],input:""}),setTimeout(()=>{O(!1)},5e3)},he=Ge=>{var kt;const ot=(kt=Ge.target.closest("[data-target-user]"))==null?void 0:kt.getAttribute("data-target-user");if(console.log("Debug:-->Trying to promote"),ot)E=="owner"&&F&&i.current.emit("PROMOTE",{RoomId:p,socketId:ot,role:E});else return},Ee=Ge=>{var Me,ve;let ot=(Me=Ge.target.closest("[data-target-user]"))==null?void 0:Me.getAttribute("data-target-user"),kt=(ve=Ge.target.closest("[data-target-name]"))==null?void 0:ve.getAttribute("data-target-name");console.log(kt),console.log(ot),P&&P[ot]&&(console.log("rece"),z({Header:`You want to kick ${kt} from the room?`,Message:`${kt} will not be able to join again for 1 hour.`,error:"Cancel",success:"Kick",active:!0,successFunction:()=>i.current.emit("Kick",{RoomId:p,socketId:ot,role:E,email:P[ot]}),errorFunction:()=>{}}))},ge=()=>{i.current.emit("getRtpCapabilities",{RoomId:p},Ge=>{console.log(`Router RTPCapabilities=>${JSON.stringify(Ge)}`),I(Ge),EP(Ge,j),Oe(!0)})},Oe=async Ge=>{i.current.emit("createWebRtcTransport",{sender:Ge},async({params:ot})=>{var kt;if(console.log(ot),ot!=null&&ot.error){console.log(ot.error);return}if(console.log("params=>",ot),console.log(j.current),j.current&&(K.current=await j.current.createSendTransport({...ot,iceServers:[]})),console.log(Z.current),K!=null&&K.current&&(K.current.on("connect",({dtlsParameters:Me},ve,me)=>{console.log(Me),i.current.emit("transport-connect",{transportId:K.current.id,dtlsParameters:Me},ye=>{ye.error?(console.log("Got Some Transport Error=>",ye.error),me(ye.error)):(console.log("Transport connected successfully"),ve())})}),K.current.on("dtlsstatechange",Me=>{console.log(`dtlsStateChange to :${Me}`),Me==="closed"&&K.current.close()}),K.current.on("connectionstatechange",Me=>{console.log(`Send transport connection state changed to ${Me}`),Me==="connected"?console.log("Send transport is connected."):(Me==="failed"||Me==="disconnected"||Me==="closed")&&console.error(`Send transport connection state changed to ${Me}`)}),K==null||K.current.on("produce",async(Me,ve,me)=>{console.log(Me);try{await i.current.emit("transport-produce",{kind:Me.kind,rtpParameters:Me.rtpParameters,appData:Me.appData},({id:ye})=>{ve({id:ye})})}catch(ye){me(ye)}}),X.current)){const Me=(kt=X.current)==null?void 0:kt.srcObject;console.log(X);const ve=Me.getVideoTracks()[0];console.log(ve),console.log("--------producing-----------"),Z.current=await K.current.produce({track:ve}),console.log(Z.current.id)}})};x.useEffect(()=>{console.log(`Last edit by ${v}`)},[v]);const{localStream:$e,remoteStreams:We,remoteStates:Rt,isAudioEnabled:st,isVideoEnabled:ht,toggleAudio:xt,toggleVideo:At,startStreaming:je}=Lre({socket:i,roomId:p,username:e.state.username});x.useEffect(()=>{console.log("debug- localStreams:",$e),console.log("debug- remoteStreams:",We)},[We,$e]);const jt=async()=>{try{await je(),In.success("Video call started")}catch{In.error("Failed to start video call")}};return C.jsxs(C.Fragment,{children:[C.jsx(PO,{position:"top-right"}),C.jsxs("div",{className:"col-span-2 fixed top-0 left-0 right-0 backdrop-blur-sm border-bottom bg-background backdrop-blur flex items-center justify-between border-t bg-background px-4 ",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(oJ,{access:F,currentUser:Q,role:E,members:S,handleKick:Ee,handlePromote:he}),xe?C.jsx(tJ,{color:"#d8e335",className:"animate-spin",absoluteStrokeWidth:!0}):C.jsx(QZ,{color:"#33cc1e",absoluteStrokeWidth:!0}),C.jsx("div",{className:"text-sm font-medium",children:v&&C.jsxs("p",{children:["Last edit by ",v]})})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Gt,{variant:"ghost",size:"icon",children:C.jsx(SK,{className:"h-4 w-4"})}),C.jsx(Gt,{variant:"ghost",size:"icon",children:C.jsx(xK,{className:"h-4 w-4"})}),C.jsx(Gt,{variant:"ghost",size:"icon",children:C.jsx(yK,{className:"h-4 w-4"})})]})]}),C.jsx("div",{className:"min-h-screen w-full bg-background pt-10",children:C.jsxs(Uq,{direction:"horizontal",style:{height:"100%"},children:[C.jsx(ek,{maxSize:30,defaultSize:20,minSize:17,children:C.jsxs("div",{className:"flex flex-col border-r bg-background p-4",children:[C.jsx("div",{className:"selectDiv",children:C.jsx(zl,{content:`${F?"Choose Language!":"You Don't have Access!"}`,placement:"top",children:C.jsxs(BX,{disabled:!F,defaultValue:"javascript",onValueChange:Ge=>{var ot;k([(ot=U.current)==null?void 0:ot.options[U.current.selectedIndex].getAttribute("data-name"),Ge])},ref:U,children:[C.jsx(sI,{className:"w-[180px]",children:C.jsx($X,{placeholder:"Theme"})}),C.jsxs(lI,{children:[C.jsx(zd,{value:"javascript","data-name":"js",children:"javascript"}),C.jsx(zd,{value:"java","data-name":"java",children:"Java"}),C.jsx(zd,{value:"clike","data-name":"cpp",children:"C++"}),C.jsx(zd,{value:"python","data-name":"py",children:"Python"})]})]})})}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("h2",{className:"text-lg font-medium",children:"Chat"}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx(Gt,{variant:"ghost",size:"icon",children:C.jsx(bK,{className:"h-4 w-4"})}),C.jsx(Gt,{variant:"ghost",size:"icon",children:C.jsx(wK,{className:"h-4 w-4"})})]})]}),C.jsx("div",{className:"flex-1 overflow-auto",children:C.jsxs("div",{className:"Chatbox",children:[C.jsx(Y1,{className:"msgBox h-60 overflow-x-hidden flex flex-col w-full gap-2 py-3",ref:G,children:C.jsx(Are,{messages:c,socket:i})}),C.jsx("form",{className:"chat",children:C.jsxs("div",{className:"textbox flex",children:[C.jsx(Fr,{type:"text",className:"message w-full round bg-none",onChange:Ge=>{a(Ge.target.value)},placeholder:"Type Message...",value:o}),C.jsx(zl,{placement:"top",content:"Message Send",children:C.jsx("label",{htmlFor:"send",className:"active:bg-muted/9 hover:bg-muted sendicon",children:C.jsx(q8,{size:"30px"})})}),C.jsx("input",{type:"submit",id:"send",className:"send",onClick:we,value:"send"}),C.jsx(zl,{placement:"top",content:"Share File",children:C.jsx("label",{htmlFor:"file",className:"sendicon",onClick:ge,children:C.jsx(G8,{size:"30px",fontSize:"100"})})}),C.jsx("input",{type:"button",className:"file send",id:"file"})]})})]})}),C.jsx(XG,{value:Y}),C.jsxs("div",{className:"controls",style:{gap:"10px",marginBottom:10},children:[C.jsx(zl,{placement:"top",content:"Leave Room",children:C.jsx("label",{htmlFor:"leave",className:"error",children:C.jsx(Z8,{})})}),C.jsx(zl,{placement:"top",content:"Copy Room Code",children:C.jsx("label",{htmlFor:"copy",className:"success",children:C.jsx(Q8,{})})}),C.jsx(zl,{placement:"top",content:`${F?V?"Compiling!":"Run!":"You don't have Access to Run!"}`,children:C.jsx("label",{htmlFor:"run",className:`success prevent ${(!F||V)&&"disabled"}`,children:V?C.jsx(Y8,{fontWeight:700}):C.jsx(X8,{})})}),C.jsx("input",{id:"run",type:"button",className:`success prevent ${(!F||V)&&"disabled"}`,onClick:ue,disabled:!F||V,value:"RUN"}),C.jsx("input",{id:"copy",type:"button",className:"success",onClick:ee,value:"Copy Room Id"}),C.jsx("input",{id:"leave",type:"button",className:"error",onClick:se,value:"Leave Room"})]}),C.jsx(Gt,{onClick:jt,children:"Start Video Call"})]})}),C.jsx(Vq,{withHandle:!0}),C.jsx(ek,{children:C.jsx("textarea",{disabled:F,id:"codeeditor"})})]})}),C.jsx(Dre,{localStream:$e,remoteStreams:We,remoteStates:Rt,onToggleAudio:xt,onToggleVideo:At,isAudioEnabled:st,isVideoEnabled:ht,username:e.state.username}),C.jsx(Mre,{localStream:$e,remoteStreams:We})]})}const Are=({messages:e,socket:t})=>{let n=new RegExp(/([\w+]+\:\/\/)?([\w\d-]+\.)*[\w-]+[\.\:]\w+([\/\?\=\&\#\.]?[\w-]+)*\/?/gm);const r=x.useRef(null);x.useEffect(()=>{i()},[e]);const i=()=>{var o;(o=r.current)==null||o.scrollIntoView({behavior:"smooth"})};return C.jsx(C.Fragment,{children:C.jsx("div",{className:"flex-1 space-y-4",children:C.jsxs(Z3,{children:[e.map((o,a)=>{let c=o.sender==t.current.id;return C.jsx(vS.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{type:"spring",stiffness:500,damping:50},className:`flex ${c?"justify-end":"justify-start"} gap-2`,children:C.jsxs("div",{className:`msgDiv bg-muted ${c&&"yourMsgDiv"}`,name:o.sender,children:[C.jsxs("div",{className:`flex sender ${c&&"otherText"}`,children:[C.jsx("span",{className:`${c?"you":o.username}`,children:c?"You":o.username}),C.jsx("span",{className:"texttime",children:`${o.time[0]}:${o.time[1]}`})]}),o.message.match(n)?C.jsx("a",{href:o.message.startsWith("http://")||o.message.startsWith("https://")?o.message:`http://${o.message}`,target:"_blank",className:`msgText ${c&&"otherText"} linkmsg`,children:o.message}):C.jsx("div",{className:`msgText ${c&&"otherText"}`,dangerouslySetInnerHTML:{__html:o.message.replace(/\n/g,"<br />")}})]},a)},a)}),C.jsx("div",{className:"last-message",ref:r})]})})})};function J3(e,t){return function(){return e.apply(t,arguments)}}const{toString:Nre}=Object.prototype,{getPrototypeOf:k_}=Object,Qv=(e=>t=>{const n=Nre.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ms=e=>(e=e.toLowerCase(),t=>Qv(t)===e),Zv=e=>t=>typeof t===e,{isArray:Nu}=Array,$f=Zv("undefined");function Ire(e){return e!==null&&!$f(e)&&e.constructor!==null&&!$f(e.constructor)&&ii(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const eF=ms("ArrayBuffer");function jre(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&eF(e.buffer),t}const Fre=Zv("string"),ii=Zv("function"),tF=Zv("number"),Jv=e=>e!==null&&typeof e=="object",Bre=e=>e===!0||e===!1,_m=e=>{if(Qv(e)!=="object")return!1;const t=k_(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$re=ms("Date"),zre=ms("File"),Ure=ms("Blob"),Vre=ms("FileList"),Hre=e=>Jv(e)&&ii(e.pipe),Wre=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ii(e.append)&&((t=Qv(e))==="formdata"||t==="object"&&ii(e.toString)&&e.toString()==="[object FormData]"))},Kre=ms("URLSearchParams"),Gre=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function bp(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Nu(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let c;for(r=0;r<a;r++)c=o[r],t.call(null,e[c],c,e)}}function nF(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const rF=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iF=e=>!$f(e)&&e!==rF;function yS(){const{caseless:e}=iF(this)&&this||{},t={},n=(r,i)=>{const o=e&&nF(t,i)||i;_m(t[o])&&_m(r)?t[o]=yS(t[o],r):_m(r)?t[o]=yS({},r):Nu(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&bp(arguments[r],n);return t}const qre=(e,t,n,{allOwnKeys:r}={})=>(bp(t,(i,o)=>{n&&ii(i)?e[o]=J3(i,n):e[o]=i},{allOwnKeys:r}),e),Yre=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Xre=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Qre=(e,t,n,r)=>{let i,o,a;const c={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],(!r||r(a,e,t))&&!c[a]&&(t[a]=e[a],c[a]=!0);e=n!==!1&&k_(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Zre=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Jre=e=>{if(!e)return null;if(Nu(e))return e;let t=e.length;if(!tF(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},eie=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&k_(Uint8Array)),tie=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},nie=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},rie=ms("HTMLFormElement"),iie=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),TD=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),sie=ms("RegExp"),sF=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};bp(n,(i,o)=>{let a;(a=t(i,o,e))!==!1&&(r[o]=a||i)}),Object.defineProperties(e,r)},oie=e=>{sF(e,(t,n)=>{if(ii(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ii(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},aie=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Nu(e)?r(e):r(String(e).split(t)),n},lie=()=>{},cie=(e,t)=>(e=+e,Number.isFinite(e)?e:t),y0="abcdefghijklmnopqrstuvwxyz",ED="0123456789",oF={DIGIT:ED,ALPHA:y0,ALPHA_DIGIT:y0+y0.toUpperCase()+ED},uie=(e=16,t=oF.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function die(e){return!!(e&&ii(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const fie=e=>{const t=new Array(10),n=(r,i)=>{if(Jv(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=Nu(r)?[]:{};return bp(r,(a,c)=>{const u=n(a,i+1);!$f(u)&&(o[c]=u)}),t[i]=void 0,o}}return r};return n(e,0)},pie=ms("AsyncFunction"),hie=e=>e&&(Jv(e)||ii(e))&&ii(e.then)&&ii(e.catch),fe={isArray:Nu,isArrayBuffer:eF,isBuffer:Ire,isFormData:Wre,isArrayBufferView:jre,isString:Fre,isNumber:tF,isBoolean:Bre,isObject:Jv,isPlainObject:_m,isUndefined:$f,isDate:$re,isFile:zre,isBlob:Ure,isRegExp:sie,isFunction:ii,isStream:Hre,isURLSearchParams:Kre,isTypedArray:eie,isFileList:Vre,forEach:bp,merge:yS,extend:qre,trim:Gre,stripBOM:Yre,inherits:Xre,toFlatObject:Qre,kindOf:Qv,kindOfTest:ms,endsWith:Zre,toArray:Jre,forEachEntry:tie,matchAll:nie,isHTMLForm:rie,hasOwnProperty:TD,hasOwnProp:TD,reduceDescriptors:sF,freezeMethods:oie,toObjectSet:aie,toCamelCase:iie,noop:lie,toFiniteNumber:cie,findKey:nF,global:rF,isContextDefined:iF,ALPHABET:oF,generateString:uie,isSpecCompliantForm:die,toJSONObject:fie,isAsyncFn:pie,isThenable:hie};function St(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}fe.inherits(St,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const aF=St.prototype,lF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{lF[e]={value:e}});Object.defineProperties(St,lF);Object.defineProperty(aF,"isAxiosError",{value:!0});St.from=(e,t,n,r,i,o)=>{const a=Object.create(aF);return fe.toFlatObject(e,a,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),St.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const mie=null;function wS(e){return fe.isPlainObject(e)||fe.isArray(e)}function cF(e){return fe.endsWith(e,"[]")?e.slice(0,-2):e}function PD(e,t,n){return e?e.concat(t).map(function(i,o){return i=cF(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function gie(e){return fe.isArray(e)&&!e.some(wS)}const vie=fe.toFlatObject(fe,{},null,function(t){return/^is[A-Z]/.test(t)});function ey(e,t,n){if(!fe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=fe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,P){return!fe.isUndefined(P[b])});const r=n.metaTokens,i=n.visitor||h,o=n.dots,a=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(t);if(!fe.isFunction(i))throw new TypeError("visitor must be a function");function p(S){if(S===null)return"";if(fe.isDate(S))return S.toISOString();if(!u&&fe.isBlob(S))throw new St("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(S)||fe.isTypedArray(S)?u&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function h(S,b,P){let R=S;if(S&&!P&&typeof S=="object"){if(fe.endsWith(b,"{}"))b=r?b:b.slice(0,-2),S=JSON.stringify(S);else if(fe.isArray(S)&&gie(S)||(fe.isFileList(S)||fe.endsWith(b,"[]"))&&(R=fe.toArray(S)))return b=cF(b),R.forEach(function(k,E){!(fe.isUndefined(k)||k===null)&&t.append(a===!0?PD([b],E,o):a===null?b:b+"[]",p(k))}),!1}return wS(S)?!0:(t.append(PD(P,b,o),p(S)),!1)}const g=[],v=Object.assign(vie,{defaultVisitor:h,convertValue:p,isVisitable:wS});function w(S,b){if(!fe.isUndefined(S)){if(g.indexOf(S)!==-1)throw Error("Circular reference detected in "+b.join("."));g.push(S),fe.forEach(S,function(R,_){(!(fe.isUndefined(R)||R===null)&&i.call(t,R,fe.isString(_)?_.trim():_,b,v))===!0&&w(R,b?b.concat(_):[_])}),g.pop()}}if(!fe.isObject(e))throw new TypeError("data must be an object");return w(e),t}function kD(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function D_(e,t){this._pairs=[],e&&ey(e,this,t)}const uF=D_.prototype;uF.append=function(t,n){this._pairs.push([t,n])};uF.toString=function(t){const n=t?function(r){return t.call(this,r,kD)}:kD;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function yie(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dF(e,t,n){if(!t)return e;const r=n&&n.encode||yie,i=n&&n.serialize;let o;if(i?o=i(t,n):o=fe.isURLSearchParams(t)?t.toString():new D_(t,n).toString(r),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class wie{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){fe.forEach(this.handlers,function(r){r!==null&&t(r)})}}const DD=wie,fF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bie=typeof URLSearchParams<"u"?URLSearchParams:D_,Sie=typeof FormData<"u"?FormData:null,xie=typeof Blob<"u"?Blob:null,_ie={isBrowser:!0,classes:{URLSearchParams:bie,FormData:Sie,Blob:xie},protocols:["http","https","file","blob","url","data"]},pF=typeof window<"u"&&typeof document<"u",Cie=(e=>pF&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),Rie=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Tie=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pF,hasStandardBrowserEnv:Cie,hasStandardBrowserWebWorkerEnv:Rie},Symbol.toStringTag,{value:"Module"})),ts={...Tie,..._ie};function Eie(e,t){return ey(e,new ts.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return ts.isNode&&fe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function Pie(e){return fe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function kie(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function hF(e){function t(n,r,i,o){let a=n[o++];if(a==="__proto__")return!0;const c=Number.isFinite(+a),u=o>=n.length;return a=!a&&fe.isArray(i)?i.length:a,u?(fe.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!c):((!i[a]||!fe.isObject(i[a]))&&(i[a]=[]),t(n,r,i[a],o)&&fe.isArray(i[a])&&(i[a]=kie(i[a])),!c)}if(fe.isFormData(e)&&fe.isFunction(e.entries)){const n={};return fe.forEachEntry(e,(r,i)=>{t(Pie(r),i,n,0)}),n}return null}function Die(e,t,n){if(fe.isString(e))try{return(t||JSON.parse)(e),fe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const L_={transitional:fF,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=fe.isObject(t);if(o&&fe.isHTMLForm(t)&&(t=new FormData(t)),fe.isFormData(t))return i&&i?JSON.stringify(hF(t)):t;if(fe.isArrayBuffer(t)||fe.isBuffer(t)||fe.isStream(t)||fe.isFile(t)||fe.isBlob(t))return t;if(fe.isArrayBufferView(t))return t.buffer;if(fe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Eie(t,this.formSerializer).toString();if((c=fe.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return ey(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),Die(t)):t}],transformResponse:[function(t){const n=this.transitional||L_.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&fe.isString(t)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(c){if(a)throw c.name==="SyntaxError"?St.from(c,St.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ts.classes.FormData,Blob:ts.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],e=>{L_.headers[e]={}});const M_=L_,Lie=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mie=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||t[n]&&Lie[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},LD=Symbol("internals");function Md(e){return e&&String(e).trim().toLowerCase()}function Cm(e){return e===!1||e==null?e:fe.isArray(e)?e.map(Cm):String(e)}function Oie(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Aie=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function w0(e,t,n,r,i){if(fe.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!fe.isString(t)){if(fe.isString(r))return t.indexOf(r)!==-1;if(fe.isRegExp(r))return r.test(t)}}function Nie(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Iie(e,t){const n=fe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,a){return this[r].call(this,t,i,o,a)},configurable:!0})})}class ty{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(c,u,p){const h=Md(u);if(!h)throw new Error("header name must be a non-empty string");const g=fe.findKey(i,h);(!g||i[g]===void 0||p===!0||p===void 0&&i[g]!==!1)&&(i[g||u]=Cm(c))}const a=(c,u)=>fe.forEach(c,(p,h)=>o(p,h,u));return fe.isPlainObject(t)||t instanceof this.constructor?a(t,n):fe.isString(t)&&(t=t.trim())&&!Aie(t)?a(Mie(t),n):t!=null&&o(n,t,r),this}get(t,n){if(t=Md(t),t){const r=fe.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return Oie(i);if(fe.isFunction(n))return n.call(this,i,r);if(fe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Md(t),t){const r=fe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||w0(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(a){if(a=Md(a),a){const c=fe.findKey(r,a);c&&(!n||w0(r,r[c],c,n))&&(delete r[c],i=!0)}}return fe.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||w0(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return fe.forEach(this,(i,o)=>{const a=fe.findKey(r,o);if(a){n[a]=Cm(i),delete n[o];return}const c=t?Nie(o):String(o).trim();c!==o&&delete n[o],n[c]=Cm(i),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return fe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&fe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[LD]=this[LD]={accessors:{}}).accessors,i=this.prototype;function o(a){const c=Md(a);r[c]||(Iie(i,a),r[c]=!0)}return fe.isArray(t)?t.forEach(o):o(t),this}}ty.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(ty.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});fe.freezeMethods(ty);const $s=ty;function b0(e,t){const n=this||M_,r=t||n,i=$s.from(r.headers);let o=r.data;return fe.forEach(e,function(c){o=c.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function mF(e){return!!(e&&e.__CANCEL__)}function Sp(e,t,n){St.call(this,e??"canceled",St.ERR_CANCELED,t,n),this.name="CanceledError"}fe.inherits(Sp,St,{__CANCEL__:!0});function jie(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new St("Request failed with status code "+n.status,[St.ERR_BAD_REQUEST,St.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Fie=ts.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];fe.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),fe.isString(r)&&a.push("path="+r),fe.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Bie(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function $ie(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function gF(e,t){return e&&!Bie(t)?$ie(e,t):t}const zie=ts.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let a=o;return t&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(a){const c=fe.isString(a)?i(a):a;return c.protocol===r.protocol&&c.host===r.host}}():function(){return function(){return!0}}();function Uie(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Vie(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,a;return t=t!==void 0?t:1e3,function(u){const p=Date.now(),h=r[o];a||(a=p),n[i]=u,r[i]=p;let g=o,v=0;for(;g!==i;)v+=n[g++],g=g%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),p-a<t)return;const w=h&&p-h;return w?Math.round(v*1e3/w):void 0}}function MD(e,t){let n=0;const r=Vie(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-n,u=r(c),p=o<=a;n=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&p?(a-o)/u:void 0,event:i};h[t?"download":"upload"]=!0,e(h)}}const Hie=typeof XMLHttpRequest<"u",Wie=Hie&&function(e){return new Promise(function(n,r){let i=e.data;const o=$s.from(e.headers).normalize();let{responseType:a,withXSRFToken:c}=e,u;function p(){e.cancelToken&&e.cancelToken.unsubscribe(u),e.signal&&e.signal.removeEventListener("abort",u)}let h;if(fe.isFormData(i)){if(ts.hasStandardBrowserEnv||ts.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((h=o.getContentType())!==!1){const[b,...P]=h?h.split(";").map(R=>R.trim()).filter(Boolean):[];o.setContentType([b||"multipart/form-data",...P].join("; "))}}let g=new XMLHttpRequest;if(e.auth){const b=e.auth.username||"",P=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(b+":"+P))}const v=gF(e.baseURL,e.url);g.open(e.method.toUpperCase(),dF(v,e.params,e.paramsSerializer),!0),g.timeout=e.timeout;function w(){if(!g)return;const b=$s.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:b,config:e,request:g};jie(function(k){n(k),p()},function(k){r(k),p()},R),g=null}if("onloadend"in g?g.onloadend=w:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(w)},g.onabort=function(){g&&(r(new St("Request aborted",St.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new St("Network Error",St.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let P=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const R=e.transitional||fF;e.timeoutErrorMessage&&(P=e.timeoutErrorMessage),r(new St(P,R.clarifyTimeoutError?St.ETIMEDOUT:St.ECONNABORTED,e,g)),g=null},ts.hasStandardBrowserEnv&&(c&&fe.isFunction(c)&&(c=c(e)),c||c!==!1&&zie(v))){const b=e.xsrfHeaderName&&e.xsrfCookieName&&Fie.read(e.xsrfCookieName);b&&o.set(e.xsrfHeaderName,b)}i===void 0&&o.setContentType(null),"setRequestHeader"in g&&fe.forEach(o.toJSON(),function(P,R){g.setRequestHeader(R,P)}),fe.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),a&&a!=="json"&&(g.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&g.addEventListener("progress",MD(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",MD(e.onUploadProgress)),(e.cancelToken||e.signal)&&(u=b=>{g&&(r(!b||b.type?new Sp(null,e,g):b),g.abort(),g=null)},e.cancelToken&&e.cancelToken.subscribe(u),e.signal&&(e.signal.aborted?u():e.signal.addEventListener("abort",u)));const S=Uie(v);if(S&&ts.protocols.indexOf(S)===-1){r(new St("Unsupported protocol "+S+":",St.ERR_BAD_REQUEST,e));return}g.send(i||null)})},bS={http:mie,xhr:Wie};fe.forEach(bS,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const OD=e=>`- ${e}`,Kie=e=>fe.isFunction(e)||e===null||e===!1,vF={getAdapter:e=>{e=fe.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let a;if(r=n,!Kie(n)&&(r=bS[(a=String(n)).toLowerCase()],r===void 0))throw new St(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+o]=r}if(!r){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(OD).join(`
`):" "+OD(o[0]):"as no adapter specified";throw new St("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:bS};function S0(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sp(null,e)}function AD(e){return S0(e),e.headers=$s.from(e.headers),e.data=b0.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vF.getAdapter(e.adapter||M_.adapter)(e).then(function(r){return S0(e),r.data=b0.call(e,e.transformResponse,r),r.headers=$s.from(r.headers),r},function(r){return mF(r)||(S0(e),r&&r.response&&(r.response.data=b0.call(e,e.transformResponse,r.response),r.response.headers=$s.from(r.response.headers))),Promise.reject(r)})}const ND=e=>e instanceof $s?e.toJSON():e;function vu(e,t){t=t||{};const n={};function r(p,h,g){return fe.isPlainObject(p)&&fe.isPlainObject(h)?fe.merge.call({caseless:g},p,h):fe.isPlainObject(h)?fe.merge({},h):fe.isArray(h)?h.slice():h}function i(p,h,g){if(fe.isUndefined(h)){if(!fe.isUndefined(p))return r(void 0,p,g)}else return r(p,h,g)}function o(p,h){if(!fe.isUndefined(h))return r(void 0,h)}function a(p,h){if(fe.isUndefined(h)){if(!fe.isUndefined(p))return r(void 0,p)}else return r(void 0,h)}function c(p,h,g){if(g in t)return r(p,h);if(g in e)return r(void 0,p)}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c,headers:(p,h)=>i(ND(p),ND(h),!0)};return fe.forEach(Object.keys(Object.assign({},e,t)),function(h){const g=u[h]||i,v=g(e[h],t[h],h);fe.isUndefined(v)&&g!==c||(n[h]=v)}),n}const yF="1.6.5",O_={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{O_[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ID={};O_.transitional=function(t,n,r){function i(o,a){return"[Axios v"+yF+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,c)=>{if(t===!1)throw new St(i(a," has been removed"+(n?" in "+n:"")),St.ERR_DEPRECATED);return n&&!ID[a]&&(ID[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,a,c):!0}};function Gie(e,t,n){if(typeof e!="object")throw new St("options must be an object",St.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const c=e[o],u=c===void 0||a(c,o,e);if(u!==!0)throw new St("option "+o+" must be "+u,St.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new St("Unknown option "+o,St.ERR_BAD_OPTION)}}const SS={assertOptions:Gie,validators:O_},_o=SS.validators;class Pg{constructor(t){this.defaults=t,this.interceptors={request:new DD,response:new DD}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=vu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&SS.assertOptions(r,{silentJSONParsing:_o.transitional(_o.boolean),forcedJSONParsing:_o.transitional(_o.boolean),clarifyTimeoutError:_o.transitional(_o.boolean)},!1),i!=null&&(fe.isFunction(i)?n.paramsSerializer={serialize:i}:SS.assertOptions(i,{encode:_o.function,serialize:_o.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&fe.merge(o.common,o[n.method]);o&&fe.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),n.headers=$s.concat(a,o);const c=[];let u=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(u=u&&b.synchronous,c.unshift(b.fulfilled,b.rejected))});const p=[];this.interceptors.response.forEach(function(b){p.push(b.fulfilled,b.rejected)});let h,g=0,v;if(!u){const S=[AD.bind(this),void 0];for(S.unshift.apply(S,c),S.push.apply(S,p),v=S.length,h=Promise.resolve(n);g<v;)h=h.then(S[g++],S[g++]);return h}v=c.length;let w=n;for(g=0;g<v;){const S=c[g++],b=c[g++];try{w=S(w)}catch(P){b.call(this,P);break}}try{h=AD.call(this,w)}catch(S){return Promise.reject(S)}for(g=0,v=p.length;g<v;)h=h.then(p[g++],p[g++]);return h}getUri(t){t=vu(this.defaults,t);const n=gF(t.baseURL,t.url);return dF(n,t.params,t.paramsSerializer)}}fe.forEach(["delete","get","head","options"],function(t){Pg.prototype[t]=function(n,r){return this.request(vu(r||{},{method:t,url:n,data:(r||{}).data}))}});fe.forEach(["post","put","patch"],function(t){function n(r){return function(o,a,c){return this.request(vu(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Pg.prototype[t]=n(),Pg.prototype[t+"Form"]=n(!0)});const Rm=Pg;class A_{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(c=>{r.subscribe(c),o=c}).then(i);return a.cancel=function(){r.unsubscribe(o)},a},t(function(o,a,c){r.reason||(r.reason=new Sp(o,a,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new A_(function(i){t=i}),cancel:t}}}const qie=A_;function Yie(e){return function(n){return e.apply(null,n)}}function Xie(e){return fe.isObject(e)&&e.isAxiosError===!0}const xS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xS).forEach(([e,t])=>{xS[t]=e});const Qie=xS;function wF(e){const t=new Rm(e),n=J3(Rm.prototype.request,t);return fe.extend(n,Rm.prototype,t,{allOwnKeys:!0}),fe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return wF(vu(e,i))},n}const Tn=wF(M_);Tn.Axios=Rm;Tn.CanceledError=Sp;Tn.CancelToken=qie;Tn.isCancel=mF;Tn.VERSION=yF;Tn.toFormData=ey;Tn.AxiosError=St;Tn.Cancel=Tn.CanceledError;Tn.all=function(t){return Promise.all(t)};Tn.spread=Yie;Tn.isAxiosError=Xie;Tn.mergeConfig=vu;Tn.AxiosHeaders=$s;Tn.formToJSON=e=>hF(fe.isHTMLForm(e)?new FormData(e):e);Tn.getAdapter=vF.getAdapter;Tn.HttpStatusCode=Qie;Tn.default=Tn;const yu=Tn;let Zh;const Zie=new Uint8Array(16);function Jie(){if(!Zh&&(Zh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Zh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zh(Zie)}const Gn=[];for(let e=0;e<256;++e)Gn.push((e+256).toString(16).slice(1));function ese(e,t=0){return Gn[e[t+0]]+Gn[e[t+1]]+Gn[e[t+2]]+Gn[e[t+3]]+"-"+Gn[e[t+4]]+Gn[e[t+5]]+"-"+Gn[e[t+6]]+Gn[e[t+7]]+"-"+Gn[e[t+8]]+Gn[e[t+9]]+"-"+Gn[e[t+10]]+Gn[e[t+11]]+Gn[e[t+12]]+Gn[e[t+13]]+Gn[e[t+14]]+Gn[e[t+15]]}const tse=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jD={randomUUID:tse};function nse(e,t,n){if(jD.randomUUID&&!t&&!e)return jD.randomUUID();e=e||{};const r=e.random||(e.rng||Jie)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return ese(r)}function rse(){var v;const e=Oi(),[t,n]=Px(),r=ua(),[i,o]=x.useState(t.get("room")||((v=e==null?void 0:e.state)==null?void 0:v.RoomId)||""),[a,c]=x.useState(""),[u,p]=x.useState(!1),h=async w=>{if(w.preventDefault(),!a){In.error("Enter User Name");return}if(!i){In.error("Enter Room Id");return}console.log(i),p(!0);let S={method:"POST",url:`${Ws}/Room`,withCredentials:!0,data:{RoomId:i},headers:{"Content-Type":"application/x-www-form-urlencoded"}};await yu(S).then(b=>{console.log(b),b.data.Exists?In.error(b.data.message):(console.log("Room Created"),console.log("response1=>",b),r(`/room/${i}`,{state:{RoomId:i,username:a,email:b.data.Email,role:"owner"}}))}).catch(b=>{var P,R;((P=b==null?void 0:b.response)==null?void 0:P.data)=="Not logged in"&&r("/login",{state:{path:"/"}}),(R=b==null?void 0:b.response)!=null&&R.data&&In.error(b==null?void 0:b.response.data)}).finally(()=>{setTimeout(()=>{p(!1)},1500)})},g=w=>{w.preventDefault();const S=nse();o(S),In.success("Created a New Room!",{position:"top-right",duration:2e3,id:"roomid"})};return C.jsxs(C.Fragment,{children:[C.jsx(PO,{}),C.jsxs("div",{className:"Wrapper",children:[C.jsx("h1",{children:"Code Share"}),C.jsx("h5",{children:"Paste Invitation Info"}),C.jsxs("form",{className:"homeForm",children:[C.jsx("input",{value:i,onChange:w=>{o(w.target.value)},placeholder:"ROOM ID"}),C.jsx("input",{value:a,onChange:w=>{c(w.target.value)},placeholder:"USERNAME"}),C.jsx("input",{type:"submit",disabled:u,className:"success",onClick:h,value:"Join"})]}),C.jsx("p",{children:C.jsx(Xr,{onClick:g,to:"",className:"link underline",children:"Generate"})})]})]})}const Qc=x.forwardRef(({className:e,...t},n)=>C.jsx("div",{ref:n,className:Ye("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Qc.displayName="Card";const Zc=x.forwardRef(({className:e,...t},n)=>C.jsx("div",{ref:n,className:Ye("flex flex-col space-y-1.5 p-6",e),...t}));Zc.displayName="CardHeader";const N_=x.forwardRef(({className:e,...t},n)=>C.jsx("h3",{ref:n,className:Ye("text-2xl font-semibold leading-none tracking-tight",e),...t}));N_.displayName="CardTitle";const I_=x.forwardRef(({className:e,...t},n)=>C.jsx("p",{ref:n,className:Ye("text-sm text-muted-foreground",e),...t}));I_.displayName="CardDescription";const Jc=x.forwardRef(({className:e,...t},n)=>C.jsx("div",{ref:n,className:Ye("p-6 pt-0",e),...t}));Jc.displayName="CardContent";const Tm=x.forwardRef(({className:e,...t},n)=>C.jsx("div",{ref:n,className:Ye("flex items-center p-6 pt-0",e),...t}));Tm.displayName="CardFooter";var ise="Label",bF=x.forwardRef((e,t)=>C.jsx(lt.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));bF.displayName=ise;var SF=bF;const sse=vv("text-sm  font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ti=x.forwardRef(({className:e,...t},n)=>C.jsx(SF,{ref:n,className:Ye(sse(),e),...t}));Ti.displayName=SF.displayName;function ose(){const e=Oi(),t=ua(),[n,r]=x.useState(""),[i,o]=x.useState(""),[a,c]=x.useState(!1),[u,p]=x.useState(""),h=async g=>{var w,S,b,P;g.preventDefault(),c(!0),p("");let v={method:"post",url:`${Ws}/Login`,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{Email:n,Password:i}};try{const R=await yu(v);R.status==200&&R.data.message=="Authentication successful"&&setTimeout(()=>{var _;t(`${(_=e.state)!=null&&_.RoomId?`/home?room=${e.state.RoomId}`:"/home"}`,{state:e.state})},200),console.log(R),console.log("Login successful!")}catch(R){console.error((S=(w=R==null?void 0:R.response)==null?void 0:w.data)==null?void 0:S.message),p((P=(b=R==null?void 0:R.response)==null?void 0:b.data)==null?void 0:P.message)}finally{c(!1)}};return C.jsxs(Qc,{className:"m-auto max-w-sm",children:[C.jsxs(Zc,{children:[C.jsx(N_,{className:"text-2xl",children:"Log In"}),C.jsx(I_,{children:"Enter your details below to Login"})]}),C.jsxs(Jc,{children:[u&&C.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u}),C.jsxs("div",{className:"grid gap-4",children:[C.jsxs("div",{className:"grid gap-2",children:[C.jsx(Ti,{htmlFor:"email",children:"Username"}),C.jsx(Fr,{id:"Username",type:"text",onChange:g=>{r(g.target.value)},placeholder:"m@example.com",required:!0})]}),C.jsxs("div",{className:"grid gap-2",children:[C.jsx("div",{className:"flex items-center",children:C.jsx(Ti,{htmlFor:"password",children:"Password"})}),C.jsx(Fr,{id:"password",type:"password",onChange:g=>{o(g.target.value)},required:!0})]}),C.jsx(Gt,{type:"button",className:"w-full",disabled:a,onClick:h,children:a?C.jsxs("div",{className:"flex items-center justify-center",children:[C.jsx(ase,{className:"w-5 h-5 animate-spin"}),C.jsx("span",{className:"ml-2",children:"Logging In..."})]}):"Login"})]}),C.jsxs("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",C.jsx(Xr,{to:"/Signup",className:"underline",children:"Signup"})]})]})]})}function ase(e){return C.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M12 2v4"}),C.jsx("path",{d:"m16.2 7.8 2.9-2.9"}),C.jsx("path",{d:"M18 12h4"}),C.jsx("path",{d:"m16.2 16.2 2.9 2.9"}),C.jsx("path",{d:"M12 18v4"}),C.jsx("path",{d:"m4.9 19.1 2.9-2.9"}),C.jsx("path",{d:"M2 12h4"}),C.jsx("path",{d:"m4.9 4.9 2.9 2.9"})]})}function lse(){Oi();const[e,t]=x.useState(""),[n,r]=x.useState(""),[i,o]=x.useState(""),[a,c]=x.useState(""),[u,p]=x.useState(!1),[h,g]=x.useState(!1),[v,w]=x.useState(""),S=ua(),b=async P=>{P.preventDefault();try{if(!e||!a||!n){w("All fields are required");return}if(n!==i){w("Passwords should match!");return}w(""),g(!0);let R={method:"post",url:`${Ws}/Signup`,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{Email:a,Username:e,Password:i}};const _=await yu(R);(_.status==200||_.data.message=="Profile Created Successfully!")&&(g(!1),S("/"))}catch(R){R.response&&R.response.data&&R.response.data.message?w(R.response.data.message):w(R.message)}finally{g(!1)}};return C.jsxs(Qc,{className:"mx-auto max-w-sm",children:[C.jsxs(Zc,{children:[C.jsx(N_,{className:"text-2xl",children:"Sign Up"}),C.jsx(I_,{children:"Enter your details below to create a new account"})]}),C.jsxs(Jc,{children:[v&&C.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:v}),C.jsxs("div",{className:"grid gap-4",children:[C.jsxs("div",{className:"grid gap-2",children:[C.jsx(Ti,{htmlFor:"name",children:"Name"}),C.jsx(Fr,{id:"name",placeholder:"John Doe",value:e,onChange:P=>{t(P.target.value)},required:!0})]}),C.jsxs("div",{className:"grid gap-2",children:[C.jsx(Ti,{htmlFor:"email",children:"Email"}),C.jsx(Fr,{id:"email",type:"email",value:a,onChange:P=>{c(P.target.value)},placeholder:"m@example.com",required:!0})]}),C.jsxs("div",{className:"grid gap-2",children:[C.jsx("div",{className:"flex items-center",children:C.jsx(Ti,{htmlFor:"password",children:"Password"})}),C.jsx(Fr,{id:"password",type:"text",value:n,onChange:P=>{r(P.target.value)},required:!0})]}),C.jsxs("div",{className:"grid gap-2",children:[C.jsx("div",{className:"flex items-center",children:C.jsx(Ti,{htmlFor:"confirm-password",children:"Confirm Password"})}),C.jsx(Fr,{id:"confirm-password",type:"password",value:i,onChange:P=>{o(P.target.value)},required:!0})]}),C.jsx(Gt,{type:"submit",className:"w-full",disabled:u||h,onClick:b,children:h?C.jsxs("div",{className:"flex items-center justify-center",children:[C.jsx(cse,{className:"w-5 h-5 animate-spin"}),C.jsx("span",{className:"ml-2",children:"Signing Up..."})]}):"Sign Up"})]}),C.jsxs("div",{className:"mt-4 text-center text-sm",children:["Already have an account?"," ",C.jsx(Xr,{to:"/login",className:"underline",children:"Login"})]})]})]})}function cse(e){return C.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M12 2v4"}),C.jsx("path",{d:"m16.2 7.8 2.9-2.9"}),C.jsx("path",{d:"M18 12h4"}),C.jsx("path",{d:"m16.2 16.2 2.9 2.9"}),C.jsx("path",{d:"M12 18v4"}),C.jsx("path",{d:"m4.9 19.1 2.9-2.9"}),C.jsx("path",{d:"M2 12h4"}),C.jsx("path",{d:"m4.9 4.9 2.9 2.9"})]})}const FD=({children:e,redirectPath:t="/"})=>{const[n,r]=x.useState(null);return x.useEffect(()=>{yu.get(`${Ws}/api/auth/verify`,{withCredentials:!0}).then(i=>{i.data.loggedIn?r(!0):r(!1)}).catch(()=>r(!1))},[]),n===null?C.jsx("div",{children:"Loading..."}):n?C.jsx(uO,{to:t}):e};var j_="Avatar",[use,Ise]=ds(j_),[dse,xF]=use(j_),_F=x.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,o]=x.useState("idle");return C.jsx(dse,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:C.jsx(lt.span,{...r,ref:t})})});_F.displayName=j_;var CF="AvatarImage",RF=x.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...o}=e,a=xF(CF,n),c=fse(r),u=xn(p=>{i(p),a.onImageLoadingStatusChange(p)});return Hn(()=>{c!=="idle"&&u(c)},[c,u]),c==="loaded"?C.jsx(lt.img,{...o,ref:t,src:r}):null});RF.displayName=CF;var TF="AvatarFallback",EF=x.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,o=xF(TF,n),[a,c]=x.useState(r===void 0);return x.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(u)}},[r]),a&&o.imageLoadingStatus!=="loaded"?C.jsx(lt.span,{...i,ref:t}):null});EF.displayName=TF;function fse(e){const[t,n]=x.useState("idle");return Hn(()=>{if(!e){n("error");return}let r=!0;const i=new window.Image,o=a=>()=>{r&&n(a)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=e,()=>{r=!1}},[e]),t}var PF=_F,kF=RF,DF=EF;const Em=x.forwardRef(({className:e,...t},n)=>C.jsx(PF,{ref:n,className:Ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Em.displayName=PF.displayName;const Pm=x.forwardRef(({className:e,...t},n)=>C.jsx(kF,{ref:n,className:Ye("aspect-square h-full w-full",e),...t}));Pm.displayName=kF.displayName;const km=x.forwardRef(({className:e,...t},n)=>C.jsx(DF,{ref:n,className:Ye("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));km.displayName=DF.displayName;const pse=vv("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function x0({className:e,variant:t,...n}){return C.jsx("div",{className:Ye(pse({variant:t}),e),...n})}const BD=S1,$D=x1,hse=_1,LF=x.forwardRef(({className:e,...t},n)=>C.jsx(lp,{ref:n,className:Ye("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));LF.displayName=lp.displayName;const _S=x.forwardRef(({className:e,children:t,...n},r)=>C.jsxs(hse,{children:[C.jsx(LF,{}),C.jsxs(cp,{ref:r,className:Ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,C.jsxs(Cv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[C.jsx(TN,{className:"h-4 w-4"}),C.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_S.displayName=cp.displayName;const CS=({className:e,...t})=>C.jsx("div",{className:Ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});CS.displayName="DialogHeader";const RS=({className:e,...t})=>C.jsx("div",{className:Ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});RS.displayName="DialogFooter";const TS=x.forwardRef(({className:e,...t},n)=>C.jsx(up,{ref:n,className:Ye("text-lg font-semibold leading-none tracking-tight",e),...t}));TS.displayName=up.displayName;const ES=x.forwardRef(({className:e,...t},n)=>C.jsx(dp,{ref:n,className:Ye("text-sm text-muted-foreground",e),...t}));ES.displayName=dp.displayName;function mse(){var U,G;const e=Oi(),t=ua(),[n,r]=Px(""),[i,o]=x.useState(n.get("room")||((U=e==null?void 0:e.state)==null?void 0:U.RoomId)||""),[a,c]=x.useState(((G=e==null?void 0:e.state)==null?void 0:G.username)||""),[u,p]=x.useState(!1),[h,g]=x.useState(""),[v,w]=x.useState(""),[S,b]=x.useState(!1),[P,R]=x.useState(!1),[_,k]=x.useState(!1),[E,N]=x.useState(!1);x.useEffect(()=>{const Q=n.get("room");console.log("query=>",Q),Q&&(R(ie=>!ie),o(Q))},[n]);const F=async Q=>{if(Q.preventDefault(),!a){w("Enter User Name");return}if(!i){w("Enter Room Id");return}console.log(i),p(!0);let ie={method:"POST",url:`${Ws}/Room`,withCredentials:!0,data:{RoomId:i},headers:{"Content-Type":"application/x-www-form-urlencoded"}};await yu(ie).then(Y=>{console.log(Y),Y.data.Exists?w(Y.data.message):(console.log("Room Created"),console.log("response1=>",Y),t(`/room/${i}`,{state:{RoomId:i,username:a,email:Y.data.Email,role:"owner"}}))}).catch(Y=>{var z,V;((z=Y==null?void 0:Y.response)==null?void 0:z.data)=="Not logged in"&&setTimeout(()=>{t("/login",{state:{path:"/",RoomId:i}})},900),(V=Y==null?void 0:Y.response)!=null&&V.data&&w(Y==null?void 0:Y.response.data)}).finally(()=>{setTimeout(()=>{p(!1)},1500)})},B=async Q=>{if(Q.preventDefault(),g(""),!i){g("Enter Room Id");return}if(!a){g("Enter User Name");return}p(!0),console.log(i),console.log(a);var ie={method:"POST",url:`${Ws}/Room`,withCredentials:!0,data:{RoomId:i},headers:{"Content-Type":"application/x-www-form-urlencoded"}};await yu(ie).then(Y=>{Y.data.Exists?t(`/room/${i}`,{state:{RoomId:i,username:a,role:"member"}}):(g(Y.data.message),Y.data.Exists||setTimeout(()=>{N(z=>!z)},600))}).catch(Y=>{var V,O,X;console.log(Y);const z=((O=(V=Y.response)==null?void 0:V.data)==null?void 0:O.message)||((X=Y.response)==null?void 0:X.data)||Y.message;z=="Not logged in"?(g("You need to Log in First!"),setTimeout(()=>{t("/Login",{state:{path:"/",RoomId:i,username:a}})},900)):g(`${z}`)}).finally(()=>{setTimeout(()=>{p(!1)},1500)})};return x.useEffect(()=>{console.log(P)},[P]),C.jsxs("div",{className:"flex flex-col min-h-[100dvh]",children:[C.jsxs("header",{className:"fixed w-full px-4 lg:px-6 h-14 flex items-center backdrop-blur",children:[C.jsxs(Xr,{to:"#",className:"flex items-center justify-center",children:[C.jsx(yse,{className:"h-6 w-6"}),C.jsx("span",{className:"sr-only",children:"Acme Collaboration"})]}),C.jsxs("nav",{className:"ml-auto flex gap-4 sm:gap-6",children:[C.jsx(Xr,{to:"#",className:"text-sm font-medium hover:underline underline-offset-4",children:"Explore"}),C.jsx(Xr,{to:"#",className:"text-sm font-medium hover:underline underline-offset-4",children:"About"}),C.jsx(Xr,{to:"#",className:"text-sm font-medium hover:underline underline-offset-4",children:"Contact"})]})]}),C.jsxs("main",{className:"flex-1",children:[C.jsx("section",{className:"w-full py-12 md:py-24 lg:py-32",children:C.jsx("div",{className:"container px-4 md:px-6",children:C.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_400px] lg:gap-12 xl:grid-cols-[1fr_600px]",children:[C.jsxs("div",{className:"flex flex-col justify-center space-y-4",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx("h1",{className:"text-3xl font-bold tracking-tighter sm:text-5xl xl:text-6xl/none",children:"Collaborate with your whole team, seamlessly."}),C.jsx("p",{className:"max-w-[600px] text-muted-foreground md:text-xl",children:"Create or join virtual rooms to code, chat, and execute projects together in real-time."})]}),C.jsxs("div",{className:"flex flex-col gap-2 min-[400px]:flex-row",children:[C.jsxs(BD,{open:P,onOpenChange:R,children:[C.jsx(_N,{open:E,onOpenChange:N,children:C.jsxs(C1,{children:[C.jsxs(R1,{children:[C.jsxs(E1,{children:["`You want to create a new room '",i,"' ?"]}),C.jsxs(P1,{children:["Room ",i," doesn't exists, want to create one?"]})]}),C.jsxs(T1,{children:[C.jsx(D1,{children:"Cancel"}),C.jsx(k1,{onClick:Q=>{F(Q)},children:"Continue"})]})]})}),C.jsx($D,{children:C.jsx(Gt,{className:"inline-flex h-10 items-center justify-center rounded-md bg-primary px-8 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 hover:text-primary-foreground/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",variant:"outline",children:"Join"})}),C.jsxs(_S,{className:"sm:max-w-[425px]",children:[C.jsxs(CS,{children:[C.jsx(TS,{children:"Join Room"}),C.jsx(ES,{children:"Enter Room Name and Username to join room!"})]}),h&&C.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:h}),C.jsxs("div",{className:"grid gap-4 py-4",children:[C.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[C.jsx(Ti,{htmlFor:"name",className:"text-right",children:"Room"}),C.jsx(Fr,{id:"name",onChange:Q=>{o(Q.target.value)},value:i,placeholder:"Reactjs",className:"col-span-3"})]}),C.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[C.jsx(Ti,{htmlFor:"username",className:"text-right",children:"Username"}),C.jsx(Fr,{id:"username",onChange:Q=>{c(Q.target.value)},placeholder:"@pedro",className:"col-span-3"})]})]}),C.jsx(RS,{children:C.jsx(Gt,{type:"button",onClick:B,className:"inline-flex h-10 items-center justify-center rounded-md border border-input bg-primary px-8 text-sm font-medium shadow-sm text-primary-foreground transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",disabled:S,children:S?C.jsxs("div",{className:"flex items-center justify-center",children:[C.jsx(bse,{className:"w-5 h-5 animate-spin"}),C.jsx("span",{className:"ml-2",children:"Creating..."})]}):"Join"})})]})]}),C.jsxs(BD,{open:_,onOpenChange:k,children:[C.jsx($D,{asChild:!0,children:C.jsx(Gt,{className:"inline-flex h-10 items-center justify-center rounded-md border border-input bg-background px-8 text-sm font-medium shadow-sm transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",variant:"outline",children:"Create"})}),C.jsxs(_S,{className:"sm:max-w-[425px]",children:[C.jsxs(CS,{children:[C.jsx(TS,{children:"Create Room"}),C.jsx(ES,{children:"Enter Name and Username to create room!"})]}),v&&C.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:v}),C.jsxs("div",{className:"grid gap-4 py-4",children:[C.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[C.jsx(Ti,{htmlFor:"name",className:"text-right",children:"Room"}),C.jsx(Fr,{id:"name",value:i,onChange:Q=>{o(Q.target.value)},placeholder:"Reactjs",className:"col-span-3"})]}),C.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[C.jsx(Ti,{htmlFor:"username",className:"text-right",children:"Username"}),C.jsx(Fr,{id:"username",onChange:Q=>{c(Q.target.value)},placeholder:"@pedro",className:"col-span-3"})]})]}),C.jsx(RS,{children:C.jsx(Gt,{type:"submit",onClick:F,className:"inline-flex h-10 items-center justify-center rounded-md border border-input bg-primary px-8 text-sm font-medium shadow-sm text-primary-foreground transition-colors hover:bg-accent hover:text-accent-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",children:"Create!"})})]})]})]})]}),C.jsx("img",{src:"https://www.curiosityquench.com/_next/image?url=https%3A%2F%2Flh3.googleusercontent.com%2Fpw%2FAP1GczNTV486nBxfzYRbsNETqPVqAFhfH9zBypOZpu775N6bvwA8Bq1dJk2ZcW3STY8vCkp0DoCMHmYdtr_GQOtjUJZfVGIqAOb6Q5UybQLXuXkzD21f-LYVtkkXDGENxH9rlj4fnyYfG_AT-V34HmkT5TOt%3Dw945-h968-s-no-gm%3Fauthuser%3D0&w=640&q=75",width:"550",height:"550",alt:"Hero",className:"mx-auto aspect-video overflow-hidden rounded-xl object-bottom sm:w-full lg:order-last lg:aspect-square"})]})})}),C.jsx("section",{className:"w-full py-12 md:py-24 md:flex justify-center  lg:py-32 ",children:C.jsxs("div",{className:"container px-4 md:px-6",children:[C.jsx("div",{className:"flex flex-col items-center justify-center space-y-4 text-center",children:C.jsxs("div",{className:"space-y-2",children:[C.jsx("div",{className:"inline-block rounded-lg text-muted-foreground px-3 py-1 text-sm",children:"Key Features"}),C.jsx("h2",{className:"text-3xl font-bold tracking-tighter text-primary-foreground sm:text-5xl",children:"Collaborate with ease"}),C.jsx("p",{className:"max-w-[900px] text-muted-foreground md:text-xl/relaxed lg:text-base/relaxed xl:text-xl/relaxed",children:"Our platform provides the tools you need to work together seamlessly, from real-time coding to live chat and code execution."})]})}),C.jsxs("div",{className:"mx-auto grid max-w-5xl items-center gap-6 py-12 lg:grid-cols-3 lg:gap-12",children:[C.jsxs("div",{className:"grid gap-1",children:[C.jsx(gse,{className:"w-8 h-8 text-primary-foreground "}),C.jsx("h3",{className:"text-xl font-bold text-primary-foreground",children:"Real-time Coding"}),C.jsx("p",{className:"text-muted-foreground",children:"Collaborate on code in real-time, with instant updates and version control."})]}),C.jsxs("div",{className:"grid gap-1",children:[C.jsx(vse,{className:"w-8 h-8 text-primary-foreground"}),C.jsx("h3",{className:"text-xl font-bold text-primary-foreground",children:"Live Chat"}),C.jsx("p",{className:"text-muted-foreground",children:"Communicate with your team through our built-in chat functionality."})]}),C.jsxs("div",{className:"grid gap-1",children:[C.jsx(wse,{className:"w-8 h-8 text-primary-foreground"}),C.jsx("h3",{className:"text-xl font-bold text-primary-foreground",children:"Code Execution"}),C.jsx("p",{className:"text-muted-foreground",children:"Run and test your code directly within the platform."})]})]})]})}),C.jsx("section",{className:"w-full py-12 md:py-24 md:flex justify-center lg:py-32",children:C.jsxs("div",{className:"container px-4 md:px-6",children:[C.jsx("div",{className:"flex flex-col items-center justify-center space-y-4 text-center",children:C.jsxs("div",{className:"space-y-2",children:[C.jsx("div",{className:"inline-block rounded-lg bg-muted px-3 py-1 text-sm",children:"Explore"}),C.jsx("h2",{className:"text-3xl font-bold tracking-tighter sm:text-5xl",children:"Join public rooms"}),C.jsx("p",{className:"max-w-[900px] text-muted-foreground md:text-xl/relaxed lg:text-base/relaxed xl:text-xl/relaxed",children:"Browse and join public rooms to collaborate with developers around the world."})]})}),C.jsxs("div",{className:"mx-auto grid max-w-5xl items-center gap-6 py-12 lg:grid-cols-3 lg:gap-12",children:[C.jsxs(Qc,{className:"border-0 rounded-none shadow-none",children:[C.jsxs(Zc,{className:"flex flex-row items-center p-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[C.jsxs(Em,{className:"w-8 h-8 border",children:[C.jsx(Pm,{src:"/placeholder-user.jpg",alt:"@shadcn"}),C.jsx(km,{children:"AC"})]}),"React Developers"]}),C.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[C.jsx(x0,{variant:"secondary",children:"Public"}),C.jsx(Gt,{variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full",children:C.jsx(_0,{className:"w-4 h-4"})})]})]}),C.jsx(Jc,{children:C.jsx("p",{className:"text-muted-foreground",children:"Collaborate on React projects and share best practices."})}),C.jsxs(Tm,{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[C.jsx(C0,{className:"w-4 h-4"}),C.jsx("span",{children:"24 members"})]}),C.jsx(Xr,{to:"#",className:"inline-flex h-8 items-center justify-center rounded-md bg-primary px-4 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",children:"Join"})]})]}),C.jsxs(Qc,{className:"border-0 rounded-none shadow-none",children:[C.jsxs(Zc,{className:"flex flex-row items-center p-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[C.jsxs(Em,{className:"w-8 h-8 border",children:[C.jsx(Pm,{src:"/placeholder-user.jpg",alt:"@shadcn"}),C.jsx(km,{children:"AC"})]}),"Python Enthusiasts"]}),C.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[C.jsx(x0,{variant:"secondary",children:"Public"}),C.jsx(Gt,{variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full",children:C.jsx(_0,{className:"w-4 h-4"})})]})]}),C.jsx(Jc,{children:C.jsx("p",{className:"text-muted-foreground",children:"Discuss Python best practices and work on projects together."})}),C.jsxs(Tm,{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[C.jsx(C0,{className:"w-4 h-4"}),C.jsx("span",{children:"18 members"})]}),C.jsx(Xr,{to:"#",className:"inline-flex h-8 items-center justify-center rounded-md bg-primary px-4 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",children:"Join"})]})]}),C.jsxs(Qc,{className:"border-0 rounded-none shadow-none",children:[C.jsxs(Zc,{className:"flex flex-row items-center p-4",children:[C.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold",children:[C.jsxs(Em,{className:"w-8 h-8 border",children:[C.jsx(Pm,{src:"/placeholder-user.jpg",alt:"@shadcn"}),C.jsx(km,{children:"AC"})]}),"JavaScript Coders"]}),C.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[C.jsx(x0,{variant:"secondary",children:"Public"}),C.jsx(Gt,{variant:"ghost",size:"icon",className:"w-8 h-8 rounded-full",children:C.jsx(_0,{className:"w-4 h-4"})})]})]}),C.jsx(Jc,{children:C.jsx("p",{className:"text-muted-foreground",children:"Discuss the latest JavaScript trends and build projects together."})}),C.jsxs(Tm,{className:"flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[C.jsx(C0,{className:"w-4 h-4"}),C.jsx("span",{children:"32 members"})]}),C.jsx(Xr,{to:"#",className:"inline-flex h-8 items-center justify-center rounded-md bg-primary px-4 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",children:"Join"})]})]})]})]})})]}),C.jsxs("footer",{className:"flex flex-col gap-2 sm:flex-row py-6 w-full shrink-0 items-center px-4 md:px-6 border-t",children:[C.jsx("p",{className:"text-xs text-muted-foreground",children:"© 2024 Acme Collaboration. All rights reserved."}),C.jsxs("nav",{className:"sm:ml-auto flex gap-4 sm:gap-6",children:[C.jsx(Xr,{to:"#",className:"text-xs hover:underline underline-offset-4",children:"Terms of Service"}),C.jsx(Xr,{to:"#",className:"text-xs hover:underline underline-offset-4",children:"Privacy"})]})]})]})}function gse(e){return C.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("polyline",{points:"16 18 22 12 16 6"}),C.jsx("polyline",{points:"8 6 2 12 8 18"})]})}function vse(e){return C.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"})})}function yse(e){return C.jsx("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("path",{d:"m8 3 4 8 5-5 5 15H2L8 3z"})})}function _0(e){return C.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M5 12h14"}),C.jsx("path",{d:"M12 5v14"})]})}function wse(e){return C.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("polyline",{points:"4 17 10 11 4 5"}),C.jsx("line",{x1:"12",x2:"20",y1:"19",y2:"19"})]})}function C0(e){return C.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),C.jsx("circle",{cx:"9",cy:"7",r:"4"}),C.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),C.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}function bse(e){return C.jsxs("svg",{...e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M12 2v4"}),C.jsx("path",{d:"m16.2 7.8 2.9-2.9"}),C.jsx("path",{d:"M18 12h4"}),C.jsx("path",{d:"m16.2 16.2 2.9 2.9"}),C.jsx("path",{d:"M12 18v4"}),C.jsx("path",{d:"m4.9 19.1 2.9-2.9"}),C.jsx("path",{d:"M2 12h4"}),C.jsx("path",{d:"m4.9 4.9 2.9 2.9"})]})}function Sse(){return C.jsx(ez,{children:C.jsxs(G6,{children:[C.jsx(Co,{path:"/",element:C.jsx(uO,{to:"/home"})}),C.jsx(Co,{path:"/room/:RoomId",element:C.jsx(Ore,{})}),C.jsx(Co,{path:"/Login",element:C.jsx(FD,{children:C.jsx(ose,{})})}),C.jsx(Co,{path:"/Signup",element:C.jsx(FD,{children:C.jsx(lse,{})})}),C.jsx(Co,{path:"/Account"}),C.jsx(Co,{path:"/Create",element:C.jsx(rse,{})}),C.jsx(Co,{path:"/Home",element:C.jsx(mse,{})})]})})}const xse={theme:"system",setTheme:()=>null},_se=x.createContext(xse);function Cse({children:e,defaultTheme:t="dark",storageKey:n="vite-ui-theme",...r}){const[i,o]=x.useState(()=>localStorage.getItem(n)||t);x.useEffect(()=>{const c=window.document.documentElement;if(c.classList.remove("light","dark"),i==="system"){const u=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";c.classList.add(u);return}c.classList.add(i)},[i]);const a={theme:i,setTheme:c=>{localStorage.setItem(n,c),o(c)}};return C.jsx(_se.Provider,{...r,value:a,children:e})}tO(document.getElementById("root")).render(C.jsx(Cse,{children:C.jsx(Sse,{})}));
